function vP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function QT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yp={exports:{}},Du={},Qp={exports:{}},yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw;function yP(){if(sw)return yt;sw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.iterator;function v(W){return W===null||typeof W!="object"?null:(W=x&&W[x]||W["@@iterator"],typeof W=="function"?W:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,w={};function N(W,V,Y){this.props=W,this.context=V,this.refs=w,this.updater=Y||_}N.prototype.isReactComponent={},N.prototype.setState=function(W,V){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,V,"setState")},N.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function M(){}M.prototype=N.prototype;function j(W,V,Y){this.props=W,this.context=V,this.refs=w,this.updater=Y||_}var O=j.prototype=new M;O.constructor=j,A(O,N.prototype),O.isPureReactComponent=!0;var z=Array.isArray,ne=Object.prototype.hasOwnProperty,re={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function T(W,V,Y){var X,J={},fe=null,Ie=null;if(V!=null)for(X in V.ref!==void 0&&(Ie=V.ref),V.key!==void 0&&(fe=""+V.key),V)ne.call(V,X)&&!P.hasOwnProperty(X)&&(J[X]=V[X]);var Z=arguments.length-2;if(Z===1)J.children=Y;else if(1<Z){for(var ge=Array(Z),pe=0;pe<Z;pe++)ge[pe]=arguments[pe+2];J.children=ge}if(W&&W.defaultProps)for(X in Z=W.defaultProps,Z)J[X]===void 0&&(J[X]=Z[X]);return{$$typeof:t,type:W,key:fe,ref:Ie,props:J,_owner:re.current}}function b(W,V){return{$$typeof:t,type:W.type,key:V,ref:W.ref,props:W.props,_owner:W._owner}}function R(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function I(W){var V={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(Y){return V[Y]})}var L=/\/+/g;function k(W,V){return typeof W=="object"&&W!==null&&W.key!=null?I(""+W.key):V.toString(36)}function Ae(W,V,Y,X,J){var fe=typeof W;(fe==="undefined"||fe==="boolean")&&(W=null);var Ie=!1;if(W===null)Ie=!0;else switch(fe){case"string":case"number":Ie=!0;break;case"object":switch(W.$$typeof){case t:case e:Ie=!0}}if(Ie)return Ie=W,J=J(Ie),W=X===""?"."+k(Ie,0):X,z(J)?(Y="",W!=null&&(Y=W.replace(L,"$&/")+"/"),Ae(J,V,Y,"",function(pe){return pe})):J!=null&&(R(J)&&(J=b(J,Y+(!J.key||Ie&&Ie.key===J.key?"":(""+J.key).replace(L,"$&/")+"/")+W)),V.push(J)),1;if(Ie=0,X=X===""?".":X+":",z(W))for(var Z=0;Z<W.length;Z++){fe=W[Z];var ge=X+k(fe,Z);Ie+=Ae(fe,V,Y,ge,J)}else if(ge=v(W),typeof ge=="function")for(W=ge.call(W),Z=0;!(fe=W.next()).done;)fe=fe.value,ge=X+k(fe,Z++),Ie+=Ae(fe,V,Y,ge,J);else if(fe==="object")throw V=String(W),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return Ie}function Ce(W,V,Y){if(W==null)return W;var X=[],J=0;return Ae(W,X,"","",function(fe){return V.call(Y,fe,J++)}),X}function Ue(W){if(W._status===-1){var V=W._result;V=V(),V.then(function(Y){(W._status===0||W._status===-1)&&(W._status=1,W._result=Y)},function(Y){(W._status===0||W._status===-1)&&(W._status=2,W._result=Y)}),W._status===-1&&(W._status=0,W._result=V)}if(W._status===1)return W._result.default;throw W._result}var Re={current:null},ae={transition:null},_e={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:ae,ReactCurrentOwner:re};function Ee(){throw Error("act(...) is not supported in production builds of React.")}return yt.Children={map:Ce,forEach:function(W,V,Y){Ce(W,function(){V.apply(this,arguments)},Y)},count:function(W){var V=0;return Ce(W,function(){V++}),V},toArray:function(W){return Ce(W,function(V){return V})||[]},only:function(W){if(!R(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},yt.Component=N,yt.Fragment=n,yt.Profiler=s,yt.PureComponent=j,yt.StrictMode=r,yt.Suspense=h,yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e,yt.act=Ee,yt.cloneElement=function(W,V,Y){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var X=A({},W.props),J=W.key,fe=W.ref,Ie=W._owner;if(V!=null){if(V.ref!==void 0&&(fe=V.ref,Ie=re.current),V.key!==void 0&&(J=""+V.key),W.type&&W.type.defaultProps)var Z=W.type.defaultProps;for(ge in V)ne.call(V,ge)&&!P.hasOwnProperty(ge)&&(X[ge]=V[ge]===void 0&&Z!==void 0?Z[ge]:V[ge])}var ge=arguments.length-2;if(ge===1)X.children=Y;else if(1<ge){Z=Array(ge);for(var pe=0;pe<ge;pe++)Z[pe]=arguments[pe+2];X.children=Z}return{$$typeof:t,type:W.type,key:J,ref:fe,props:X,_owner:Ie}},yt.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:i,_context:W},W.Consumer=W},yt.createElement=T,yt.createFactory=function(W){var V=T.bind(null,W);return V.type=W,V},yt.createRef=function(){return{current:null}},yt.forwardRef=function(W){return{$$typeof:u,render:W}},yt.isValidElement=R,yt.lazy=function(W){return{$$typeof:m,_payload:{_status:-1,_result:W},_init:Ue}},yt.memo=function(W,V){return{$$typeof:f,type:W,compare:V===void 0?null:V}},yt.startTransition=function(W){var V=ae.transition;ae.transition={};try{W()}finally{ae.transition=V}},yt.unstable_act=Ee,yt.useCallback=function(W,V){return Re.current.useCallback(W,V)},yt.useContext=function(W){return Re.current.useContext(W)},yt.useDebugValue=function(){},yt.useDeferredValue=function(W){return Re.current.useDeferredValue(W)},yt.useEffect=function(W,V){return Re.current.useEffect(W,V)},yt.useId=function(){return Re.current.useId()},yt.useImperativeHandle=function(W,V,Y){return Re.current.useImperativeHandle(W,V,Y)},yt.useInsertionEffect=function(W,V){return Re.current.useInsertionEffect(W,V)},yt.useLayoutEffect=function(W,V){return Re.current.useLayoutEffect(W,V)},yt.useMemo=function(W,V){return Re.current.useMemo(W,V)},yt.useReducer=function(W,V,Y){return Re.current.useReducer(W,V,Y)},yt.useRef=function(W){return Re.current.useRef(W)},yt.useState=function(W){return Re.current.useState(W)},yt.useSyncExternalStore=function(W,V,Y){return Re.current.useSyncExternalStore(W,V,Y)},yt.useTransition=function(){return Re.current.useTransition()},yt.version="18.3.1",yt}var iw;function Ux(){return iw||(iw=1,Qp.exports=yP()),Qp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw;function _P(){if(aw)return Du;aw=1;var t=Ux(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(u,h,f){var m,x={},v=null,_=null;f!==void 0&&(v=""+f),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(_=h.ref);for(m in h)r.call(h,m)&&!i.hasOwnProperty(m)&&(x[m]=h[m]);if(u&&u.defaultProps)for(m in h=u.defaultProps,h)x[m]===void 0&&(x[m]=h[m]);return{$$typeof:e,type:u,key:v,ref:_,props:x,_owner:s.current}}return Du.Fragment=n,Du.jsx=o,Du.jsxs=o,Du}var ow;function wP(){return ow||(ow=1,Yp.exports=_P()),Yp.exports}var c=wP(),ee=Ux();const Sc=QT(ee),EP=vP({__proto__:null,default:Sc},[ee]);var Jp={exports:{}},Lr={},Zp={exports:{}},eg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lw;function TP(){return lw||(lw=1,function(t){function e(ae,_e){var Ee=ae.length;ae.push(_e);e:for(;0<Ee;){var W=Ee-1>>>1,V=ae[W];if(0<s(V,_e))ae[W]=_e,ae[Ee]=V,Ee=W;else break e}}function n(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var _e=ae[0],Ee=ae.pop();if(Ee!==_e){ae[0]=Ee;e:for(var W=0,V=ae.length,Y=V>>>1;W<Y;){var X=2*(W+1)-1,J=ae[X],fe=X+1,Ie=ae[fe];if(0>s(J,Ee))fe<V&&0>s(Ie,J)?(ae[W]=Ie,ae[fe]=Ee,W=fe):(ae[W]=J,ae[X]=Ee,W=X);else if(fe<V&&0>s(Ie,Ee))ae[W]=Ie,ae[fe]=Ee,W=fe;else break e}}return _e}function s(ae,_e){var Ee=ae.sortIndex-_e.sortIndex;return Ee!==0?Ee:ae.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var h=[],f=[],m=1,x=null,v=3,_=!1,A=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(ae){for(var _e=n(f);_e!==null;){if(_e.callback===null)r(f);else if(_e.startTime<=ae)r(f),_e.sortIndex=_e.expirationTime,e(h,_e);else break;_e=n(f)}}function z(ae){if(w=!1,O(ae),!A)if(n(h)!==null)A=!0,Ue(ne);else{var _e=n(f);_e!==null&&Re(z,_e.startTime-ae)}}function ne(ae,_e){A=!1,w&&(w=!1,M(T),T=-1),_=!0;var Ee=v;try{for(O(_e),x=n(h);x!==null&&(!(x.expirationTime>_e)||ae&&!I());){var W=x.callback;if(typeof W=="function"){x.callback=null,v=x.priorityLevel;var V=W(x.expirationTime<=_e);_e=t.unstable_now(),typeof V=="function"?x.callback=V:x===n(h)&&r(h),O(_e)}else r(h);x=n(h)}if(x!==null)var Y=!0;else{var X=n(f);X!==null&&Re(z,X.startTime-_e),Y=!1}return Y}finally{x=null,v=Ee,_=!1}}var re=!1,P=null,T=-1,b=5,R=-1;function I(){return!(t.unstable_now()-R<b)}function L(){if(P!==null){var ae=t.unstable_now();R=ae;var _e=!0;try{_e=P(!0,ae)}finally{_e?k():(re=!1,P=null)}}else re=!1}var k;if(typeof j=="function")k=function(){j(L)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,Ce=Ae.port2;Ae.port1.onmessage=L,k=function(){Ce.postMessage(null)}}else k=function(){N(L,0)};function Ue(ae){P=ae,re||(re=!0,k())}function Re(ae,_e){T=N(function(){ae(t.unstable_now())},_e)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_continueExecution=function(){A||_||(A=!0,Ue(ne))},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(ae){switch(v){case 1:case 2:case 3:var _e=3;break;default:_e=v}var Ee=v;v=_e;try{return ae()}finally{v=Ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ae,_e){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var Ee=v;v=ae;try{return _e()}finally{v=Ee}},t.unstable_scheduleCallback=function(ae,_e,Ee){var W=t.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?W+Ee:W):Ee=W,ae){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=Ee+V,ae={id:m++,callback:_e,priorityLevel:ae,startTime:Ee,expirationTime:V,sortIndex:-1},Ee>W?(ae.sortIndex=Ee,e(f,ae),n(h)===null&&ae===n(f)&&(w?(M(T),T=-1):w=!0,Re(z,Ee-W))):(ae.sortIndex=V,e(h,ae),A||_||(A=!0,Ue(ne))),ae},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(ae){var _e=v;return function(){var Ee=v;v=_e;try{return ae.apply(this,arguments)}finally{v=Ee}}}}(eg)),eg}var cw;function SP(){return cw||(cw=1,Zp.exports=TP()),Zp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uw;function bP(){if(uw)return Lr;uw=1;var t=Ux(),e=SP();function n(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(a,l){o(a,l),o(a+"Capture",l)}function o(a,l){for(s[a]=l,a=0;a<l.length;a++)r.add(l[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},x={};function v(a){return h.call(x,a)?!0:h.call(m,a)?!1:f.test(a)?x[a]=!0:(m[a]=!0,!1)}function _(a,l,d,g){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function A(a,l,d,g){if(l===null||typeof l>"u"||_(a,l,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function w(a,l,d,g,y,S,D){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=y,this.mustUseProperty=d,this.propertyName=a,this.type=l,this.sanitizeURL=S,this.removeEmptyString=D}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){N[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];N[l]=new w(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){N[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){N[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){N[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){N[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){N[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){N[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){N[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function j(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(M,j);N[l]=new w(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(M,j);N[l]=new w(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(M,j);N[l]=new w(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){N[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),N.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){N[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function O(a,l,d,g){var y=N.hasOwnProperty(l)?N[l]:null;(y!==null?y.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(A(l,d,y,g)&&(d=null),g||y===null?v(l)&&(d===null?a.removeAttribute(l):a.setAttribute(l,""+d)):y.mustUseProperty?a[y.propertyName]=d===null?y.type===3?!1:"":d:(l=y.attributeName,g=y.attributeNamespace,d===null?a.removeAttribute(l):(y=y.type,d=y===3||y===4&&d===!0?"":""+d,g?a.setAttributeNS(g,l,d):a.setAttribute(l,d))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ne=Symbol.for("react.element"),re=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),I=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),Ce=Symbol.for("react.memo"),Ue=Symbol.for("react.lazy"),Re=Symbol.for("react.offscreen"),ae=Symbol.iterator;function _e(a){return a===null||typeof a!="object"?null:(a=ae&&a[ae]||a["@@iterator"],typeof a=="function"?a:null)}var Ee=Object.assign,W;function V(a){if(W===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);W=l&&l[1]||""}return`
`+W+a}var Y=!1;function X(a,l){if(!a||Y)return"";Y=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(xe){var g=xe}Reflect.construct(a,[],l)}else{try{l.call()}catch(xe){g=xe}a.call(l.prototype)}else{try{throw Error()}catch(xe){g=xe}a()}}catch(xe){if(xe&&g&&typeof xe.stack=="string"){for(var y=xe.stack.split(`
`),S=g.stack.split(`
`),D=y.length-1,Q=S.length-1;1<=D&&0<=Q&&y[D]!==S[Q];)Q--;for(;1<=D&&0<=Q;D--,Q--)if(y[D]!==S[Q]){if(D!==1||Q!==1)do if(D--,Q--,0>Q||y[D]!==S[Q]){var se=`
`+y[D].replace(" at new "," at ");return a.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",a.displayName)),se}while(1<=D&&0<=Q);break}}}finally{Y=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?V(a):""}function J(a){switch(a.tag){case 5:return V(a.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return a=X(a.type,!1),a;case 11:return a=X(a.type.render,!1),a;case 1:return a=X(a.type,!0),a;default:return""}}function fe(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case P:return"Fragment";case re:return"Portal";case b:return"Profiler";case T:return"StrictMode";case k:return"Suspense";case Ae:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case I:return(a.displayName||"Context")+".Consumer";case R:return(a._context.displayName||"Context")+".Provider";case L:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Ce:return l=a.displayName||null,l!==null?l:fe(a.type)||"Memo";case Ue:l=a._payload,a=a._init;try{return fe(a(l))}catch{}}return null}function Ie(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(l);case 8:return l===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Z(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ge(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function pe(a){var l=ge(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),g=""+a[l];if(!a.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,S=d.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return y.call(this)},set:function(D){g=""+D,S.call(this,D)}}),Object.defineProperty(a,l,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(D){g=""+D},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Se(a){a._valueTracker||(a._valueTracker=pe(a))}function Qe(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return a&&(g=ge(a)?a.checked?"true":"false":a.value),a=g,a!==d?(l.setValue(a),!0):!1}function xt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function lt(a,l){var d=l.checked;return Ee({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??a._wrapperState.initialChecked})}function Kt(a,l){var d=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;d=Z(l.value!=null?l.value:d),a._wrapperState={initialChecked:g,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function dt(a,l){l=l.checked,l!=null&&O(a,"checked",l,!1)}function te(a,l){dt(a,l);var d=Z(l.value),g=l.type;if(d!=null)g==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?Ke(a,l.type,d):l.hasOwnProperty("defaultValue")&&Ke(a,l.type,Z(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function Le(a,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,d||l===a.value||(a.value=l),a.defaultValue=l}d=a.name,d!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,d!==""&&(a.name=d)}function Ke(a,l,d){(l!=="number"||xt(a.ownerDocument)!==a)&&(d==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}var nt=Array.isArray;function ot(a,l,d,g){if(a=a.options,l){l={};for(var y=0;y<d.length;y++)l["$"+d[y]]=!0;for(d=0;d<a.length;d++)y=l.hasOwnProperty("$"+a[d].value),a[d].selected!==y&&(a[d].selected=y),y&&g&&(a[d].defaultSelected=!0)}else{for(d=""+Z(d),l=null,y=0;y<a.length;y++){if(a[y].value===d){a[y].selected=!0,g&&(a[y].defaultSelected=!0);return}l!==null||a[y].disabled||(l=a[y])}l!==null&&(l.selected=!0)}}function Rt(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return Ee({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function as(a,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(n(92));if(nt(d)){if(1<d.length)throw Error(n(93));d=d[0]}l=d}l==null&&(l=""),d=l}a._wrapperState={initialValue:Z(d)}}function Pn(a,l){var d=Z(l.value),g=Z(l.defaultValue);d!=null&&(d=""+d,d!==a.value&&(a.value=d),l.defaultValue==null&&a.defaultValue!==d&&(a.defaultValue=d)),g!=null&&(a.defaultValue=""+g)}function os(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function qt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sn(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?qt(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Gn,vo=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,g,y){MSApp.execUnsafeLocalFunction(function(){return a(l,d,g,y)})}:a}(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(Gn=Gn||document.createElement("div"),Gn.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Gn.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function As(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ti=["Webkit","ms","Moz","O"];Object.keys(ei).forEach(function(a){ti.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),ei[l]=ei[a]})});function ga(a,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||ei.hasOwnProperty(a)&&ei[a]?(""+l).trim():l+"px"}function xa(a,l){a=a.style;for(var d in l)if(l.hasOwnProperty(d)){var g=d.indexOf("--")===0,y=ga(d,l[d],g);d==="float"&&(d="cssFloat"),g?a.setProperty(d,y):a[d]=y}}var va=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yo(a,l){if(l){if(va[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function _o(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ni=null;function Ii(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Pi=null,Pr=null,ls=null;function Cs(a){if(a=vu(a)){if(typeof Pi!="function")throw Error(n(280));var l=a.stateNode;l&&(l=Rd(l),Pi(a.stateNode,a.type,l))}}function cs(a){Pr?ls?ls.push(a):ls=[a]:Pr=a}function wo(){if(Pr){var a=Pr,l=ls;if(ls=Pr=null,Cs(a),l)for(a=0;a<l.length;a++)Cs(l[a])}}function ki(a,l){return a(l)}function Eo(){}var Is=!1;function To(a,l,d){if(Is)return a(l,d);Is=!0;try{return ki(a,l,d)}finally{Is=!1,(Pr!==null||ls!==null)&&(Eo(),wo())}}function an(a,l){var d=a.stateNode;if(d===null)return null;var g=Rd(d);if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var ya=!1;if(u)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){ya=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{ya=!1}function Ri(a,l,d,g,y,S,D,Q,se){var xe=Array.prototype.slice.call(arguments,3);try{l.apply(d,xe)}catch(ke){this.onError(ke)}}var Di=!1,_a=null,F=!1,G=null,B={onError:function(a){Di=!0,_a=a}};function H(a,l,d,g,y,S,D,Q,se){Di=!1,_a=null,Ri.apply(B,arguments)}function K(a,l,d,g,y,S,D,Q,se){if(H.apply(this,arguments),Di){if(Di){var xe=_a;Di=!1,_a=null}else throw Error(n(198));F||(F=!0,G=xe)}}function q(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function ce(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function ye(a){if(q(a)!==a)throw Error(n(188))}function ue(a){var l=a.alternate;if(!l){if(l=q(a),l===null)throw Error(n(188));return l!==a?null:a}for(var d=a,g=l;;){var y=d.return;if(y===null)break;var S=y.alternate;if(S===null){if(g=y.return,g!==null){d=g;continue}break}if(y.child===S.child){for(S=y.child;S;){if(S===d)return ye(y),a;if(S===g)return ye(y),l;S=S.sibling}throw Error(n(188))}if(d.return!==g.return)d=y,g=S;else{for(var D=!1,Q=y.child;Q;){if(Q===d){D=!0,d=y,g=S;break}if(Q===g){D=!0,g=y,d=S;break}Q=Q.sibling}if(!D){for(Q=S.child;Q;){if(Q===d){D=!0,d=S,g=y;break}if(Q===g){D=!0,g=S,d=y;break}Q=Q.sibling}if(!D)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?a:l}function de(a){return a=ue(a),a!==null?me(a):null}function me(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=me(a);if(l!==null)return l;a=a.sibling}return null}var De=e.unstable_scheduleCallback,ze=e.unstable_cancelCallback,We=e.unstable_shouldYield,Me=e.unstable_requestPaint,Oe=e.unstable_now,ct=e.unstable_getCurrentPriorityLevel,Pt=e.unstable_ImmediatePriority,Nt=e.unstable_UserBlockingPriority,Dt=e.unstable_NormalPriority,Ps=e.unstable_LowPriority,ri=e.unstable_IdlePriority,Wr=null,vn=null;function wa(a){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(Wr,a,void 0,(a.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:ud,nu=Math.log,cd=Math.LN2;function ud(a){return a>>>=0,a===0?32:31-(nu(a)/cd|0)|0}var El=64,Tl=4194304;function Ea(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function So(a,l){var d=a.pendingLanes;if(d===0)return 0;var g=0,y=a.suspendedLanes,S=a.pingedLanes,D=d&268435455;if(D!==0){var Q=D&~y;Q!==0?g=Ea(Q):(S&=D,S!==0&&(g=Ea(S)))}else D=d&~y,D!==0?g=Ea(D):S!==0&&(g=Ea(S));if(g===0)return 0;if(l!==0&&l!==g&&(l&y)===0&&(y=g&-g,S=l&-l,y>=S||y===16&&(S&4194240)!==0))return l;if((g&4)!==0&&(g|=d&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=g;0<l;)d=31-Xt(l),y=1<<d,g|=a[d],l&=~y;return g}function Nm(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ji(a,l){for(var d=a.suspendedLanes,g=a.pingedLanes,y=a.expirationTimes,S=a.pendingLanes;0<S;){var D=31-Xt(S),Q=1<<D,se=y[D];se===-1?((Q&d)===0||(Q&g)!==0)&&(y[D]=Nm(Q,l)):se<=l&&(a.expiredLanes|=Q),S&=~Q}}function Gr(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function bo(){var a=El;return El<<=1,(El&4194240)===0&&(El=64),a}function Ta(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function Sa(a,l,d){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-Xt(l),a[l]=d}function Ht(a,l){var d=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<d;){var y=31-Xt(d),S=1<<y;l[y]=0,g[y]=-1,a[y]=-1,d&=~S}}function ba(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var g=31-Xt(d),y=1<<g;y&l|a[g]&l&&(a[g]|=l),d&=~y}}var wt=0;function Na(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var hd,Sl,dd,fd,md,ru=!1,si=[],Kn=null,ks=null,Rs=null,Aa=new Map,us=new Map,ii=[],Am="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pd(a,l){switch(a){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":Aa.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":us.delete(l.pointerId)}}function kr(a,l,d,g,y,S){return a===null||a.nativeEvent!==S?(a={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:S,targetContainers:[y]},l!==null&&(l=vu(l),l!==null&&Sl(l)),a):(a.eventSystemFlags|=g,l=a.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),a)}function Cm(a,l,d,g,y){switch(l){case"focusin":return Kn=kr(Kn,a,l,d,g,y),!0;case"dragenter":return ks=kr(ks,a,l,d,g,y),!0;case"mouseover":return Rs=kr(Rs,a,l,d,g,y),!0;case"pointerover":var S=y.pointerId;return Aa.set(S,kr(Aa.get(S)||null,a,l,d,g,y)),!0;case"gotpointercapture":return S=y.pointerId,us.set(S,kr(us.get(S)||null,a,l,d,g,y)),!0}return!1}function gd(a){var l=Po(a.target);if(l!==null){var d=q(l);if(d!==null){if(l=d.tag,l===13){if(l=ce(d),l!==null){a.blockedOn=l,md(a.priority,function(){dd(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Oi(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=bl(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);ni=g,d.target.dispatchEvent(g),ni=null}else return l=vu(d),l!==null&&Sl(l),a.blockedOn=d,!1;l.shift()}return!0}function No(a,l,d){Oi(a)&&d.delete(l)}function xd(){ru=!1,Kn!==null&&Oi(Kn)&&(Kn=null),ks!==null&&Oi(ks)&&(ks=null),Rs!==null&&Oi(Rs)&&(Rs=null),Aa.forEach(No),us.forEach(No)}function Ds(a,l){a.blockedOn===l&&(a.blockedOn=null,ru||(ru=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xd)))}function js(a){function l(y){return Ds(y,a)}if(0<si.length){Ds(si[0],a);for(var d=1;d<si.length;d++){var g=si[d];g.blockedOn===a&&(g.blockedOn=null)}}for(Kn!==null&&Ds(Kn,a),ks!==null&&Ds(ks,a),Rs!==null&&Ds(Rs,a),Aa.forEach(l),us.forEach(l),d=0;d<ii.length;d++)g=ii[d],g.blockedOn===a&&(g.blockedOn=null);for(;0<ii.length&&(d=ii[0],d.blockedOn===null);)gd(d),d.blockedOn===null&&ii.shift()}var Fi=z.ReactCurrentBatchConfig,Ca=!0;function en(a,l,d,g){var y=wt,S=Fi.transition;Fi.transition=null;try{wt=1,su(a,l,d,g)}finally{wt=y,Fi.transition=S}}function Im(a,l,d,g){var y=wt,S=Fi.transition;Fi.transition=null;try{wt=4,su(a,l,d,g)}finally{wt=y,Fi.transition=S}}function su(a,l,d,g){if(Ca){var y=bl(a,l,d,g);if(y===null)Um(a,l,g,Ao,d),pd(a,g);else if(Cm(y,a,l,d,g))g.stopPropagation();else if(pd(a,g),l&4&&-1<Am.indexOf(a)){for(;y!==null;){var S=vu(y);if(S!==null&&hd(S),S=bl(a,l,d,g),S===null&&Um(a,l,g,Ao,d),S===y)break;y=S}y!==null&&g.stopPropagation()}else Um(a,l,g,null,d)}}var Ao=null;function bl(a,l,d,g){if(Ao=null,a=Ii(g),a=Po(a),a!==null)if(l=q(a),l===null)a=null;else if(d=l.tag,d===13){if(a=ce(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return Ao=a,null}function iu(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ct()){case Pt:return 1;case Nt:return 4;case Dt:case Ps:return 16;case ri:return 536870912;default:return 16}default:return 16}}var Kr=null,Nl=null,Rr=null;function au(){if(Rr)return Rr;var a,l=Nl,d=l.length,g,y="value"in Kr?Kr.value:Kr.textContent,S=y.length;for(a=0;a<d&&l[a]===y[a];a++);var D=d-a;for(g=1;g<=D&&l[d-g]===y[S-g];g++);return Rr=y.slice(a,1<g?1-g:void 0)}function Al(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function ai(){return!0}function ou(){return!1}function qn(a){function l(d,g,y,S,D){this._reactName=d,this._targetInst=y,this.type=g,this.nativeEvent=S,this.target=D,this.currentTarget=null;for(var Q in a)a.hasOwnProperty(Q)&&(d=a[Q],this[Q]=d?d(S):S[Q]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?ai:ou,this.isPropagationStopped=ou,this}return Ee(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),l}var Os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cl=qn(Os),oi=Ee({},Os,{view:0,detail:0}),Pm=qn(oi),Il,Mi,Ia,Co=Ee({},oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:li,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ia&&(Ia&&a.type==="mousemove"?(Il=a.screenX-Ia.screenX,Mi=a.screenY-Ia.screenY):Mi=Il=0,Ia=a),Il)},movementY:function(a){return"movementY"in a?a.movementY:Mi}}),Pl=qn(Co),lu=Ee({},Co,{dataTransfer:0}),vd=qn(lu),kl=Ee({},oi,{relatedTarget:0}),Rl=qn(kl),yd=Ee({},Os,{animationName:0,elapsedTime:0,pseudoElement:0}),Li=qn(yd),_d=Ee({},Os,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),wd=qn(_d),Ed=Ee({},Os,{data:0}),cu=qn(Ed),Dl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Td={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sd(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Td[a])?!!l[a]:!1}function li(){return Sd}var p=Ee({},oi,{key:function(a){if(a.key){var l=Dl[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Al(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?wr[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:li,charCode:function(a){return a.type==="keypress"?Al(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Al(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),E=qn(p),C=Ee({},Co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=qn(C),oe=Ee({},oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:li}),ve=qn(oe),$e=Ee({},Os,{propertyName:0,elapsedTime:0,pseudoElement:0}),jt=qn($e),kn=Ee({},Co,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Tt=qn(kn),Ln=[9,13,27,32],En=u&&"CompositionEvent"in window,hs=null;u&&"documentMode"in document&&(hs=document.documentMode);var qr=u&&"TextEvent"in window&&!hs,Io=u&&(!En||hs&&8<hs&&11>=hs),jl=" ",Jv=!1;function Zv(a,l){switch(a){case"keyup":return Ln.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ey(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ol=!1;function pI(a,l){switch(a){case"compositionend":return ey(l);case"keypress":return l.which!==32?null:(Jv=!0,jl);case"textInput":return a=l.data,a===jl&&Jv?null:a;default:return null}}function gI(a,l){if(Ol)return a==="compositionend"||!En&&Zv(a,l)?(a=au(),Rr=Nl=Kr=null,Ol=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Io&&l.locale!=="ko"?null:l.data;default:return null}}var xI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ty(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!xI[a.type]:l==="textarea"}function ny(a,l,d,g){cs(g),l=Id(l,"onChange"),0<l.length&&(d=new Cl("onChange","change",null,d,g),a.push({event:d,listeners:l}))}var uu=null,hu=null;function vI(a){_y(a,0)}function bd(a){var l=Ul(a);if(Qe(l))return a}function yI(a,l){if(a==="change")return l}var ry=!1;if(u){var km;if(u){var Rm="oninput"in document;if(!Rm){var sy=document.createElement("div");sy.setAttribute("oninput","return;"),Rm=typeof sy.oninput=="function"}km=Rm}else km=!1;ry=km&&(!document.documentMode||9<document.documentMode)}function iy(){uu&&(uu.detachEvent("onpropertychange",ay),hu=uu=null)}function ay(a){if(a.propertyName==="value"&&bd(hu)){var l=[];ny(l,hu,a,Ii(a)),To(vI,l)}}function _I(a,l,d){a==="focusin"?(iy(),uu=l,hu=d,uu.attachEvent("onpropertychange",ay)):a==="focusout"&&iy()}function wI(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return bd(hu)}function EI(a,l){if(a==="click")return bd(l)}function TI(a,l){if(a==="input"||a==="change")return bd(l)}function SI(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Fs=typeof Object.is=="function"?Object.is:SI;function du(a,l){if(Fs(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var y=d[g];if(!h.call(l,y)||!Fs(a[y],l[y]))return!1}return!0}function oy(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ly(a,l){var d=oy(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=l&&g>=l)return{node:d,offset:l-a};a=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=oy(d)}}function cy(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?cy(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function uy(){for(var a=window,l=xt();l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=xt(a.document)}return l}function Dm(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function bI(a){var l=uy(),d=a.focusedElem,g=a.selectionRange;if(l!==d&&d&&d.ownerDocument&&cy(d.ownerDocument.documentElement,d)){if(g!==null&&Dm(d)){if(l=g.start,a=g.end,a===void 0&&(a=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(a,d.value.length);else if(a=(l=d.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var y=d.textContent.length,S=Math.min(g.start,y);g=g.end===void 0?S:Math.min(g.end,y),!a.extend&&S>g&&(y=g,g=S,S=y),y=ly(d,S);var D=ly(d,g);y&&D&&(a.rangeCount!==1||a.anchorNode!==y.node||a.anchorOffset!==y.offset||a.focusNode!==D.node||a.focusOffset!==D.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),a.removeAllRanges(),S>g?(a.addRange(l),a.extend(D.node,D.offset)):(l.setEnd(D.node,D.offset),a.addRange(l)))}}for(l=[],a=d;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)a=l[d],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var NI=u&&"documentMode"in document&&11>=document.documentMode,Fl=null,jm=null,fu=null,Om=!1;function hy(a,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Om||Fl==null||Fl!==xt(g)||(g=Fl,"selectionStart"in g&&Dm(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),fu&&du(fu,g)||(fu=g,g=Id(jm,"onSelect"),0<g.length&&(l=new Cl("onSelect","select",null,l,d),a.push({event:l,listeners:g}),l.target=Fl)))}function Nd(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var Ml={animationend:Nd("Animation","AnimationEnd"),animationiteration:Nd("Animation","AnimationIteration"),animationstart:Nd("Animation","AnimationStart"),transitionend:Nd("Transition","TransitionEnd")},Fm={},dy={};u&&(dy=document.createElement("div").style,"AnimationEvent"in window||(delete Ml.animationend.animation,delete Ml.animationiteration.animation,delete Ml.animationstart.animation),"TransitionEvent"in window||delete Ml.transitionend.transition);function Ad(a){if(Fm[a])return Fm[a];if(!Ml[a])return a;var l=Ml[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in dy)return Fm[a]=l[d];return a}var fy=Ad("animationend"),my=Ad("animationiteration"),py=Ad("animationstart"),gy=Ad("transitionend"),xy=new Map,vy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pa(a,l){xy.set(a,l),i(l,[a])}for(var Mm=0;Mm<vy.length;Mm++){var Lm=vy[Mm],AI=Lm.toLowerCase(),CI=Lm[0].toUpperCase()+Lm.slice(1);Pa(AI,"on"+CI)}Pa(fy,"onAnimationEnd"),Pa(my,"onAnimationIteration"),Pa(py,"onAnimationStart"),Pa("dblclick","onDoubleClick"),Pa("focusin","onFocus"),Pa("focusout","onBlur"),Pa(gy,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),II=new Set("cancel close invalid load scroll toggle".split(" ").concat(mu));function yy(a,l,d){var g=a.type||"unknown-event";a.currentTarget=d,K(g,l,void 0,a),a.currentTarget=null}function _y(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],y=g.event;g=g.listeners;e:{var S=void 0;if(l)for(var D=g.length-1;0<=D;D--){var Q=g[D],se=Q.instance,xe=Q.currentTarget;if(Q=Q.listener,se!==S&&y.isPropagationStopped())break e;yy(y,Q,xe),S=se}else for(D=0;D<g.length;D++){if(Q=g[D],se=Q.instance,xe=Q.currentTarget,Q=Q.listener,se!==S&&y.isPropagationStopped())break e;yy(y,Q,xe),S=se}}}if(F)throw a=G,F=!1,G=null,a}function Yt(a,l){var d=l[Gm];d===void 0&&(d=l[Gm]=new Set);var g=a+"__bubble";d.has(g)||(wy(l,a,2,!1),d.add(g))}function Vm(a,l,d){var g=0;l&&(g|=4),wy(d,a,g,l)}var Cd="_reactListening"+Math.random().toString(36).slice(2);function pu(a){if(!a[Cd]){a[Cd]=!0,r.forEach(function(d){d!=="selectionchange"&&(II.has(d)||Vm(d,!1,a),Vm(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Cd]||(l[Cd]=!0,Vm("selectionchange",!1,l))}}function wy(a,l,d,g){switch(iu(l)){case 1:var y=en;break;case 4:y=Im;break;default:y=su}d=y.bind(null,l,d,a),y=void 0,!ya||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),g?y!==void 0?a.addEventListener(l,d,{capture:!0,passive:y}):a.addEventListener(l,d,!0):y!==void 0?a.addEventListener(l,d,{passive:y}):a.addEventListener(l,d,!1)}function Um(a,l,d,g,y){var S=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var D=g.tag;if(D===3||D===4){var Q=g.stateNode.containerInfo;if(Q===y||Q.nodeType===8&&Q.parentNode===y)break;if(D===4)for(D=g.return;D!==null;){var se=D.tag;if((se===3||se===4)&&(se=D.stateNode.containerInfo,se===y||se.nodeType===8&&se.parentNode===y))return;D=D.return}for(;Q!==null;){if(D=Po(Q),D===null)return;if(se=D.tag,se===5||se===6){g=S=D;continue e}Q=Q.parentNode}}g=g.return}To(function(){var xe=S,ke=Ii(d),Fe=[];e:{var Pe=xy.get(a);if(Pe!==void 0){var Ge=Cl,Je=a;switch(a){case"keypress":if(Al(d)===0)break e;case"keydown":case"keyup":Ge=E;break;case"focusin":Je="focus",Ge=Rl;break;case"focusout":Je="blur",Ge=Rl;break;case"beforeblur":case"afterblur":Ge=Rl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ge=Pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ge=vd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ge=ve;break;case fy:case my:case py:Ge=Li;break;case gy:Ge=jt;break;case"scroll":Ge=Pm;break;case"wheel":Ge=Tt;break;case"copy":case"cut":case"paste":Ge=wd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ge=U}var Ze=(l&4)!==0,yn=!Ze&&a==="scroll",le=Ze?Pe!==null?Pe+"Capture":null:Pe;Ze=[];for(var ie=xe,he;ie!==null;){he=ie;var Ve=he.stateNode;if(he.tag===5&&Ve!==null&&(he=Ve,le!==null&&(Ve=an(ie,le),Ve!=null&&Ze.push(gu(ie,Ve,he)))),yn)break;ie=ie.return}0<Ze.length&&(Pe=new Ge(Pe,Je,null,d,ke),Fe.push({event:Pe,listeners:Ze}))}}if((l&7)===0){e:{if(Pe=a==="mouseover"||a==="pointerover",Ge=a==="mouseout"||a==="pointerout",Pe&&d!==ni&&(Je=d.relatedTarget||d.fromElement)&&(Po(Je)||Je[Vi]))break e;if((Ge||Pe)&&(Pe=ke.window===ke?ke:(Pe=ke.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,Ge?(Je=d.relatedTarget||d.toElement,Ge=xe,Je=Je?Po(Je):null,Je!==null&&(yn=q(Je),Je!==yn||Je.tag!==5&&Je.tag!==6)&&(Je=null)):(Ge=null,Je=xe),Ge!==Je)){if(Ze=Pl,Ve="onMouseLeave",le="onMouseEnter",ie="mouse",(a==="pointerout"||a==="pointerover")&&(Ze=U,Ve="onPointerLeave",le="onPointerEnter",ie="pointer"),yn=Ge==null?Pe:Ul(Ge),he=Je==null?Pe:Ul(Je),Pe=new Ze(Ve,ie+"leave",Ge,d,ke),Pe.target=yn,Pe.relatedTarget=he,Ve=null,Po(ke)===xe&&(Ze=new Ze(le,ie+"enter",Je,d,ke),Ze.target=he,Ze.relatedTarget=yn,Ve=Ze),yn=Ve,Ge&&Je)t:{for(Ze=Ge,le=Je,ie=0,he=Ze;he;he=Ll(he))ie++;for(he=0,Ve=le;Ve;Ve=Ll(Ve))he++;for(;0<ie-he;)Ze=Ll(Ze),ie--;for(;0<he-ie;)le=Ll(le),he--;for(;ie--;){if(Ze===le||le!==null&&Ze===le.alternate)break t;Ze=Ll(Ze),le=Ll(le)}Ze=null}else Ze=null;Ge!==null&&Ey(Fe,Pe,Ge,Ze,!1),Je!==null&&yn!==null&&Ey(Fe,yn,Je,Ze,!0)}}e:{if(Pe=xe?Ul(xe):window,Ge=Pe.nodeName&&Pe.nodeName.toLowerCase(),Ge==="select"||Ge==="input"&&Pe.type==="file")var tt=yI;else if(ty(Pe))if(ry)tt=TI;else{tt=wI;var it=_I}else(Ge=Pe.nodeName)&&Ge.toLowerCase()==="input"&&(Pe.type==="checkbox"||Pe.type==="radio")&&(tt=EI);if(tt&&(tt=tt(a,xe))){ny(Fe,tt,d,ke);break e}it&&it(a,Pe,xe),a==="focusout"&&(it=Pe._wrapperState)&&it.controlled&&Pe.type==="number"&&Ke(Pe,"number",Pe.value)}switch(it=xe?Ul(xe):window,a){case"focusin":(ty(it)||it.contentEditable==="true")&&(Fl=it,jm=xe,fu=null);break;case"focusout":fu=jm=Fl=null;break;case"mousedown":Om=!0;break;case"contextmenu":case"mouseup":case"dragend":Om=!1,hy(Fe,d,ke);break;case"selectionchange":if(NI)break;case"keydown":case"keyup":hy(Fe,d,ke)}var at;if(En)e:{switch(a){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else Ol?Zv(a,d)&&(ft="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(ft="onCompositionStart");ft&&(Io&&d.locale!=="ko"&&(Ol||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Ol&&(at=au()):(Kr=ke,Nl="value"in Kr?Kr.value:Kr.textContent,Ol=!0)),it=Id(xe,ft),0<it.length&&(ft=new cu(ft,a,null,d,ke),Fe.push({event:ft,listeners:it}),at?ft.data=at:(at=ey(d),at!==null&&(ft.data=at)))),(at=qr?pI(a,d):gI(a,d))&&(xe=Id(xe,"onBeforeInput"),0<xe.length&&(ke=new cu("onBeforeInput","beforeinput",null,d,ke),Fe.push({event:ke,listeners:xe}),ke.data=at))}_y(Fe,l)})}function gu(a,l,d){return{instance:a,listener:l,currentTarget:d}}function Id(a,l){for(var d=l+"Capture",g=[];a!==null;){var y=a,S=y.stateNode;y.tag===5&&S!==null&&(y=S,S=an(a,d),S!=null&&g.unshift(gu(a,S,y)),S=an(a,l),S!=null&&g.push(gu(a,S,y))),a=a.return}return g}function Ll(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Ey(a,l,d,g,y){for(var S=l._reactName,D=[];d!==null&&d!==g;){var Q=d,se=Q.alternate,xe=Q.stateNode;if(se!==null&&se===g)break;Q.tag===5&&xe!==null&&(Q=xe,y?(se=an(d,S),se!=null&&D.unshift(gu(d,se,Q))):y||(se=an(d,S),se!=null&&D.push(gu(d,se,Q)))),d=d.return}D.length!==0&&a.push({event:l,listeners:D})}var PI=/\r\n?/g,kI=/\u0000|\uFFFD/g;function Ty(a){return(typeof a=="string"?a:""+a).replace(PI,`
`).replace(kI,"")}function Pd(a,l,d){if(l=Ty(l),Ty(a)!==l&&d)throw Error(n(425))}function kd(){}var Bm=null,zm=null;function Hm(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var $m=typeof setTimeout=="function"?setTimeout:void 0,RI=typeof clearTimeout=="function"?clearTimeout:void 0,Sy=typeof Promise=="function"?Promise:void 0,DI=typeof queueMicrotask=="function"?queueMicrotask:typeof Sy<"u"?function(a){return Sy.resolve(null).then(a).catch(jI)}:$m;function jI(a){setTimeout(function(){throw a})}function Wm(a,l){var d=l,g=0;do{var y=d.nextSibling;if(a.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(g===0){a.removeChild(y),js(l);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=y}while(d);js(l)}function ka(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function by(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return a;l--}else d==="/$"&&l++}a=a.previousSibling}return null}var Vl=Math.random().toString(36).slice(2),ci="__reactFiber$"+Vl,xu="__reactProps$"+Vl,Vi="__reactContainer$"+Vl,Gm="__reactEvents$"+Vl,OI="__reactListeners$"+Vl,FI="__reactHandles$"+Vl;function Po(a){var l=a[ci];if(l)return l;for(var d=a.parentNode;d;){if(l=d[Vi]||d[ci]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=by(a);a!==null;){if(d=a[ci])return d;a=by(a)}return l}a=d,d=a.parentNode}return null}function vu(a){return a=a[ci]||a[Vi],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Ul(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Rd(a){return a[xu]||null}var Km=[],Bl=-1;function Ra(a){return{current:a}}function Qt(a){0>Bl||(a.current=Km[Bl],Km[Bl]=null,Bl--)}function Gt(a,l){Bl++,Km[Bl]=a.current,a.current=l}var Da={},lr=Ra(Da),Dr=Ra(!1),ko=Da;function zl(a,l){var d=a.type.contextTypes;if(!d)return Da;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var y={},S;for(S in d)y[S]=l[S];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=y),y}function jr(a){return a=a.childContextTypes,a!=null}function Dd(){Qt(Dr),Qt(lr)}function Ny(a,l,d){if(lr.current!==Da)throw Error(n(168));Gt(lr,l),Gt(Dr,d)}function Ay(a,l,d){var g=a.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var y in g)if(!(y in l))throw Error(n(108,Ie(a)||"Unknown",y));return Ee({},d,g)}function jd(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Da,ko=lr.current,Gt(lr,a),Gt(Dr,Dr.current),!0}function Cy(a,l,d){var g=a.stateNode;if(!g)throw Error(n(169));d?(a=Ay(a,l,ko),g.__reactInternalMemoizedMergedChildContext=a,Qt(Dr),Qt(lr),Gt(lr,a)):Qt(Dr),Gt(Dr,d)}var Ui=null,Od=!1,qm=!1;function Iy(a){Ui===null?Ui=[a]:Ui.push(a)}function MI(a){Od=!0,Iy(a)}function ja(){if(!qm&&Ui!==null){qm=!0;var a=0,l=wt;try{var d=Ui;for(wt=1;a<d.length;a++){var g=d[a];do g=g(!0);while(g!==null)}Ui=null,Od=!1}catch(y){throw Ui!==null&&(Ui=Ui.slice(a+1)),De(Pt,ja),y}finally{wt=l,qm=!1}}return null}var Hl=[],$l=0,Fd=null,Md=0,ds=[],fs=0,Ro=null,Bi=1,zi="";function Do(a,l){Hl[$l++]=Md,Hl[$l++]=Fd,Fd=a,Md=l}function Py(a,l,d){ds[fs++]=Bi,ds[fs++]=zi,ds[fs++]=Ro,Ro=a;var g=Bi;a=zi;var y=32-Xt(g)-1;g&=~(1<<y),d+=1;var S=32-Xt(l)+y;if(30<S){var D=y-y%5;S=(g&(1<<D)-1).toString(32),g>>=D,y-=D,Bi=1<<32-Xt(l)+y|d<<y|g,zi=S+a}else Bi=1<<S|d<<y|g,zi=a}function Xm(a){a.return!==null&&(Do(a,1),Py(a,1,0))}function Ym(a){for(;a===Fd;)Fd=Hl[--$l],Hl[$l]=null,Md=Hl[--$l],Hl[$l]=null;for(;a===Ro;)Ro=ds[--fs],ds[fs]=null,zi=ds[--fs],ds[fs]=null,Bi=ds[--fs],ds[fs]=null}var Xr=null,Yr=null,tn=!1,Ms=null;function ky(a,l){var d=xs(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=a,l=a.deletions,l===null?(a.deletions=[d],a.flags|=16):l.push(d)}function Ry(a,l){switch(a.tag){case 5:var d=a.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,Xr=a,Yr=ka(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,Xr=a,Yr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=Ro!==null?{id:Bi,overflow:zi}:null,a.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=xs(18,null,null,0),d.stateNode=l,d.return=a,a.child=d,Xr=a,Yr=null,!0):!1;default:return!1}}function Qm(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Jm(a){if(tn){var l=Yr;if(l){var d=l;if(!Ry(a,l)){if(Qm(a))throw Error(n(418));l=ka(d.nextSibling);var g=Xr;l&&Ry(a,l)?ky(g,d):(a.flags=a.flags&-4097|2,tn=!1,Xr=a)}}else{if(Qm(a))throw Error(n(418));a.flags=a.flags&-4097|2,tn=!1,Xr=a}}}function Dy(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Xr=a}function Ld(a){if(a!==Xr)return!1;if(!tn)return Dy(a),tn=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!Hm(a.type,a.memoizedProps)),l&&(l=Yr)){if(Qm(a))throw jy(),Error(n(418));for(;l;)ky(a,l),l=ka(l.nextSibling)}if(Dy(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"){if(l===0){Yr=ka(a.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}a=a.nextSibling}Yr=null}}else Yr=Xr?ka(a.stateNode.nextSibling):null;return!0}function jy(){for(var a=Yr;a;)a=ka(a.nextSibling)}function Wl(){Yr=Xr=null,tn=!1}function Zm(a){Ms===null?Ms=[a]:Ms.push(a)}var LI=z.ReactCurrentBatchConfig;function yu(a,l,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var g=d.stateNode}if(!g)throw Error(n(147,a));var y=g,S=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===S?l.ref:(l=function(D){var Q=y.refs;D===null?delete Q[S]:Q[S]=D},l._stringRef=S,l)}if(typeof a!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,a))}return a}function Vd(a,l){throw a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function Oy(a){var l=a._init;return l(a._payload)}function Fy(a){function l(le,ie){if(a){var he=le.deletions;he===null?(le.deletions=[ie],le.flags|=16):he.push(ie)}}function d(le,ie){if(!a)return null;for(;ie!==null;)l(le,ie),ie=ie.sibling;return null}function g(le,ie){for(le=new Map;ie!==null;)ie.key!==null?le.set(ie.key,ie):le.set(ie.index,ie),ie=ie.sibling;return le}function y(le,ie){return le=za(le,ie),le.index=0,le.sibling=null,le}function S(le,ie,he){return le.index=he,a?(he=le.alternate,he!==null?(he=he.index,he<ie?(le.flags|=2,ie):he):(le.flags|=2,ie)):(le.flags|=1048576,ie)}function D(le){return a&&le.alternate===null&&(le.flags|=2),le}function Q(le,ie,he,Ve){return ie===null||ie.tag!==6?(ie=$p(he,le.mode,Ve),ie.return=le,ie):(ie=y(ie,he),ie.return=le,ie)}function se(le,ie,he,Ve){var tt=he.type;return tt===P?ke(le,ie,he.props.children,Ve,he.key):ie!==null&&(ie.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===Ue&&Oy(tt)===ie.type)?(Ve=y(ie,he.props),Ve.ref=yu(le,ie,he),Ve.return=le,Ve):(Ve=uf(he.type,he.key,he.props,null,le.mode,Ve),Ve.ref=yu(le,ie,he),Ve.return=le,Ve)}function xe(le,ie,he,Ve){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==he.containerInfo||ie.stateNode.implementation!==he.implementation?(ie=Wp(he,le.mode,Ve),ie.return=le,ie):(ie=y(ie,he.children||[]),ie.return=le,ie)}function ke(le,ie,he,Ve,tt){return ie===null||ie.tag!==7?(ie=Bo(he,le.mode,Ve,tt),ie.return=le,ie):(ie=y(ie,he),ie.return=le,ie)}function Fe(le,ie,he){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=$p(""+ie,le.mode,he),ie.return=le,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case ne:return he=uf(ie.type,ie.key,ie.props,null,le.mode,he),he.ref=yu(le,null,ie),he.return=le,he;case re:return ie=Wp(ie,le.mode,he),ie.return=le,ie;case Ue:var Ve=ie._init;return Fe(le,Ve(ie._payload),he)}if(nt(ie)||_e(ie))return ie=Bo(ie,le.mode,he,null),ie.return=le,ie;Vd(le,ie)}return null}function Pe(le,ie,he,Ve){var tt=ie!==null?ie.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return tt!==null?null:Q(le,ie,""+he,Ve);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case ne:return he.key===tt?se(le,ie,he,Ve):null;case re:return he.key===tt?xe(le,ie,he,Ve):null;case Ue:return tt=he._init,Pe(le,ie,tt(he._payload),Ve)}if(nt(he)||_e(he))return tt!==null?null:ke(le,ie,he,Ve,null);Vd(le,he)}return null}function Ge(le,ie,he,Ve,tt){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number")return le=le.get(he)||null,Q(ie,le,""+Ve,tt);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case ne:return le=le.get(Ve.key===null?he:Ve.key)||null,se(ie,le,Ve,tt);case re:return le=le.get(Ve.key===null?he:Ve.key)||null,xe(ie,le,Ve,tt);case Ue:var it=Ve._init;return Ge(le,ie,he,it(Ve._payload),tt)}if(nt(Ve)||_e(Ve))return le=le.get(he)||null,ke(ie,le,Ve,tt,null);Vd(ie,Ve)}return null}function Je(le,ie,he,Ve){for(var tt=null,it=null,at=ie,ft=ie=0,Bn=null;at!==null&&ft<he.length;ft++){at.index>ft?(Bn=at,at=null):Bn=at.sibling;var At=Pe(le,at,he[ft],Ve);if(At===null){at===null&&(at=Bn);break}a&&at&&At.alternate===null&&l(le,at),ie=S(At,ie,ft),it===null?tt=At:it.sibling=At,it=At,at=Bn}if(ft===he.length)return d(le,at),tn&&Do(le,ft),tt;if(at===null){for(;ft<he.length;ft++)at=Fe(le,he[ft],Ve),at!==null&&(ie=S(at,ie,ft),it===null?tt=at:it.sibling=at,it=at);return tn&&Do(le,ft),tt}for(at=g(le,at);ft<he.length;ft++)Bn=Ge(at,le,ft,he[ft],Ve),Bn!==null&&(a&&Bn.alternate!==null&&at.delete(Bn.key===null?ft:Bn.key),ie=S(Bn,ie,ft),it===null?tt=Bn:it.sibling=Bn,it=Bn);return a&&at.forEach(function(Ha){return l(le,Ha)}),tn&&Do(le,ft),tt}function Ze(le,ie,he,Ve){var tt=_e(he);if(typeof tt!="function")throw Error(n(150));if(he=tt.call(he),he==null)throw Error(n(151));for(var it=tt=null,at=ie,ft=ie=0,Bn=null,At=he.next();at!==null&&!At.done;ft++,At=he.next()){at.index>ft?(Bn=at,at=null):Bn=at.sibling;var Ha=Pe(le,at,At.value,Ve);if(Ha===null){at===null&&(at=Bn);break}a&&at&&Ha.alternate===null&&l(le,at),ie=S(Ha,ie,ft),it===null?tt=Ha:it.sibling=Ha,it=Ha,at=Bn}if(At.done)return d(le,at),tn&&Do(le,ft),tt;if(at===null){for(;!At.done;ft++,At=he.next())At=Fe(le,At.value,Ve),At!==null&&(ie=S(At,ie,ft),it===null?tt=At:it.sibling=At,it=At);return tn&&Do(le,ft),tt}for(at=g(le,at);!At.done;ft++,At=he.next())At=Ge(at,le,ft,At.value,Ve),At!==null&&(a&&At.alternate!==null&&at.delete(At.key===null?ft:At.key),ie=S(At,ie,ft),it===null?tt=At:it.sibling=At,it=At);return a&&at.forEach(function(xP){return l(le,xP)}),tn&&Do(le,ft),tt}function yn(le,ie,he,Ve){if(typeof he=="object"&&he!==null&&he.type===P&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case ne:e:{for(var tt=he.key,it=ie;it!==null;){if(it.key===tt){if(tt=he.type,tt===P){if(it.tag===7){d(le,it.sibling),ie=y(it,he.props.children),ie.return=le,le=ie;break e}}else if(it.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===Ue&&Oy(tt)===it.type){d(le,it.sibling),ie=y(it,he.props),ie.ref=yu(le,it,he),ie.return=le,le=ie;break e}d(le,it);break}else l(le,it);it=it.sibling}he.type===P?(ie=Bo(he.props.children,le.mode,Ve,he.key),ie.return=le,le=ie):(Ve=uf(he.type,he.key,he.props,null,le.mode,Ve),Ve.ref=yu(le,ie,he),Ve.return=le,le=Ve)}return D(le);case re:e:{for(it=he.key;ie!==null;){if(ie.key===it)if(ie.tag===4&&ie.stateNode.containerInfo===he.containerInfo&&ie.stateNode.implementation===he.implementation){d(le,ie.sibling),ie=y(ie,he.children||[]),ie.return=le,le=ie;break e}else{d(le,ie);break}else l(le,ie);ie=ie.sibling}ie=Wp(he,le.mode,Ve),ie.return=le,le=ie}return D(le);case Ue:return it=he._init,yn(le,ie,it(he._payload),Ve)}if(nt(he))return Je(le,ie,he,Ve);if(_e(he))return Ze(le,ie,he,Ve);Vd(le,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,ie!==null&&ie.tag===6?(d(le,ie.sibling),ie=y(ie,he),ie.return=le,le=ie):(d(le,ie),ie=$p(he,le.mode,Ve),ie.return=le,le=ie),D(le)):d(le,ie)}return yn}var Gl=Fy(!0),My=Fy(!1),Ud=Ra(null),Bd=null,Kl=null,ep=null;function tp(){ep=Kl=Bd=null}function np(a){var l=Ud.current;Qt(Ud),a._currentValue=l}function rp(a,l,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===d)break;a=a.return}}function ql(a,l){Bd=a,ep=Kl=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(Or=!0),a.firstContext=null)}function ms(a){var l=a._currentValue;if(ep!==a)if(a={context:a,memoizedValue:l,next:null},Kl===null){if(Bd===null)throw Error(n(308));Kl=a,Bd.dependencies={lanes:0,firstContext:a}}else Kl=Kl.next=a;return l}var jo=null;function sp(a){jo===null?jo=[a]:jo.push(a)}function Ly(a,l,d,g){var y=l.interleaved;return y===null?(d.next=d,sp(l)):(d.next=y.next,y.next=d),l.interleaved=d,Hi(a,g)}function Hi(a,l){a.lanes|=l;var d=a.alternate;for(d!==null&&(d.lanes|=l),d=a,a=a.return;a!==null;)a.childLanes|=l,d=a.alternate,d!==null&&(d.childLanes|=l),d=a,a=a.return;return d.tag===3?d.stateNode:null}var Oa=!1;function ip(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vy(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function $i(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function Fa(a,l,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(bt&2)!==0){var y=g.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),g.pending=l,Hi(a,d)}return y=g.interleaved,y===null?(l.next=l,sp(g)):(l.next=y.next,y.next=l),g.interleaved=l,Hi(a,d)}function zd(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var g=l.lanes;g&=a.pendingLanes,d|=g,l.lanes=d,ba(a,d)}}function Uy(a,l){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var y=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var D={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};S===null?y=S=D:S=S.next=D,d=d.next}while(d!==null);S===null?y=S=l:S=S.next=l}else y=S=l;d={baseState:g.baseState,firstBaseUpdate:y,lastBaseUpdate:S,shared:g.shared,effects:g.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}function Hd(a,l,d,g){var y=a.updateQueue;Oa=!1;var S=y.firstBaseUpdate,D=y.lastBaseUpdate,Q=y.shared.pending;if(Q!==null){y.shared.pending=null;var se=Q,xe=se.next;se.next=null,D===null?S=xe:D.next=xe,D=se;var ke=a.alternate;ke!==null&&(ke=ke.updateQueue,Q=ke.lastBaseUpdate,Q!==D&&(Q===null?ke.firstBaseUpdate=xe:Q.next=xe,ke.lastBaseUpdate=se))}if(S!==null){var Fe=y.baseState;D=0,ke=xe=se=null,Q=S;do{var Pe=Q.lane,Ge=Q.eventTime;if((g&Pe)===Pe){ke!==null&&(ke=ke.next={eventTime:Ge,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var Je=a,Ze=Q;switch(Pe=l,Ge=d,Ze.tag){case 1:if(Je=Ze.payload,typeof Je=="function"){Fe=Je.call(Ge,Fe,Pe);break e}Fe=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=Ze.payload,Pe=typeof Je=="function"?Je.call(Ge,Fe,Pe):Je,Pe==null)break e;Fe=Ee({},Fe,Pe);break e;case 2:Oa=!0}}Q.callback!==null&&Q.lane!==0&&(a.flags|=64,Pe=y.effects,Pe===null?y.effects=[Q]:Pe.push(Q))}else Ge={eventTime:Ge,lane:Pe,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},ke===null?(xe=ke=Ge,se=Fe):ke=ke.next=Ge,D|=Pe;if(Q=Q.next,Q===null){if(Q=y.shared.pending,Q===null)break;Pe=Q,Q=Pe.next,Pe.next=null,y.lastBaseUpdate=Pe,y.shared.pending=null}}while(!0);if(ke===null&&(se=Fe),y.baseState=se,y.firstBaseUpdate=xe,y.lastBaseUpdate=ke,l=y.shared.interleaved,l!==null){y=l;do D|=y.lane,y=y.next;while(y!==l)}else S===null&&(y.shared.lanes=0);Mo|=D,a.lanes=D,a.memoizedState=Fe}}function By(a,l,d){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var g=a[l],y=g.callback;if(y!==null){if(g.callback=null,g=d,typeof y!="function")throw Error(n(191,y));y.call(g)}}}var _u={},ui=Ra(_u),wu=Ra(_u),Eu=Ra(_u);function Oo(a){if(a===_u)throw Error(n(174));return a}function ap(a,l){switch(Gt(Eu,l),Gt(wu,a),Gt(ui,_u),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:sn(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=sn(l,a)}Qt(ui),Gt(ui,l)}function Xl(){Qt(ui),Qt(wu),Qt(Eu)}function zy(a){Oo(Eu.current);var l=Oo(ui.current),d=sn(l,a.type);l!==d&&(Gt(wu,a),Gt(ui,d))}function op(a){wu.current===a&&(Qt(ui),Qt(wu))}var on=Ra(0);function $d(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var lp=[];function cp(){for(var a=0;a<lp.length;a++)lp[a]._workInProgressVersionPrimary=null;lp.length=0}var Wd=z.ReactCurrentDispatcher,up=z.ReactCurrentBatchConfig,Fo=0,ln=null,Rn=null,Vn=null,Gd=!1,Tu=!1,Su=0,VI=0;function cr(){throw Error(n(321))}function hp(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!Fs(a[d],l[d]))return!1;return!0}function dp(a,l,d,g,y,S){if(Fo=S,ln=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Wd.current=a===null||a.memoizedState===null?HI:$I,a=d(g,y),Tu){S=0;do{if(Tu=!1,Su=0,25<=S)throw Error(n(301));S+=1,Vn=Rn=null,l.updateQueue=null,Wd.current=WI,a=d(g,y)}while(Tu)}if(Wd.current=Xd,l=Rn!==null&&Rn.next!==null,Fo=0,Vn=Rn=ln=null,Gd=!1,l)throw Error(n(300));return a}function fp(){var a=Su!==0;return Su=0,a}function hi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?ln.memoizedState=Vn=a:Vn=Vn.next=a,Vn}function ps(){if(Rn===null){var a=ln.alternate;a=a!==null?a.memoizedState:null}else a=Rn.next;var l=Vn===null?ln.memoizedState:Vn.next;if(l!==null)Vn=l,Rn=a;else{if(a===null)throw Error(n(310));Rn=a,a={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},Vn===null?ln.memoizedState=Vn=a:Vn=Vn.next=a}return Vn}function bu(a,l){return typeof l=="function"?l(a):l}function mp(a){var l=ps(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var g=Rn,y=g.baseQueue,S=d.pending;if(S!==null){if(y!==null){var D=y.next;y.next=S.next,S.next=D}g.baseQueue=y=S,d.pending=null}if(y!==null){S=y.next,g=g.baseState;var Q=D=null,se=null,xe=S;do{var ke=xe.lane;if((Fo&ke)===ke)se!==null&&(se=se.next={lane:0,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),g=xe.hasEagerState?xe.eagerState:a(g,xe.action);else{var Fe={lane:ke,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null};se===null?(Q=se=Fe,D=g):se=se.next=Fe,ln.lanes|=ke,Mo|=ke}xe=xe.next}while(xe!==null&&xe!==S);se===null?D=g:se.next=Q,Fs(g,l.memoizedState)||(Or=!0),l.memoizedState=g,l.baseState=D,l.baseQueue=se,d.lastRenderedState=g}if(a=d.interleaved,a!==null){y=a;do S=y.lane,ln.lanes|=S,Mo|=S,y=y.next;while(y!==a)}else y===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function pp(a){var l=ps(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var g=d.dispatch,y=d.pending,S=l.memoizedState;if(y!==null){d.pending=null;var D=y=y.next;do S=a(S,D.action),D=D.next;while(D!==y);Fs(S,l.memoizedState)||(Or=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),d.lastRenderedState=S}return[S,g]}function Hy(){}function $y(a,l){var d=ln,g=ps(),y=l(),S=!Fs(g.memoizedState,y);if(S&&(g.memoizedState=y,Or=!0),g=g.queue,gp(Ky.bind(null,d,g,a),[a]),g.getSnapshot!==l||S||Vn!==null&&Vn.memoizedState.tag&1){if(d.flags|=2048,Nu(9,Gy.bind(null,d,g,y,l),void 0,null),Un===null)throw Error(n(349));(Fo&30)!==0||Wy(d,l,y)}return y}function Wy(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=ln.updateQueue,l===null?(l={lastEffect:null,stores:null},ln.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function Gy(a,l,d,g){l.value=d,l.getSnapshot=g,qy(l)&&Xy(a)}function Ky(a,l,d){return d(function(){qy(l)&&Xy(a)})}function qy(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!Fs(a,d)}catch{return!0}}function Xy(a){var l=Hi(a,1);l!==null&&Bs(l,a,1,-1)}function Yy(a){var l=hi();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bu,lastRenderedState:a},l.queue=a,a=a.dispatch=zI.bind(null,ln,a),[l.memoizedState,a]}function Nu(a,l,d,g){return a={tag:a,create:l,destroy:d,deps:g,next:null},l=ln.updateQueue,l===null?(l={lastEffect:null,stores:null},ln.updateQueue=l,l.lastEffect=a.next=a):(d=l.lastEffect,d===null?l.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,l.lastEffect=a)),a}function Qy(){return ps().memoizedState}function Kd(a,l,d,g){var y=hi();ln.flags|=a,y.memoizedState=Nu(1|l,d,void 0,g===void 0?null:g)}function qd(a,l,d,g){var y=ps();g=g===void 0?null:g;var S=void 0;if(Rn!==null){var D=Rn.memoizedState;if(S=D.destroy,g!==null&&hp(g,D.deps)){y.memoizedState=Nu(l,d,S,g);return}}ln.flags|=a,y.memoizedState=Nu(1|l,d,S,g)}function Jy(a,l){return Kd(8390656,8,a,l)}function gp(a,l){return qd(2048,8,a,l)}function Zy(a,l){return qd(4,2,a,l)}function e_(a,l){return qd(4,4,a,l)}function t_(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function n_(a,l,d){return d=d!=null?d.concat([a]):null,qd(4,4,t_.bind(null,l,a),d)}function xp(){}function r_(a,l){var d=ps();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&hp(l,g[1])?g[0]:(d.memoizedState=[a,l],a)}function s_(a,l){var d=ps();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&hp(l,g[1])?g[0]:(a=a(),d.memoizedState=[a,l],a)}function i_(a,l,d){return(Fo&21)===0?(a.baseState&&(a.baseState=!1,Or=!0),a.memoizedState=d):(Fs(d,l)||(d=bo(),ln.lanes|=d,Mo|=d,a.baseState=!0),l)}function UI(a,l){var d=wt;wt=d!==0&&4>d?d:4,a(!0);var g=up.transition;up.transition={};try{a(!1),l()}finally{wt=d,up.transition=g}}function a_(){return ps().memoizedState}function BI(a,l,d){var g=Ua(a);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},o_(a))l_(l,d);else if(d=Ly(a,l,d,g),d!==null){var y=Tr();Bs(d,a,g,y),c_(d,l,g)}}function zI(a,l,d){var g=Ua(a),y={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(o_(a))l_(l,y);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var D=l.lastRenderedState,Q=S(D,d);if(y.hasEagerState=!0,y.eagerState=Q,Fs(Q,D)){var se=l.interleaved;se===null?(y.next=y,sp(l)):(y.next=se.next,se.next=y),l.interleaved=y;return}}catch{}finally{}d=Ly(a,l,y,g),d!==null&&(y=Tr(),Bs(d,a,g,y),c_(d,l,g))}}function o_(a){var l=a.alternate;return a===ln||l!==null&&l===ln}function l_(a,l){Tu=Gd=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function c_(a,l,d){if((d&4194240)!==0){var g=l.lanes;g&=a.pendingLanes,d|=g,l.lanes=d,ba(a,d)}}var Xd={readContext:ms,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useInsertionEffect:cr,useLayoutEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useMutableSource:cr,useSyncExternalStore:cr,useId:cr,unstable_isNewReconciler:!1},HI={readContext:ms,useCallback:function(a,l){return hi().memoizedState=[a,l===void 0?null:l],a},useContext:ms,useEffect:Jy,useImperativeHandle:function(a,l,d){return d=d!=null?d.concat([a]):null,Kd(4194308,4,t_.bind(null,l,a),d)},useLayoutEffect:function(a,l){return Kd(4194308,4,a,l)},useInsertionEffect:function(a,l){return Kd(4,2,a,l)},useMemo:function(a,l){var d=hi();return l=l===void 0?null:l,a=a(),d.memoizedState=[a,l],a},useReducer:function(a,l,d){var g=hi();return l=d!==void 0?d(l):l,g.memoizedState=g.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},g.queue=a,a=a.dispatch=BI.bind(null,ln,a),[g.memoizedState,a]},useRef:function(a){var l=hi();return a={current:a},l.memoizedState=a},useState:Yy,useDebugValue:xp,useDeferredValue:function(a){return hi().memoizedState=a},useTransition:function(){var a=Yy(!1),l=a[0];return a=UI.bind(null,a[1]),hi().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,d){var g=ln,y=hi();if(tn){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),Un===null)throw Error(n(349));(Fo&30)!==0||Wy(g,l,d)}y.memoizedState=d;var S={value:d,getSnapshot:l};return y.queue=S,Jy(Ky.bind(null,g,S,a),[a]),g.flags|=2048,Nu(9,Gy.bind(null,g,S,d,l),void 0,null),d},useId:function(){var a=hi(),l=Un.identifierPrefix;if(tn){var d=zi,g=Bi;d=(g&~(1<<32-Xt(g)-1)).toString(32)+d,l=":"+l+"R"+d,d=Su++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=VI++,l=":"+l+"r"+d.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},$I={readContext:ms,useCallback:r_,useContext:ms,useEffect:gp,useImperativeHandle:n_,useInsertionEffect:Zy,useLayoutEffect:e_,useMemo:s_,useReducer:mp,useRef:Qy,useState:function(){return mp(bu)},useDebugValue:xp,useDeferredValue:function(a){var l=ps();return i_(l,Rn.memoizedState,a)},useTransition:function(){var a=mp(bu)[0],l=ps().memoizedState;return[a,l]},useMutableSource:Hy,useSyncExternalStore:$y,useId:a_,unstable_isNewReconciler:!1},WI={readContext:ms,useCallback:r_,useContext:ms,useEffect:gp,useImperativeHandle:n_,useInsertionEffect:Zy,useLayoutEffect:e_,useMemo:s_,useReducer:pp,useRef:Qy,useState:function(){return pp(bu)},useDebugValue:xp,useDeferredValue:function(a){var l=ps();return Rn===null?l.memoizedState=a:i_(l,Rn.memoizedState,a)},useTransition:function(){var a=pp(bu)[0],l=ps().memoizedState;return[a,l]},useMutableSource:Hy,useSyncExternalStore:$y,useId:a_,unstable_isNewReconciler:!1};function Ls(a,l){if(a&&a.defaultProps){l=Ee({},l),a=a.defaultProps;for(var d in a)l[d]===void 0&&(l[d]=a[d]);return l}return l}function vp(a,l,d,g){l=a.memoizedState,d=d(g,l),d=d==null?l:Ee({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Yd={isMounted:function(a){return(a=a._reactInternals)?q(a)===a:!1},enqueueSetState:function(a,l,d){a=a._reactInternals;var g=Tr(),y=Ua(a),S=$i(g,y);S.payload=l,d!=null&&(S.callback=d),l=Fa(a,S,y),l!==null&&(Bs(l,a,y,g),zd(l,a,y))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var g=Tr(),y=Ua(a),S=$i(g,y);S.tag=1,S.payload=l,d!=null&&(S.callback=d),l=Fa(a,S,y),l!==null&&(Bs(l,a,y,g),zd(l,a,y))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=Tr(),g=Ua(a),y=$i(d,g);y.tag=2,l!=null&&(y.callback=l),l=Fa(a,y,g),l!==null&&(Bs(l,a,g,d),zd(l,a,g))}};function u_(a,l,d,g,y,S,D){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,S,D):l.prototype&&l.prototype.isPureReactComponent?!du(d,g)||!du(y,S):!0}function h_(a,l,d){var g=!1,y=Da,S=l.contextType;return typeof S=="object"&&S!==null?S=ms(S):(y=jr(l)?ko:lr.current,g=l.contextTypes,S=(g=g!=null)?zl(a,y):Da),l=new l(d,S),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Yd,a.stateNode=l,l._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=y,a.__reactInternalMemoizedMaskedChildContext=S),l}function d_(a,l,d,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==a&&Yd.enqueueReplaceState(l,l.state,null)}function yp(a,l,d,g){var y=a.stateNode;y.props=d,y.state=a.memoizedState,y.refs={},ip(a);var S=l.contextType;typeof S=="object"&&S!==null?y.context=ms(S):(S=jr(l)?ko:lr.current,y.context=zl(a,S)),y.state=a.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(vp(a,l,S,d),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&Yd.enqueueReplaceState(y,y.state,null),Hd(a,d,y,g),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308)}function Yl(a,l){try{var d="",g=l;do d+=J(g),g=g.return;while(g);var y=d}catch(S){y=`
Error generating stack: `+S.message+`
`+S.stack}return{value:a,source:l,stack:y,digest:null}}function _p(a,l,d){return{value:a,source:null,stack:d??null,digest:l??null}}function wp(a,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var GI=typeof WeakMap=="function"?WeakMap:Map;function f_(a,l,d){d=$i(-1,d),d.tag=3,d.payload={element:null};var g=l.value;return d.callback=function(){rf||(rf=!0,Fp=g),wp(a,l)},d}function m_(a,l,d){d=$i(-1,d),d.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var y=l.value;d.payload=function(){return g(y)},d.callback=function(){wp(a,l)}}var S=a.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(d.callback=function(){wp(a,l),typeof g!="function"&&(La===null?La=new Set([this]):La.add(this));var D=l.stack;this.componentDidCatch(l.value,{componentStack:D!==null?D:""})}),d}function p_(a,l,d){var g=a.pingCache;if(g===null){g=a.pingCache=new GI;var y=new Set;g.set(l,y)}else y=g.get(l),y===void 0&&(y=new Set,g.set(l,y));y.has(d)||(y.add(d),a=aP.bind(null,a,l,d),l.then(a,a))}function g_(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function x_(a,l,d,g,y){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=$i(-1,1),l.tag=2,Fa(d,l,1))),d.lanes|=1),a):(a.flags|=65536,a.lanes=y,a)}var KI=z.ReactCurrentOwner,Or=!1;function Er(a,l,d,g){l.child=a===null?My(l,null,d,g):Gl(l,a.child,d,g)}function v_(a,l,d,g,y){d=d.render;var S=l.ref;return ql(l,y),g=dp(a,l,d,g,S,y),d=fp(),a!==null&&!Or?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,Wi(a,l,y)):(tn&&d&&Xm(l),l.flags|=1,Er(a,l,g,y),l.child)}function y_(a,l,d,g,y){if(a===null){var S=d.type;return typeof S=="function"&&!Hp(S)&&S.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=S,__(a,l,S,g,y)):(a=uf(d.type,null,g,l,l.mode,y),a.ref=l.ref,a.return=l,l.child=a)}if(S=a.child,(a.lanes&y)===0){var D=S.memoizedProps;if(d=d.compare,d=d!==null?d:du,d(D,g)&&a.ref===l.ref)return Wi(a,l,y)}return l.flags|=1,a=za(S,g),a.ref=l.ref,a.return=l,l.child=a}function __(a,l,d,g,y){if(a!==null){var S=a.memoizedProps;if(du(S,g)&&a.ref===l.ref)if(Or=!1,l.pendingProps=g=S,(a.lanes&y)!==0)(a.flags&131072)!==0&&(Or=!0);else return l.lanes=a.lanes,Wi(a,l,y)}return Ep(a,l,d,g,y)}function w_(a,l,d){var g=l.pendingProps,y=g.children,S=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(Jl,Qr),Qr|=d;else{if((d&1073741824)===0)return a=S!==null?S.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,Gt(Jl,Qr),Qr|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=S!==null?S.baseLanes:d,Gt(Jl,Qr),Qr|=g}else S!==null?(g=S.baseLanes|d,l.memoizedState=null):g=d,Gt(Jl,Qr),Qr|=g;return Er(a,l,y,d),l.child}function E_(a,l){var d=l.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function Ep(a,l,d,g,y){var S=jr(d)?ko:lr.current;return S=zl(l,S),ql(l,y),d=dp(a,l,d,g,S,y),g=fp(),a!==null&&!Or?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,Wi(a,l,y)):(tn&&g&&Xm(l),l.flags|=1,Er(a,l,d,y),l.child)}function T_(a,l,d,g,y){if(jr(d)){var S=!0;jd(l)}else S=!1;if(ql(l,y),l.stateNode===null)Jd(a,l),h_(l,d,g),yp(l,d,g,y),g=!0;else if(a===null){var D=l.stateNode,Q=l.memoizedProps;D.props=Q;var se=D.context,xe=d.contextType;typeof xe=="object"&&xe!==null?xe=ms(xe):(xe=jr(d)?ko:lr.current,xe=zl(l,xe));var ke=d.getDerivedStateFromProps,Fe=typeof ke=="function"||typeof D.getSnapshotBeforeUpdate=="function";Fe||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(Q!==g||se!==xe)&&d_(l,D,g,xe),Oa=!1;var Pe=l.memoizedState;D.state=Pe,Hd(l,g,D,y),se=l.memoizedState,Q!==g||Pe!==se||Dr.current||Oa?(typeof ke=="function"&&(vp(l,d,ke,g),se=l.memoizedState),(Q=Oa||u_(l,d,Q,g,Pe,se,xe))?(Fe||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(l.flags|=4194308)):(typeof D.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=se),D.props=g,D.state=se,D.context=xe,g=Q):(typeof D.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{D=l.stateNode,Vy(a,l),Q=l.memoizedProps,xe=l.type===l.elementType?Q:Ls(l.type,Q),D.props=xe,Fe=l.pendingProps,Pe=D.context,se=d.contextType,typeof se=="object"&&se!==null?se=ms(se):(se=jr(d)?ko:lr.current,se=zl(l,se));var Ge=d.getDerivedStateFromProps;(ke=typeof Ge=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(Q!==Fe||Pe!==se)&&d_(l,D,g,se),Oa=!1,Pe=l.memoizedState,D.state=Pe,Hd(l,g,D,y);var Je=l.memoizedState;Q!==Fe||Pe!==Je||Dr.current||Oa?(typeof Ge=="function"&&(vp(l,d,Ge,g),Je=l.memoizedState),(xe=Oa||u_(l,d,xe,g,Pe,Je,se)||!1)?(ke||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(g,Je,se),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(g,Je,se)),typeof D.componentDidUpdate=="function"&&(l.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof D.componentDidUpdate!="function"||Q===a.memoizedProps&&Pe===a.memoizedState||(l.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||Q===a.memoizedProps&&Pe===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Je),D.props=g,D.state=Je,D.context=se,g=xe):(typeof D.componentDidUpdate!="function"||Q===a.memoizedProps&&Pe===a.memoizedState||(l.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||Q===a.memoizedProps&&Pe===a.memoizedState||(l.flags|=1024),g=!1)}return Tp(a,l,d,g,S,y)}function Tp(a,l,d,g,y,S){E_(a,l);var D=(l.flags&128)!==0;if(!g&&!D)return y&&Cy(l,d,!1),Wi(a,l,S);g=l.stateNode,KI.current=l;var Q=D&&typeof d.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,a!==null&&D?(l.child=Gl(l,a.child,null,S),l.child=Gl(l,null,Q,S)):Er(a,l,Q,S),l.memoizedState=g.state,y&&Cy(l,d,!0),l.child}function S_(a){var l=a.stateNode;l.pendingContext?Ny(a,l.pendingContext,l.pendingContext!==l.context):l.context&&Ny(a,l.context,!1),ap(a,l.containerInfo)}function b_(a,l,d,g,y){return Wl(),Zm(y),l.flags|=256,Er(a,l,d,g),l.child}var Sp={dehydrated:null,treeContext:null,retryLane:0};function bp(a){return{baseLanes:a,cachePool:null,transitions:null}}function N_(a,l,d){var g=l.pendingProps,y=on.current,S=!1,D=(l.flags&128)!==0,Q;if((Q=D)||(Q=a!==null&&a.memoizedState===null?!1:(y&2)!==0),Q?(S=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(y|=1),Gt(on,y&1),a===null)return Jm(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(D=g.children,a=g.fallback,S?(g=l.mode,S=l.child,D={mode:"hidden",children:D},(g&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=D):S=hf(D,g,0,null),a=Bo(a,g,d,null),S.return=l,a.return=l,S.sibling=a,l.child=S,l.child.memoizedState=bp(d),l.memoizedState=Sp,a):Np(l,D));if(y=a.memoizedState,y!==null&&(Q=y.dehydrated,Q!==null))return qI(a,l,D,g,Q,y,d);if(S){S=g.fallback,D=l.mode,y=a.child,Q=y.sibling;var se={mode:"hidden",children:g.children};return(D&1)===0&&l.child!==y?(g=l.child,g.childLanes=0,g.pendingProps=se,l.deletions=null):(g=za(y,se),g.subtreeFlags=y.subtreeFlags&14680064),Q!==null?S=za(Q,S):(S=Bo(S,D,d,null),S.flags|=2),S.return=l,g.return=l,g.sibling=S,l.child=g,g=S,S=l.child,D=a.child.memoizedState,D=D===null?bp(d):{baseLanes:D.baseLanes|d,cachePool:null,transitions:D.transitions},S.memoizedState=D,S.childLanes=a.childLanes&~d,l.memoizedState=Sp,g}return S=a.child,a=S.sibling,g=za(S,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=d),g.return=l,g.sibling=null,a!==null&&(d=l.deletions,d===null?(l.deletions=[a],l.flags|=16):d.push(a)),l.child=g,l.memoizedState=null,g}function Np(a,l){return l=hf({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function Qd(a,l,d,g){return g!==null&&Zm(g),Gl(l,a.child,null,d),a=Np(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function qI(a,l,d,g,y,S,D){if(d)return l.flags&256?(l.flags&=-257,g=_p(Error(n(422))),Qd(a,l,D,g)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(S=g.fallback,y=l.mode,g=hf({mode:"visible",children:g.children},y,0,null),S=Bo(S,y,D,null),S.flags|=2,g.return=l,S.return=l,g.sibling=S,l.child=g,(l.mode&1)!==0&&Gl(l,a.child,null,D),l.child.memoizedState=bp(D),l.memoizedState=Sp,S);if((l.mode&1)===0)return Qd(a,l,D,null);if(y.data==="$!"){if(g=y.nextSibling&&y.nextSibling.dataset,g)var Q=g.dgst;return g=Q,S=Error(n(419)),g=_p(S,g,void 0),Qd(a,l,D,g)}if(Q=(D&a.childLanes)!==0,Or||Q){if(g=Un,g!==null){switch(D&-D){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(g.suspendedLanes|D))!==0?0:y,y!==0&&y!==S.retryLane&&(S.retryLane=y,Hi(a,y),Bs(g,a,y,-1))}return zp(),g=_p(Error(n(421))),Qd(a,l,D,g)}return y.data==="$?"?(l.flags|=128,l.child=a.child,l=oP.bind(null,a),y._reactRetry=l,null):(a=S.treeContext,Yr=ka(y.nextSibling),Xr=l,tn=!0,Ms=null,a!==null&&(ds[fs++]=Bi,ds[fs++]=zi,ds[fs++]=Ro,Bi=a.id,zi=a.overflow,Ro=l),l=Np(l,g.children),l.flags|=4096,l)}function A_(a,l,d){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),rp(a.return,l,d)}function Ap(a,l,d,g,y){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:y}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=d,S.tailMode=y)}function C_(a,l,d){var g=l.pendingProps,y=g.revealOrder,S=g.tail;if(Er(a,l,g.children,d),g=on.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&A_(a,d,l);else if(a.tag===19)A_(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(Gt(on,g),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(d=l.child,y=null;d!==null;)a=d.alternate,a!==null&&$d(a)===null&&(y=d),d=d.sibling;d=y,d===null?(y=l.child,l.child=null):(y=d.sibling,d.sibling=null),Ap(l,!1,y,d,S);break;case"backwards":for(d=null,y=l.child,l.child=null;y!==null;){if(a=y.alternate,a!==null&&$d(a)===null){l.child=y;break}a=y.sibling,y.sibling=d,d=y,y=a}Ap(l,!0,d,null,S);break;case"together":Ap(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Jd(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function Wi(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),Mo|=l.lanes,(d&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,d=za(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=za(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function XI(a,l,d){switch(l.tag){case 3:S_(l),Wl();break;case 5:zy(l);break;case 1:jr(l.type)&&jd(l);break;case 4:ap(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,y=l.memoizedProps.value;Gt(Ud,g._currentValue),g._currentValue=y;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(Gt(on,on.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?N_(a,l,d):(Gt(on,on.current&1),a=Wi(a,l,d),a!==null?a.sibling:null);Gt(on,on.current&1);break;case 19:if(g=(d&l.childLanes)!==0,(a.flags&128)!==0){if(g)return C_(a,l,d);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Gt(on,on.current),g)break;return null;case 22:case 23:return l.lanes=0,w_(a,l,d)}return Wi(a,l,d)}var I_,Cp,P_,k_;I_=function(a,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)a.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Cp=function(){},P_=function(a,l,d,g){var y=a.memoizedProps;if(y!==g){a=l.stateNode,Oo(ui.current);var S=null;switch(d){case"input":y=lt(a,y),g=lt(a,g),S=[];break;case"select":y=Ee({},y,{value:void 0}),g=Ee({},g,{value:void 0}),S=[];break;case"textarea":y=Rt(a,y),g=Rt(a,g),S=[];break;default:typeof y.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=kd)}yo(d,g);var D;d=null;for(xe in y)if(!g.hasOwnProperty(xe)&&y.hasOwnProperty(xe)&&y[xe]!=null)if(xe==="style"){var Q=y[xe];for(D in Q)Q.hasOwnProperty(D)&&(d||(d={}),d[D]="")}else xe!=="dangerouslySetInnerHTML"&&xe!=="children"&&xe!=="suppressContentEditableWarning"&&xe!=="suppressHydrationWarning"&&xe!=="autoFocus"&&(s.hasOwnProperty(xe)?S||(S=[]):(S=S||[]).push(xe,null));for(xe in g){var se=g[xe];if(Q=y?.[xe],g.hasOwnProperty(xe)&&se!==Q&&(se!=null||Q!=null))if(xe==="style")if(Q){for(D in Q)!Q.hasOwnProperty(D)||se&&se.hasOwnProperty(D)||(d||(d={}),d[D]="");for(D in se)se.hasOwnProperty(D)&&Q[D]!==se[D]&&(d||(d={}),d[D]=se[D])}else d||(S||(S=[]),S.push(xe,d)),d=se;else xe==="dangerouslySetInnerHTML"?(se=se?se.__html:void 0,Q=Q?Q.__html:void 0,se!=null&&Q!==se&&(S=S||[]).push(xe,se)):xe==="children"?typeof se!="string"&&typeof se!="number"||(S=S||[]).push(xe,""+se):xe!=="suppressContentEditableWarning"&&xe!=="suppressHydrationWarning"&&(s.hasOwnProperty(xe)?(se!=null&&xe==="onScroll"&&Yt("scroll",a),S||Q===se||(S=[])):(S=S||[]).push(xe,se))}d&&(S=S||[]).push("style",d);var xe=S;(l.updateQueue=xe)&&(l.flags|=4)}},k_=function(a,l,d,g){d!==g&&(l.flags|=4)};function Au(a,l){if(!tn)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function ur(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(l)for(var y=a.child;y!==null;)d|=y.lanes|y.childLanes,g|=y.subtreeFlags&14680064,g|=y.flags&14680064,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)d|=y.lanes|y.childLanes,g|=y.subtreeFlags,g|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=g,a.childLanes=d,l}function YI(a,l,d){var g=l.pendingProps;switch(Ym(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(l),null;case 1:return jr(l.type)&&Dd(),ur(l),null;case 3:return g=l.stateNode,Xl(),Qt(Dr),Qt(lr),cp(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(Ld(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Ms!==null&&(Vp(Ms),Ms=null))),Cp(a,l),ur(l),null;case 5:op(l);var y=Oo(Eu.current);if(d=l.type,a!==null&&l.stateNode!=null)P_(a,l,d,g,y),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(n(166));return ur(l),null}if(a=Oo(ui.current),Ld(l)){g=l.stateNode,d=l.type;var S=l.memoizedProps;switch(g[ci]=l,g[xu]=S,a=(l.mode&1)!==0,d){case"dialog":Yt("cancel",g),Yt("close",g);break;case"iframe":case"object":case"embed":Yt("load",g);break;case"video":case"audio":for(y=0;y<mu.length;y++)Yt(mu[y],g);break;case"source":Yt("error",g);break;case"img":case"image":case"link":Yt("error",g),Yt("load",g);break;case"details":Yt("toggle",g);break;case"input":Kt(g,S),Yt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!S.multiple},Yt("invalid",g);break;case"textarea":as(g,S),Yt("invalid",g)}yo(d,S),y=null;for(var D in S)if(S.hasOwnProperty(D)){var Q=S[D];D==="children"?typeof Q=="string"?g.textContent!==Q&&(S.suppressHydrationWarning!==!0&&Pd(g.textContent,Q,a),y=["children",Q]):typeof Q=="number"&&g.textContent!==""+Q&&(S.suppressHydrationWarning!==!0&&Pd(g.textContent,Q,a),y=["children",""+Q]):s.hasOwnProperty(D)&&Q!=null&&D==="onScroll"&&Yt("scroll",g)}switch(d){case"input":Se(g),Le(g,S,!0);break;case"textarea":Se(g),os(g);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(g.onclick=kd)}g=y,l.updateQueue=g,g!==null&&(l.flags|=4)}else{D=y.nodeType===9?y:y.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=qt(d)),a==="http://www.w3.org/1999/xhtml"?d==="script"?(a=D.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=D.createElement(d,{is:g.is}):(a=D.createElement(d),d==="select"&&(D=a,g.multiple?D.multiple=!0:g.size&&(D.size=g.size))):a=D.createElementNS(a,d),a[ci]=l,a[xu]=g,I_(a,l,!1,!1),l.stateNode=a;e:{switch(D=_o(d,g),d){case"dialog":Yt("cancel",a),Yt("close",a),y=g;break;case"iframe":case"object":case"embed":Yt("load",a),y=g;break;case"video":case"audio":for(y=0;y<mu.length;y++)Yt(mu[y],a);y=g;break;case"source":Yt("error",a),y=g;break;case"img":case"image":case"link":Yt("error",a),Yt("load",a),y=g;break;case"details":Yt("toggle",a),y=g;break;case"input":Kt(a,g),y=lt(a,g),Yt("invalid",a);break;case"option":y=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},y=Ee({},g,{value:void 0}),Yt("invalid",a);break;case"textarea":as(a,g),y=Rt(a,g),Yt("invalid",a);break;default:y=g}yo(d,y),Q=y;for(S in Q)if(Q.hasOwnProperty(S)){var se=Q[S];S==="style"?xa(a,se):S==="dangerouslySetInnerHTML"?(se=se?se.__html:void 0,se!=null&&vo(a,se)):S==="children"?typeof se=="string"?(d!=="textarea"||se!=="")&&As(a,se):typeof se=="number"&&As(a,""+se):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(s.hasOwnProperty(S)?se!=null&&S==="onScroll"&&Yt("scroll",a):se!=null&&O(a,S,se,D))}switch(d){case"input":Se(a),Le(a,g,!1);break;case"textarea":Se(a),os(a);break;case"option":g.value!=null&&a.setAttribute("value",""+Z(g.value));break;case"select":a.multiple=!!g.multiple,S=g.value,S!=null?ot(a,!!g.multiple,S,!1):g.defaultValue!=null&&ot(a,!!g.multiple,g.defaultValue,!0);break;default:typeof y.onClick=="function"&&(a.onclick=kd)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return ur(l),null;case 6:if(a&&l.stateNode!=null)k_(a,l,a.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(d=Oo(Eu.current),Oo(ui.current),Ld(l)){if(g=l.stateNode,d=l.memoizedProps,g[ci]=l,(S=g.nodeValue!==d)&&(a=Xr,a!==null))switch(a.tag){case 3:Pd(g.nodeValue,d,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Pd(g.nodeValue,d,(a.mode&1)!==0)}S&&(l.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[ci]=l,l.stateNode=g}return ur(l),null;case 13:if(Qt(on),g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(tn&&Yr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)jy(),Wl(),l.flags|=98560,S=!1;else if(S=Ld(l),g!==null&&g.dehydrated!==null){if(a===null){if(!S)throw Error(n(318));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[ci]=l}else Wl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ur(l),S=!1}else Ms!==null&&(Vp(Ms),Ms=null),S=!0;if(!S)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(on.current&1)!==0?Dn===0&&(Dn=3):zp())),l.updateQueue!==null&&(l.flags|=4),ur(l),null);case 4:return Xl(),Cp(a,l),a===null&&pu(l.stateNode.containerInfo),ur(l),null;case 10:return np(l.type._context),ur(l),null;case 17:return jr(l.type)&&Dd(),ur(l),null;case 19:if(Qt(on),S=l.memoizedState,S===null)return ur(l),null;if(g=(l.flags&128)!==0,D=S.rendering,D===null)if(g)Au(S,!1);else{if(Dn!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(D=$d(a),D!==null){for(l.flags|=128,Au(S,!1),g=D.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=d,d=l.child;d!==null;)S=d,a=g,S.flags&=14680066,D=S.alternate,D===null?(S.childLanes=0,S.lanes=a,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=D.childLanes,S.lanes=D.lanes,S.child=D.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=D.memoizedProps,S.memoizedState=D.memoizedState,S.updateQueue=D.updateQueue,S.type=D.type,a=D.dependencies,S.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return Gt(on,on.current&1|2),l.child}a=a.sibling}S.tail!==null&&Oe()>Zl&&(l.flags|=128,g=!0,Au(S,!1),l.lanes=4194304)}else{if(!g)if(a=$d(D),a!==null){if(l.flags|=128,g=!0,d=a.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),Au(S,!0),S.tail===null&&S.tailMode==="hidden"&&!D.alternate&&!tn)return ur(l),null}else 2*Oe()-S.renderingStartTime>Zl&&d!==1073741824&&(l.flags|=128,g=!0,Au(S,!1),l.lanes=4194304);S.isBackwards?(D.sibling=l.child,l.child=D):(d=S.last,d!==null?d.sibling=D:l.child=D,S.last=D)}return S.tail!==null?(l=S.tail,S.rendering=l,S.tail=l.sibling,S.renderingStartTime=Oe(),l.sibling=null,d=on.current,Gt(on,g?d&1|2:d&1),l):(ur(l),null);case 22:case 23:return Bp(),g=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(Qr&1073741824)!==0&&(ur(l),l.subtreeFlags&6&&(l.flags|=8192)):ur(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function QI(a,l){switch(Ym(l),l.tag){case 1:return jr(l.type)&&Dd(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Xl(),Qt(Dr),Qt(lr),cp(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return op(l),null;case 13:if(Qt(on),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Wl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return Qt(on),null;case 4:return Xl(),null;case 10:return np(l.type._context),null;case 22:case 23:return Bp(),null;case 24:return null;default:return null}}var Zd=!1,hr=!1,JI=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function Ql(a,l){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){dn(a,l,g)}else d.current=null}function Ip(a,l,d){try{d()}catch(g){dn(a,l,g)}}var R_=!1;function ZI(a,l){if(Bm=Ca,a=uy(),Dm(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var y=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var D=0,Q=-1,se=-1,xe=0,ke=0,Fe=a,Pe=null;t:for(;;){for(var Ge;Fe!==d||y!==0&&Fe.nodeType!==3||(Q=D+y),Fe!==S||g!==0&&Fe.nodeType!==3||(se=D+g),Fe.nodeType===3&&(D+=Fe.nodeValue.length),(Ge=Fe.firstChild)!==null;)Pe=Fe,Fe=Ge;for(;;){if(Fe===a)break t;if(Pe===d&&++xe===y&&(Q=D),Pe===S&&++ke===g&&(se=D),(Ge=Fe.nextSibling)!==null)break;Fe=Pe,Pe=Fe.parentNode}Fe=Ge}d=Q===-1||se===-1?null:{start:Q,end:se}}else d=null}d=d||{start:0,end:0}}else d=null;for(zm={focusedElem:a,selectionRange:d},Ca=!1,Xe=l;Xe!==null;)if(l=Xe,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Xe=a;else for(;Xe!==null;){l=Xe;try{var Je=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Je!==null){var Ze=Je.memoizedProps,yn=Je.memoizedState,le=l.stateNode,ie=le.getSnapshotBeforeUpdate(l.elementType===l.type?Ze:Ls(l.type,Ze),yn);le.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:var he=l.stateNode.containerInfo;he.nodeType===1?he.textContent="":he.nodeType===9&&he.documentElement&&he.removeChild(he.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ve){dn(l,l.return,Ve)}if(a=l.sibling,a!==null){a.return=l.return,Xe=a;break}Xe=l.return}return Je=R_,R_=!1,Je}function Cu(a,l,d){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var y=g=g.next;do{if((y.tag&a)===a){var S=y.destroy;y.destroy=void 0,S!==void 0&&Ip(l,d,S)}y=y.next}while(y!==g)}}function ef(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&a)===a){var g=d.create;d.destroy=g()}d=d.next}while(d!==l)}}function Pp(a){var l=a.ref;if(l!==null){var d=a.stateNode;switch(a.tag){case 5:a=d;break;default:a=d}typeof l=="function"?l(a):l.current=a}}function D_(a){var l=a.alternate;l!==null&&(a.alternate=null,D_(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[ci],delete l[xu],delete l[Gm],delete l[OI],delete l[FI])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function j_(a){return a.tag===5||a.tag===3||a.tag===4}function O_(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||j_(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function kp(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(a,l):d.insertBefore(a,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(a,d)):(l=d,l.appendChild(a)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=kd));else if(g!==4&&(a=a.child,a!==null))for(kp(a,l,d),a=a.sibling;a!==null;)kp(a,l,d),a=a.sibling}function Rp(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(Rp(a,l,d),a=a.sibling;a!==null;)Rp(a,l,d),a=a.sibling}var Xn=null,Vs=!1;function Ma(a,l,d){for(d=d.child;d!==null;)F_(a,l,d),d=d.sibling}function F_(a,l,d){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(Wr,d)}catch{}switch(d.tag){case 5:hr||Ql(d,l);case 6:var g=Xn,y=Vs;Xn=null,Ma(a,l,d),Xn=g,Vs=y,Xn!==null&&(Vs?(a=Xn,d=d.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)):Xn.removeChild(d.stateNode));break;case 18:Xn!==null&&(Vs?(a=Xn,d=d.stateNode,a.nodeType===8?Wm(a.parentNode,d):a.nodeType===1&&Wm(a,d),js(a)):Wm(Xn,d.stateNode));break;case 4:g=Xn,y=Vs,Xn=d.stateNode.containerInfo,Vs=!0,Ma(a,l,d),Xn=g,Vs=y;break;case 0:case 11:case 14:case 15:if(!hr&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){y=g=g.next;do{var S=y,D=S.destroy;S=S.tag,D!==void 0&&((S&2)!==0||(S&4)!==0)&&Ip(d,l,D),y=y.next}while(y!==g)}Ma(a,l,d);break;case 1:if(!hr&&(Ql(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(Q){dn(d,l,Q)}Ma(a,l,d);break;case 21:Ma(a,l,d);break;case 22:d.mode&1?(hr=(g=hr)||d.memoizedState!==null,Ma(a,l,d),hr=g):Ma(a,l,d);break;default:Ma(a,l,d)}}function M_(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new JI),l.forEach(function(g){var y=lP.bind(null,a,g);d.has(g)||(d.add(g),g.then(y,y))})}}function Us(a,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var y=d[g];try{var S=a,D=l,Q=D;e:for(;Q!==null;){switch(Q.tag){case 5:Xn=Q.stateNode,Vs=!1;break e;case 3:Xn=Q.stateNode.containerInfo,Vs=!0;break e;case 4:Xn=Q.stateNode.containerInfo,Vs=!0;break e}Q=Q.return}if(Xn===null)throw Error(n(160));F_(S,D,y),Xn=null,Vs=!1;var se=y.alternate;se!==null&&(se.return=null),y.return=null}catch(xe){dn(y,l,xe)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)L_(l,a),l=l.sibling}function L_(a,l){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Us(l,a),di(a),g&4){try{Cu(3,a,a.return),ef(3,a)}catch(Ze){dn(a,a.return,Ze)}try{Cu(5,a,a.return)}catch(Ze){dn(a,a.return,Ze)}}break;case 1:Us(l,a),di(a),g&512&&d!==null&&Ql(d,d.return);break;case 5:if(Us(l,a),di(a),g&512&&d!==null&&Ql(d,d.return),a.flags&32){var y=a.stateNode;try{As(y,"")}catch(Ze){dn(a,a.return,Ze)}}if(g&4&&(y=a.stateNode,y!=null)){var S=a.memoizedProps,D=d!==null?d.memoizedProps:S,Q=a.type,se=a.updateQueue;if(a.updateQueue=null,se!==null)try{Q==="input"&&S.type==="radio"&&S.name!=null&&dt(y,S),_o(Q,D);var xe=_o(Q,S);for(D=0;D<se.length;D+=2){var ke=se[D],Fe=se[D+1];ke==="style"?xa(y,Fe):ke==="dangerouslySetInnerHTML"?vo(y,Fe):ke==="children"?As(y,Fe):O(y,ke,Fe,xe)}switch(Q){case"input":te(y,S);break;case"textarea":Pn(y,S);break;case"select":var Pe=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!S.multiple;var Ge=S.value;Ge!=null?ot(y,!!S.multiple,Ge,!1):Pe!==!!S.multiple&&(S.defaultValue!=null?ot(y,!!S.multiple,S.defaultValue,!0):ot(y,!!S.multiple,S.multiple?[]:"",!1))}y[xu]=S}catch(Ze){dn(a,a.return,Ze)}}break;case 6:if(Us(l,a),di(a),g&4){if(a.stateNode===null)throw Error(n(162));y=a.stateNode,S=a.memoizedProps;try{y.nodeValue=S}catch(Ze){dn(a,a.return,Ze)}}break;case 3:if(Us(l,a),di(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{js(l.containerInfo)}catch(Ze){dn(a,a.return,Ze)}break;case 4:Us(l,a),di(a);break;case 13:Us(l,a),di(a),y=a.child,y.flags&8192&&(S=y.memoizedState!==null,y.stateNode.isHidden=S,!S||y.alternate!==null&&y.alternate.memoizedState!==null||(Op=Oe())),g&4&&M_(a);break;case 22:if(ke=d!==null&&d.memoizedState!==null,a.mode&1?(hr=(xe=hr)||ke,Us(l,a),hr=xe):Us(l,a),di(a),g&8192){if(xe=a.memoizedState!==null,(a.stateNode.isHidden=xe)&&!ke&&(a.mode&1)!==0)for(Xe=a,ke=a.child;ke!==null;){for(Fe=Xe=ke;Xe!==null;){switch(Pe=Xe,Ge=Pe.child,Pe.tag){case 0:case 11:case 14:case 15:Cu(4,Pe,Pe.return);break;case 1:Ql(Pe,Pe.return);var Je=Pe.stateNode;if(typeof Je.componentWillUnmount=="function"){g=Pe,d=Pe.return;try{l=g,Je.props=l.memoizedProps,Je.state=l.memoizedState,Je.componentWillUnmount()}catch(Ze){dn(g,d,Ze)}}break;case 5:Ql(Pe,Pe.return);break;case 22:if(Pe.memoizedState!==null){B_(Fe);continue}}Ge!==null?(Ge.return=Pe,Xe=Ge):B_(Fe)}ke=ke.sibling}e:for(ke=null,Fe=a;;){if(Fe.tag===5){if(ke===null){ke=Fe;try{y=Fe.stateNode,xe?(S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(Q=Fe.stateNode,se=Fe.memoizedProps.style,D=se!=null&&se.hasOwnProperty("display")?se.display:null,Q.style.display=ga("display",D))}catch(Ze){dn(a,a.return,Ze)}}}else if(Fe.tag===6){if(ke===null)try{Fe.stateNode.nodeValue=xe?"":Fe.memoizedProps}catch(Ze){dn(a,a.return,Ze)}}else if((Fe.tag!==22&&Fe.tag!==23||Fe.memoizedState===null||Fe===a)&&Fe.child!==null){Fe.child.return=Fe,Fe=Fe.child;continue}if(Fe===a)break e;for(;Fe.sibling===null;){if(Fe.return===null||Fe.return===a)break e;ke===Fe&&(ke=null),Fe=Fe.return}ke===Fe&&(ke=null),Fe.sibling.return=Fe.return,Fe=Fe.sibling}}break;case 19:Us(l,a),di(a),g&4&&M_(a);break;case 21:break;default:Us(l,a),di(a)}}function di(a){var l=a.flags;if(l&2){try{e:{for(var d=a.return;d!==null;){if(j_(d)){var g=d;break e}d=d.return}throw Error(n(160))}switch(g.tag){case 5:var y=g.stateNode;g.flags&32&&(As(y,""),g.flags&=-33);var S=O_(a);Rp(a,S,y);break;case 3:case 4:var D=g.stateNode.containerInfo,Q=O_(a);kp(a,Q,D);break;default:throw Error(n(161))}}catch(se){dn(a,a.return,se)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function eP(a,l,d){Xe=a,V_(a)}function V_(a,l,d){for(var g=(a.mode&1)!==0;Xe!==null;){var y=Xe,S=y.child;if(y.tag===22&&g){var D=y.memoizedState!==null||Zd;if(!D){var Q=y.alternate,se=Q!==null&&Q.memoizedState!==null||hr;Q=Zd;var xe=hr;if(Zd=D,(hr=se)&&!xe)for(Xe=y;Xe!==null;)D=Xe,se=D.child,D.tag===22&&D.memoizedState!==null?z_(y):se!==null?(se.return=D,Xe=se):z_(y);for(;S!==null;)Xe=S,V_(S),S=S.sibling;Xe=y,Zd=Q,hr=xe}U_(a)}else(y.subtreeFlags&8772)!==0&&S!==null?(S.return=y,Xe=S):U_(a)}}function U_(a){for(;Xe!==null;){var l=Xe;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:hr||ef(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!hr)if(d===null)g.componentDidMount();else{var y=l.elementType===l.type?d.memoizedProps:Ls(l.type,d.memoizedProps);g.componentDidUpdate(y,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var S=l.updateQueue;S!==null&&By(l,S,g);break;case 3:var D=l.updateQueue;if(D!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}By(l,D,d)}break;case 5:var Q=l.stateNode;if(d===null&&l.flags&4){d=Q;var se=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":se.autoFocus&&d.focus();break;case"img":se.src&&(d.src=se.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var xe=l.alternate;if(xe!==null){var ke=xe.memoizedState;if(ke!==null){var Fe=ke.dehydrated;Fe!==null&&js(Fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}hr||l.flags&512&&Pp(l)}catch(Pe){dn(l,l.return,Pe)}}if(l===a){Xe=null;break}if(d=l.sibling,d!==null){d.return=l.return,Xe=d;break}Xe=l.return}}function B_(a){for(;Xe!==null;){var l=Xe;if(l===a){Xe=null;break}var d=l.sibling;if(d!==null){d.return=l.return,Xe=d;break}Xe=l.return}}function z_(a){for(;Xe!==null;){var l=Xe;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{ef(4,l)}catch(se){dn(l,d,se)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var y=l.return;try{g.componentDidMount()}catch(se){dn(l,y,se)}}var S=l.return;try{Pp(l)}catch(se){dn(l,S,se)}break;case 5:var D=l.return;try{Pp(l)}catch(se){dn(l,D,se)}}}catch(se){dn(l,l.return,se)}if(l===a){Xe=null;break}var Q=l.sibling;if(Q!==null){Q.return=l.return,Xe=Q;break}Xe=l.return}}var tP=Math.ceil,tf=z.ReactCurrentDispatcher,Dp=z.ReactCurrentOwner,gs=z.ReactCurrentBatchConfig,bt=0,Un=null,Tn=null,Yn=0,Qr=0,Jl=Ra(0),Dn=0,Iu=null,Mo=0,nf=0,jp=0,Pu=null,Fr=null,Op=0,Zl=1/0,Gi=null,rf=!1,Fp=null,La=null,sf=!1,Va=null,af=0,ku=0,Mp=null,of=-1,lf=0;function Tr(){return(bt&6)!==0?Oe():of!==-1?of:of=Oe()}function Ua(a){return(a.mode&1)===0?1:(bt&2)!==0&&Yn!==0?Yn&-Yn:LI.transition!==null?(lf===0&&(lf=bo()),lf):(a=wt,a!==0||(a=window.event,a=a===void 0?16:iu(a.type)),a)}function Bs(a,l,d,g){if(50<ku)throw ku=0,Mp=null,Error(n(185));Sa(a,d,g),((bt&2)===0||a!==Un)&&(a===Un&&((bt&2)===0&&(nf|=d),Dn===4&&Ba(a,Yn)),Mr(a,g),d===1&&bt===0&&(l.mode&1)===0&&(Zl=Oe()+500,Od&&ja()))}function Mr(a,l){var d=a.callbackNode;ji(a,l);var g=So(a,a===Un?Yn:0);if(g===0)d!==null&&ze(d),a.callbackNode=null,a.callbackPriority=0;else if(l=g&-g,a.callbackPriority!==l){if(d!=null&&ze(d),l===1)a.tag===0?MI($_.bind(null,a)):Iy($_.bind(null,a)),DI(function(){(bt&6)===0&&ja()}),d=null;else{switch(Na(g)){case 1:d=Pt;break;case 4:d=Nt;break;case 16:d=Dt;break;case 536870912:d=ri;break;default:d=Dt}d=J_(d,H_.bind(null,a))}a.callbackPriority=l,a.callbackNode=d}}function H_(a,l){if(of=-1,lf=0,(bt&6)!==0)throw Error(n(327));var d=a.callbackNode;if(ec()&&a.callbackNode!==d)return null;var g=So(a,a===Un?Yn:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||l)l=cf(a,g);else{l=g;var y=bt;bt|=2;var S=G_();(Un!==a||Yn!==l)&&(Gi=null,Zl=Oe()+500,Vo(a,l));do try{sP();break}catch(Q){W_(a,Q)}while(!0);tp(),tf.current=S,bt=y,Tn!==null?l=0:(Un=null,Yn=0,l=Dn)}if(l!==0){if(l===2&&(y=Gr(a),y!==0&&(g=y,l=Lp(a,y))),l===1)throw d=Iu,Vo(a,0),Ba(a,g),Mr(a,Oe()),d;if(l===6)Ba(a,g);else{if(y=a.current.alternate,(g&30)===0&&!nP(y)&&(l=cf(a,g),l===2&&(S=Gr(a),S!==0&&(g=S,l=Lp(a,S))),l===1))throw d=Iu,Vo(a,0),Ba(a,g),Mr(a,Oe()),d;switch(a.finishedWork=y,a.finishedLanes=g,l){case 0:case 1:throw Error(n(345));case 2:Uo(a,Fr,Gi);break;case 3:if(Ba(a,g),(g&130023424)===g&&(l=Op+500-Oe(),10<l)){if(So(a,0)!==0)break;if(y=a.suspendedLanes,(y&g)!==g){Tr(),a.pingedLanes|=a.suspendedLanes&y;break}a.timeoutHandle=$m(Uo.bind(null,a,Fr,Gi),l);break}Uo(a,Fr,Gi);break;case 4:if(Ba(a,g),(g&4194240)===g)break;for(l=a.eventTimes,y=-1;0<g;){var D=31-Xt(g);S=1<<D,D=l[D],D>y&&(y=D),g&=~S}if(g=y,g=Oe()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*tP(g/1960))-g,10<g){a.timeoutHandle=$m(Uo.bind(null,a,Fr,Gi),g);break}Uo(a,Fr,Gi);break;case 5:Uo(a,Fr,Gi);break;default:throw Error(n(329))}}}return Mr(a,Oe()),a.callbackNode===d?H_.bind(null,a):null}function Lp(a,l){var d=Pu;return a.current.memoizedState.isDehydrated&&(Vo(a,l).flags|=256),a=cf(a,l),a!==2&&(l=Fr,Fr=d,l!==null&&Vp(l)),a}function Vp(a){Fr===null?Fr=a:Fr.push.apply(Fr,a)}function nP(a){for(var l=a;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var y=d[g],S=y.getSnapshot;y=y.value;try{if(!Fs(S(),y))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ba(a,l){for(l&=~jp,l&=~nf,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var d=31-Xt(l),g=1<<d;a[d]=-1,l&=~g}}function $_(a){if((bt&6)!==0)throw Error(n(327));ec();var l=So(a,0);if((l&1)===0)return Mr(a,Oe()),null;var d=cf(a,l);if(a.tag!==0&&d===2){var g=Gr(a);g!==0&&(l=g,d=Lp(a,g))}if(d===1)throw d=Iu,Vo(a,0),Ba(a,l),Mr(a,Oe()),d;if(d===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,Uo(a,Fr,Gi),Mr(a,Oe()),null}function Up(a,l){var d=bt;bt|=1;try{return a(l)}finally{bt=d,bt===0&&(Zl=Oe()+500,Od&&ja())}}function Lo(a){Va!==null&&Va.tag===0&&(bt&6)===0&&ec();var l=bt;bt|=1;var d=gs.transition,g=wt;try{if(gs.transition=null,wt=1,a)return a()}finally{wt=g,gs.transition=d,bt=l,(bt&6)===0&&ja()}}function Bp(){Qr=Jl.current,Qt(Jl)}function Vo(a,l){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==-1&&(a.timeoutHandle=-1,RI(d)),Tn!==null)for(d=Tn.return;d!==null;){var g=d;switch(Ym(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Dd();break;case 3:Xl(),Qt(Dr),Qt(lr),cp();break;case 5:op(g);break;case 4:Xl();break;case 13:Qt(on);break;case 19:Qt(on);break;case 10:np(g.type._context);break;case 22:case 23:Bp()}d=d.return}if(Un=a,Tn=a=za(a.current,null),Yn=Qr=l,Dn=0,Iu=null,jp=nf=Mo=0,Fr=Pu=null,jo!==null){for(l=0;l<jo.length;l++)if(d=jo[l],g=d.interleaved,g!==null){d.interleaved=null;var y=g.next,S=d.pending;if(S!==null){var D=S.next;S.next=y,g.next=D}d.pending=g}jo=null}return a}function W_(a,l){do{var d=Tn;try{if(tp(),Wd.current=Xd,Gd){for(var g=ln.memoizedState;g!==null;){var y=g.queue;y!==null&&(y.pending=null),g=g.next}Gd=!1}if(Fo=0,Vn=Rn=ln=null,Tu=!1,Su=0,Dp.current=null,d===null||d.return===null){Dn=1,Iu=l,Tn=null;break}e:{var S=a,D=d.return,Q=d,se=l;if(l=Yn,Q.flags|=32768,se!==null&&typeof se=="object"&&typeof se.then=="function"){var xe=se,ke=Q,Fe=ke.tag;if((ke.mode&1)===0&&(Fe===0||Fe===11||Fe===15)){var Pe=ke.alternate;Pe?(ke.updateQueue=Pe.updateQueue,ke.memoizedState=Pe.memoizedState,ke.lanes=Pe.lanes):(ke.updateQueue=null,ke.memoizedState=null)}var Ge=g_(D);if(Ge!==null){Ge.flags&=-257,x_(Ge,D,Q,S,l),Ge.mode&1&&p_(S,xe,l),l=Ge,se=xe;var Je=l.updateQueue;if(Je===null){var Ze=new Set;Ze.add(se),l.updateQueue=Ze}else Je.add(se);break e}else{if((l&1)===0){p_(S,xe,l),zp();break e}se=Error(n(426))}}else if(tn&&Q.mode&1){var yn=g_(D);if(yn!==null){(yn.flags&65536)===0&&(yn.flags|=256),x_(yn,D,Q,S,l),Zm(Yl(se,Q));break e}}S=se=Yl(se,Q),Dn!==4&&(Dn=2),Pu===null?Pu=[S]:Pu.push(S),S=D;do{switch(S.tag){case 3:S.flags|=65536,l&=-l,S.lanes|=l;var le=f_(S,se,l);Uy(S,le);break e;case 1:Q=se;var ie=S.type,he=S.stateNode;if((S.flags&128)===0&&(typeof ie.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(La===null||!La.has(he)))){S.flags|=65536,l&=-l,S.lanes|=l;var Ve=m_(S,Q,l);Uy(S,Ve);break e}}S=S.return}while(S!==null)}q_(d)}catch(tt){l=tt,Tn===d&&d!==null&&(Tn=d=d.return);continue}break}while(!0)}function G_(){var a=tf.current;return tf.current=Xd,a===null?Xd:a}function zp(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),Un===null||(Mo&268435455)===0&&(nf&268435455)===0||Ba(Un,Yn)}function cf(a,l){var d=bt;bt|=2;var g=G_();(Un!==a||Yn!==l)&&(Gi=null,Vo(a,l));do try{rP();break}catch(y){W_(a,y)}while(!0);if(tp(),bt=d,tf.current=g,Tn!==null)throw Error(n(261));return Un=null,Yn=0,Dn}function rP(){for(;Tn!==null;)K_(Tn)}function sP(){for(;Tn!==null&&!We();)K_(Tn)}function K_(a){var l=Q_(a.alternate,a,Qr);a.memoizedProps=a.pendingProps,l===null?q_(a):Tn=l,Dp.current=null}function q_(a){var l=a;do{var d=l.alternate;if(a=l.return,(l.flags&32768)===0){if(d=YI(d,l,Qr),d!==null){Tn=d;return}}else{if(d=QI(d,l),d!==null){d.flags&=32767,Tn=d;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Dn=6,Tn=null;return}}if(l=l.sibling,l!==null){Tn=l;return}Tn=l=a}while(l!==null);Dn===0&&(Dn=5)}function Uo(a,l,d){var g=wt,y=gs.transition;try{gs.transition=null,wt=1,iP(a,l,d,g)}finally{gs.transition=y,wt=g}return null}function iP(a,l,d,g){do ec();while(Va!==null);if((bt&6)!==0)throw Error(n(327));d=a.finishedWork;var y=a.finishedLanes;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var S=d.lanes|d.childLanes;if(Ht(a,S),a===Un&&(Tn=Un=null,Yn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||sf||(sf=!0,J_(Dt,function(){return ec(),null})),S=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||S){S=gs.transition,gs.transition=null;var D=wt;wt=1;var Q=bt;bt|=4,Dp.current=null,ZI(a,d),L_(d,a),bI(zm),Ca=!!Bm,zm=Bm=null,a.current=d,eP(d),Me(),bt=Q,wt=D,gs.transition=S}else a.current=d;if(sf&&(sf=!1,Va=a,af=y),S=a.pendingLanes,S===0&&(La=null),wa(d.stateNode),Mr(a,Oe()),l!==null)for(g=a.onRecoverableError,d=0;d<l.length;d++)y=l[d],g(y.value,{componentStack:y.stack,digest:y.digest});if(rf)throw rf=!1,a=Fp,Fp=null,a;return(af&1)!==0&&a.tag!==0&&ec(),S=a.pendingLanes,(S&1)!==0?a===Mp?ku++:(ku=0,Mp=a):ku=0,ja(),null}function ec(){if(Va!==null){var a=Na(af),l=gs.transition,d=wt;try{if(gs.transition=null,wt=16>a?16:a,Va===null)var g=!1;else{if(a=Va,Va=null,af=0,(bt&6)!==0)throw Error(n(331));var y=bt;for(bt|=4,Xe=a.current;Xe!==null;){var S=Xe,D=S.child;if((Xe.flags&16)!==0){var Q=S.deletions;if(Q!==null){for(var se=0;se<Q.length;se++){var xe=Q[se];for(Xe=xe;Xe!==null;){var ke=Xe;switch(ke.tag){case 0:case 11:case 15:Cu(8,ke,S)}var Fe=ke.child;if(Fe!==null)Fe.return=ke,Xe=Fe;else for(;Xe!==null;){ke=Xe;var Pe=ke.sibling,Ge=ke.return;if(D_(ke),ke===xe){Xe=null;break}if(Pe!==null){Pe.return=Ge,Xe=Pe;break}Xe=Ge}}}var Je=S.alternate;if(Je!==null){var Ze=Je.child;if(Ze!==null){Je.child=null;do{var yn=Ze.sibling;Ze.sibling=null,Ze=yn}while(Ze!==null)}}Xe=S}}if((S.subtreeFlags&2064)!==0&&D!==null)D.return=S,Xe=D;else e:for(;Xe!==null;){if(S=Xe,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Cu(9,S,S.return)}var le=S.sibling;if(le!==null){le.return=S.return,Xe=le;break e}Xe=S.return}}var ie=a.current;for(Xe=ie;Xe!==null;){D=Xe;var he=D.child;if((D.subtreeFlags&2064)!==0&&he!==null)he.return=D,Xe=he;else e:for(D=ie;Xe!==null;){if(Q=Xe,(Q.flags&2048)!==0)try{switch(Q.tag){case 0:case 11:case 15:ef(9,Q)}}catch(tt){dn(Q,Q.return,tt)}if(Q===D){Xe=null;break e}var Ve=Q.sibling;if(Ve!==null){Ve.return=Q.return,Xe=Ve;break e}Xe=Q.return}}if(bt=y,ja(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(Wr,a)}catch{}g=!0}return g}finally{wt=d,gs.transition=l}}return!1}function X_(a,l,d){l=Yl(d,l),l=f_(a,l,1),a=Fa(a,l,1),l=Tr(),a!==null&&(Sa(a,1,l),Mr(a,l))}function dn(a,l,d){if(a.tag===3)X_(a,a,d);else for(;l!==null;){if(l.tag===3){X_(l,a,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(La===null||!La.has(g))){a=Yl(d,a),a=m_(l,a,1),l=Fa(l,a,1),a=Tr(),l!==null&&(Sa(l,1,a),Mr(l,a));break}}l=l.return}}function aP(a,l,d){var g=a.pingCache;g!==null&&g.delete(l),l=Tr(),a.pingedLanes|=a.suspendedLanes&d,Un===a&&(Yn&d)===d&&(Dn===4||Dn===3&&(Yn&130023424)===Yn&&500>Oe()-Op?Vo(a,0):jp|=d),Mr(a,l)}function Y_(a,l){l===0&&((a.mode&1)===0?l=1:(l=Tl,Tl<<=1,(Tl&130023424)===0&&(Tl=4194304)));var d=Tr();a=Hi(a,l),a!==null&&(Sa(a,l,d),Mr(a,d))}function oP(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),Y_(a,d)}function lP(a,l){var d=0;switch(a.tag){case 13:var g=a.stateNode,y=a.memoizedState;y!==null&&(d=y.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(l),Y_(a,d)}var Q_;Q_=function(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps||Dr.current)Or=!0;else{if((a.lanes&d)===0&&(l.flags&128)===0)return Or=!1,XI(a,l,d);Or=(a.flags&131072)!==0}else Or=!1,tn&&(l.flags&1048576)!==0&&Py(l,Md,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;Jd(a,l),a=l.pendingProps;var y=zl(l,lr.current);ql(l,d),y=dp(null,l,g,a,y,d);var S=fp();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,jr(g)?(S=!0,jd(l)):S=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,ip(l),y.updater=Yd,l.stateNode=y,y._reactInternals=l,yp(l,g,a,d),l=Tp(null,l,g,!0,S,d)):(l.tag=0,tn&&S&&Xm(l),Er(null,l,y,d),l=l.child),l;case 16:g=l.elementType;e:{switch(Jd(a,l),a=l.pendingProps,y=g._init,g=y(g._payload),l.type=g,y=l.tag=uP(g),a=Ls(g,a),y){case 0:l=Ep(null,l,g,a,d);break e;case 1:l=T_(null,l,g,a,d);break e;case 11:l=v_(null,l,g,a,d);break e;case 14:l=y_(null,l,g,Ls(g.type,a),d);break e}throw Error(n(306,g,""))}return l;case 0:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:Ls(g,y),Ep(a,l,g,y,d);case 1:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:Ls(g,y),T_(a,l,g,y,d);case 3:e:{if(S_(l),a===null)throw Error(n(387));g=l.pendingProps,S=l.memoizedState,y=S.element,Vy(a,l),Hd(l,g,null,d);var D=l.memoizedState;if(g=D.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){y=Yl(Error(n(423)),l),l=b_(a,l,g,d,y);break e}else if(g!==y){y=Yl(Error(n(424)),l),l=b_(a,l,g,d,y);break e}else for(Yr=ka(l.stateNode.containerInfo.firstChild),Xr=l,tn=!0,Ms=null,d=My(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Wl(),g===y){l=Wi(a,l,d);break e}Er(a,l,g,d)}l=l.child}return l;case 5:return zy(l),a===null&&Jm(l),g=l.type,y=l.pendingProps,S=a!==null?a.memoizedProps:null,D=y.children,Hm(g,y)?D=null:S!==null&&Hm(g,S)&&(l.flags|=32),E_(a,l),Er(a,l,D,d),l.child;case 6:return a===null&&Jm(l),null;case 13:return N_(a,l,d);case 4:return ap(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=Gl(l,null,g,d):Er(a,l,g,d),l.child;case 11:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:Ls(g,y),v_(a,l,g,y,d);case 7:return Er(a,l,l.pendingProps,d),l.child;case 8:return Er(a,l,l.pendingProps.children,d),l.child;case 12:return Er(a,l,l.pendingProps.children,d),l.child;case 10:e:{if(g=l.type._context,y=l.pendingProps,S=l.memoizedProps,D=y.value,Gt(Ud,g._currentValue),g._currentValue=D,S!==null)if(Fs(S.value,D)){if(S.children===y.children&&!Dr.current){l=Wi(a,l,d);break e}}else for(S=l.child,S!==null&&(S.return=l);S!==null;){var Q=S.dependencies;if(Q!==null){D=S.child;for(var se=Q.firstContext;se!==null;){if(se.context===g){if(S.tag===1){se=$i(-1,d&-d),se.tag=2;var xe=S.updateQueue;if(xe!==null){xe=xe.shared;var ke=xe.pending;ke===null?se.next=se:(se.next=ke.next,ke.next=se),xe.pending=se}}S.lanes|=d,se=S.alternate,se!==null&&(se.lanes|=d),rp(S.return,d,l),Q.lanes|=d;break}se=se.next}}else if(S.tag===10)D=S.type===l.type?null:S.child;else if(S.tag===18){if(D=S.return,D===null)throw Error(n(341));D.lanes|=d,Q=D.alternate,Q!==null&&(Q.lanes|=d),rp(D,d,l),D=S.sibling}else D=S.child;if(D!==null)D.return=S;else for(D=S;D!==null;){if(D===l){D=null;break}if(S=D.sibling,S!==null){S.return=D.return,D=S;break}D=D.return}S=D}Er(a,l,y.children,d),l=l.child}return l;case 9:return y=l.type,g=l.pendingProps.children,ql(l,d),y=ms(y),g=g(y),l.flags|=1,Er(a,l,g,d),l.child;case 14:return g=l.type,y=Ls(g,l.pendingProps),y=Ls(g.type,y),y_(a,l,g,y,d);case 15:return __(a,l,l.type,l.pendingProps,d);case 17:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:Ls(g,y),Jd(a,l),l.tag=1,jr(g)?(a=!0,jd(l)):a=!1,ql(l,d),h_(l,g,y),yp(l,g,y,d),Tp(null,l,g,!0,a,d);case 19:return C_(a,l,d);case 22:return w_(a,l,d)}throw Error(n(156,l.tag))};function J_(a,l){return De(a,l)}function cP(a,l,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xs(a,l,d,g){return new cP(a,l,d,g)}function Hp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function uP(a){if(typeof a=="function")return Hp(a)?1:0;if(a!=null){if(a=a.$$typeof,a===L)return 11;if(a===Ce)return 14}return 2}function za(a,l){var d=a.alternate;return d===null?(d=xs(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&14680064,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function uf(a,l,d,g,y,S){var D=2;if(g=a,typeof a=="function")Hp(a)&&(D=1);else if(typeof a=="string")D=5;else e:switch(a){case P:return Bo(d.children,y,S,l);case T:D=8,y|=8;break;case b:return a=xs(12,d,l,y|2),a.elementType=b,a.lanes=S,a;case k:return a=xs(13,d,l,y),a.elementType=k,a.lanes=S,a;case Ae:return a=xs(19,d,l,y),a.elementType=Ae,a.lanes=S,a;case Re:return hf(d,y,S,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:D=10;break e;case I:D=9;break e;case L:D=11;break e;case Ce:D=14;break e;case Ue:D=16,g=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return l=xs(D,d,l,y),l.elementType=a,l.type=g,l.lanes=S,l}function Bo(a,l,d,g){return a=xs(7,a,g,l),a.lanes=d,a}function hf(a,l,d,g){return a=xs(22,a,g,l),a.elementType=Re,a.lanes=d,a.stateNode={isHidden:!1},a}function $p(a,l,d){return a=xs(6,a,null,l),a.lanes=d,a}function Wp(a,l,d){return l=xs(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function hP(a,l,d,g,y){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ta(0),this.expirationTimes=Ta(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ta(0),this.identifierPrefix=g,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Gp(a,l,d,g,y,S,D,Q,se){return a=new hP(a,l,d,Q,se),l===1?(l=1,S===!0&&(l|=8)):l=0,S=xs(3,null,null,l),a.current=S,S.stateNode=a,S.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},ip(S),a}function dP(a,l,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:g==null?null:""+g,children:a,containerInfo:l,implementation:d}}function Z_(a){if(!a)return Da;a=a._reactInternals;e:{if(q(a)!==a||a.tag!==1)throw Error(n(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(jr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(a.tag===1){var d=a.type;if(jr(d))return Ay(a,d,l)}return l}function ew(a,l,d,g,y,S,D,Q,se){return a=Gp(d,g,!0,a,y,S,D,Q,se),a.context=Z_(null),d=a.current,g=Tr(),y=Ua(d),S=$i(g,y),S.callback=l??null,Fa(d,S,y),a.current.lanes=y,Sa(a,y,g),Mr(a,g),a}function df(a,l,d,g){var y=l.current,S=Tr(),D=Ua(y);return d=Z_(d),l.context===null?l.context=d:l.pendingContext=d,l=$i(S,D),l.payload={element:a},g=g===void 0?null:g,g!==null&&(l.callback=g),a=Fa(y,l,D),a!==null&&(Bs(a,y,D,S),zd(a,y,D)),D}function ff(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function tw(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function Kp(a,l){tw(a,l),(a=a.alternate)&&tw(a,l)}function fP(){return null}var nw=typeof reportError=="function"?reportError:function(a){console.error(a)};function qp(a){this._internalRoot=a}mf.prototype.render=qp.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));df(a,l,null,null)},mf.prototype.unmount=qp.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;Lo(function(){df(null,a,null,null)}),l[Vi]=null}};function mf(a){this._internalRoot=a}mf.prototype.unstable_scheduleHydration=function(a){if(a){var l=fd();a={blockedOn:null,target:a,priority:l};for(var d=0;d<ii.length&&l!==0&&l<ii[d].priority;d++);ii.splice(d,0,a),d===0&&gd(a)}};function Xp(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function pf(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function rw(){}function mP(a,l,d,g,y){if(y){if(typeof g=="function"){var S=g;g=function(){var xe=ff(D);S.call(xe)}}var D=ew(l,g,a,0,null,!1,!1,"",rw);return a._reactRootContainer=D,a[Vi]=D.current,pu(a.nodeType===8?a.parentNode:a),Lo(),D}for(;y=a.lastChild;)a.removeChild(y);if(typeof g=="function"){var Q=g;g=function(){var xe=ff(se);Q.call(xe)}}var se=Gp(a,0,!1,null,null,!1,!1,"",rw);return a._reactRootContainer=se,a[Vi]=se.current,pu(a.nodeType===8?a.parentNode:a),Lo(function(){df(l,se,d,g)}),se}function gf(a,l,d,g,y){var S=d._reactRootContainer;if(S){var D=S;if(typeof y=="function"){var Q=y;y=function(){var se=ff(D);Q.call(se)}}df(l,D,a,y)}else D=mP(d,l,a,y,g);return ff(D)}hd=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var d=Ea(l.pendingLanes);d!==0&&(ba(l,d|1),Mr(l,Oe()),(bt&6)===0&&(Zl=Oe()+500,ja()))}break;case 13:Lo(function(){var g=Hi(a,1);if(g!==null){var y=Tr();Bs(g,a,1,y)}}),Kp(a,1)}},Sl=function(a){if(a.tag===13){var l=Hi(a,134217728);if(l!==null){var d=Tr();Bs(l,a,134217728,d)}Kp(a,134217728)}},dd=function(a){if(a.tag===13){var l=Ua(a),d=Hi(a,l);if(d!==null){var g=Tr();Bs(d,a,l,g)}Kp(a,l)}},fd=function(){return wt},md=function(a,l){var d=wt;try{return wt=a,l()}finally{wt=d}},Pi=function(a,l,d){switch(l){case"input":if(te(a,d),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==a&&g.form===a.form){var y=Rd(g);if(!y)throw Error(n(90));Qe(g),te(g,y)}}}break;case"textarea":Pn(a,d);break;case"select":l=d.value,l!=null&&ot(a,!!d.multiple,l,!1)}},ki=Up,Eo=Lo;var pP={usingClientEntryPoint:!1,Events:[vu,Ul,Rd,cs,wo,Up]},Ru={findFiberByHostInstance:Po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gP={bundleType:Ru.bundleType,version:Ru.version,rendererPackageName:Ru.rendererPackageName,rendererConfig:Ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=de(a),a===null?null:a.stateNode},findFiberByHostInstance:Ru.findFiberByHostInstance||fP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xf.isDisabled&&xf.supportsFiber)try{Wr=xf.inject(gP),vn=xf}catch{}}return Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pP,Lr.createPortal=function(a,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xp(l))throw Error(n(200));return dP(a,l,null,d)},Lr.createRoot=function(a,l){if(!Xp(a))throw Error(n(299));var d=!1,g="",y=nw;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=Gp(a,1,!1,null,null,d,!1,g,y),a[Vi]=l.current,pu(a.nodeType===8?a.parentNode:a),new qp(l)},Lr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=de(l),a=a===null?null:a.stateNode,a},Lr.flushSync=function(a){return Lo(a)},Lr.hydrate=function(a,l,d){if(!pf(l))throw Error(n(200));return gf(null,a,l,!0,d)},Lr.hydrateRoot=function(a,l,d){if(!Xp(a))throw Error(n(405));var g=d!=null&&d.hydratedSources||null,y=!1,S="",D=nw;if(d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onRecoverableError!==void 0&&(D=d.onRecoverableError)),l=ew(l,null,a,1,d??null,y,!1,S,D),a[Vi]=l.current,pu(a),g)for(a=0;a<g.length;a++)d=g[a],y=d._getVersion,y=y(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,y]:l.mutableSourceEagerHydrationData.push(d,y);return new mf(l)},Lr.render=function(a,l,d){if(!pf(l))throw Error(n(200));return gf(null,a,l,!1,d)},Lr.unmountComponentAtNode=function(a){if(!pf(a))throw Error(n(40));return a._reactRootContainer?(Lo(function(){gf(null,null,a,!1,function(){a._reactRootContainer=null,a[Vi]=null})}),!0):!1},Lr.unstable_batchedUpdates=Up,Lr.unstable_renderSubtreeIntoContainer=function(a,l,d,g){if(!pf(d))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return gf(a,l,d,!1,g)},Lr.version="18.3.1-next-f1338f8080-20240426",Lr}var hw;function JT(){if(hw)return Jp.exports;hw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jp.exports=bP(),Jp.exports}JT();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hh(){return hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hh.apply(this,arguments)}var Qa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qa||(Qa={}));const dw="popstate";function NP(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:u}=r.location;return zg("",{pathname:i,search:o,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:eS(s)}return CP(e,n,null,t)}function Mn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ZT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AP(){return Math.random().toString(36).substr(2,8)}function fw(t,e){return{usr:t.state,key:t.key,idx:e}}function zg(t,e,n,r){return n===void 0&&(n=null),hh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bc(e):e,{state:n,key:e&&e.key||r||AP()})}function eS(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function CP(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,u=Qa.Pop,h=null,f=m();f==null&&(f=0,o.replaceState(hh({},o.state,{idx:f}),""));function m(){return(o.state||{idx:null}).idx}function x(){u=Qa.Pop;let N=m(),M=N==null?null:N-f;f=N,h&&h({action:u,location:w.location,delta:M})}function v(N,M){u=Qa.Push;let j=zg(w.location,N,M);f=m()+1;let O=fw(j,f),z=w.createHref(j);try{o.pushState(O,"",z)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;s.location.assign(z)}i&&h&&h({action:u,location:w.location,delta:1})}function _(N,M){u=Qa.Replace;let j=zg(w.location,N,M);f=m();let O=fw(j,f),z=w.createHref(j);o.replaceState(O,"",z),i&&h&&h({action:u,location:w.location,delta:0})}function A(N){let M=s.location.origin!=="null"?s.location.origin:s.location.href,j=typeof N=="string"?N:eS(N);return j=j.replace(/ $/,"%20"),Mn(M,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,M)}let w={get action(){return u},get location(){return t(s,o)},listen(N){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(dw,x),h=N,()=>{s.removeEventListener(dw,x),h=null}},createHref(N){return e(s,N)},createURL:A,encodeLocation(N){let M=A(N);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:v,replace:_,go(N){return o.go(N)}};return w}var mw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mw||(mw={}));function IP(t,e,n){return n===void 0&&(n="/"),PP(t,e,n)}function PP(t,e,n,r){let s=typeof e=="string"?Bc(e):e,i=rS(s.pathname||"/",n);if(i==null)return null;let o=tS(t);kP(o);let u=null;for(let h=0;u==null&&h<o.length;++h){let f=HP(i);u=UP(o[h],f)}return u}function tS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,u)=>{let h={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};h.relativePath.startsWith("/")&&(Mn(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let f=Yo([r,h.relativePath]),m=n.concat(h);i.children&&i.children.length>0&&(Mn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),tS(i.children,e,m,f)),!(i.path==null&&!i.index)&&e.push({path:f,score:LP(f,i.index),routesMeta:m})};return t.forEach((i,o)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))s(i,o);else for(let h of nS(i.path))s(i,o,h)}),e}function nS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=nS(r.join("/")),u=[];return u.push(...o.map(h=>h===""?i:[i,h].join("/"))),s&&u.push(...o),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function kP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:VP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const RP=/^:[\w-]+$/,DP=3,jP=2,OP=1,FP=10,MP=-2,pw=t=>t==="*";function LP(t,e){let n=t.split("/"),r=n.length;return n.some(pw)&&(r+=MP),e&&(r+=jP),n.filter(s=>!pw(s)).reduce((s,i)=>s+(RP.test(i)?DP:i===""?OP:FP),r)}function VP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function UP(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let u=0;u<r.length;++u){let h=r[u],f=u===r.length-1,m=i==="/"?e:e.slice(i.length)||"/",x=BP({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),v=h.route;if(!x)return null;Object.assign(s,x.params),o.push({params:s,pathname:Yo([i,x.pathname]),pathnameBase:XP(Yo([i,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(i=Yo([i,x.pathnameBase]))}return o}function BP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=zP(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((f,m,x)=>{let{paramName:v,isOptional:_}=m;if(v==="*"){let w=u[x]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const A=u[x];return _&&!A?f[v]=void 0:f[v]=(A||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:o,pattern:t}}function zP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ZT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function HP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ZT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function rS(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $P(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Bc(t):t;return{pathname:n?n.startsWith("/")?n:WP(n,e):e,search:YP(r),hash:QP(s)}}function WP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function tg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function KP(t,e){let n=GP(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qP(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Bc(t):(s=hh({},t),Mn(!s.pathname||!s.pathname.includes("?"),tg("?","pathname","search",s)),Mn(!s.pathname||!s.pathname.includes("#"),tg("#","pathname","hash",s)),Mn(!s.search||!s.search.includes("#"),tg("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,u;if(o==null)u=n;else{let x=e.length-1;if(!r&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),x-=1;s.pathname=v.join("/")}u=x>=0?e[x]:"/"}let h=$P(s,u),f=o&&o!=="/"&&o.endsWith("/"),m=(i||o===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}const Yo=t=>t.join("/").replace(/\/\/+/g,"/"),XP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function JP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const sS=["post","put","patch","delete"];new Set(sS);const ZP=["get",...sS];new Set(ZP);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dh(){return dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dh.apply(this,arguments)}const Bx=ee.createContext(null),ek=ee.createContext(null),U0=ee.createContext(null),B0=ee.createContext(null),zc=ee.createContext({outlet:null,matches:[],isDataRoute:!1}),iS=ee.createContext(null);function z0(){return ee.useContext(B0)!=null}function zx(){return z0()||Mn(!1),ee.useContext(B0).location}function aS(t){ee.useContext(U0).static||ee.useLayoutEffect(t)}function Lh(){let{isDataRoute:t}=ee.useContext(zc);return t?fk():tk()}function tk(){z0()||Mn(!1);let t=ee.useContext(Bx),{basename:e,future:n,navigator:r}=ee.useContext(U0),{matches:s}=ee.useContext(zc),{pathname:i}=zx(),o=JSON.stringify(KP(s,n.v7_relativeSplatPath)),u=ee.useRef(!1);return aS(()=>{u.current=!0}),ee.useCallback(function(f,m){if(m===void 0&&(m={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let x=qP(f,JSON.parse(o),i,m.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Yo([e,x.pathname])),(m.replace?r.replace:r.push)(x,m.state,m)},[e,r,o,i,t])}function nk(t,e){return rk(t,e)}function rk(t,e,n,r){z0()||Mn(!1);let{navigator:s}=ee.useContext(U0),{matches:i}=ee.useContext(zc),o=i[i.length-1],u=o?o.params:{};o&&o.pathname;let h=o?o.pathnameBase:"/";o&&o.route;let f=zx(),m;if(e){var x;let N=typeof e=="string"?Bc(e):e;h==="/"||(x=N.pathname)!=null&&x.startsWith(h)||Mn(!1),m=N}else m=f;let v=m.pathname||"/",_=v;if(h!=="/"){let N=h.replace(/^\//,"").split("/");_="/"+v.replace(/^\//,"").split("/").slice(N.length).join("/")}let A=IP(t,{pathname:_}),w=lk(A&&A.map(N=>Object.assign({},N,{params:Object.assign({},u,N.params),pathname:Yo([h,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:Yo([h,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,n,r);return e&&w?ee.createElement(B0.Provider,{value:{location:dh({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Qa.Pop}},w):w}function sk(){let t=dk(),e=JP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),n?ee.createElement("pre",{style:s},n):null,null)}const ik=ee.createElement(sk,null);class ak extends ee.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?ee.createElement(zc.Provider,{value:this.props.routeContext},ee.createElement(iS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ok(t){let{routeContext:e,match:n,children:r}=t,s=ee.useContext(Bx);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),ee.createElement(zc.Provider,{value:e},r)}function lk(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=(s=n)==null?void 0:s.errors;if(u!=null){let m=o.findIndex(x=>x.route.id&&u?.[x.route.id]!==void 0);m>=0||Mn(!1),o=o.slice(0,Math.min(o.length,m+1))}let h=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<o.length;m++){let x=o[m];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(f=m),x.route.id){let{loaderData:v,errors:_}=n,A=x.route.loader&&v[x.route.id]===void 0&&(!_||_[x.route.id]===void 0);if(x.route.lazy||A){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((m,x,v)=>{let _,A=!1,w=null,N=null;n&&(_=u&&x.route.id?u[x.route.id]:void 0,w=x.route.errorElement||ik,h&&(f<0&&v===0?(mk("route-fallback"),A=!0,N=null):f===v&&(A=!0,N=x.route.hydrateFallbackElement||null)));let M=e.concat(o.slice(0,v+1)),j=()=>{let O;return _?O=w:A?O=N:x.route.Component?O=ee.createElement(x.route.Component,null):x.route.element?O=x.route.element:O=m,ee.createElement(ok,{match:x,routeContext:{outlet:m,matches:M,isDataRoute:n!=null},children:O})};return n&&(x.route.ErrorBoundary||x.route.errorElement||v===0)?ee.createElement(ak,{location:n.location,revalidation:n.revalidation,component:w,error:_,children:j(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):j()},null)}var oS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(oS||{}),lS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lS||{});function ck(t){let e=ee.useContext(Bx);return e||Mn(!1),e}function uk(t){let e=ee.useContext(ek);return e||Mn(!1),e}function hk(t){let e=ee.useContext(zc);return e||Mn(!1),e}function cS(t){let e=hk(),n=e.matches[e.matches.length-1];return n.route.id||Mn(!1),n.route.id}function dk(){var t;let e=ee.useContext(iS),n=uk(),r=cS();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function fk(){let{router:t}=ck(oS.UseNavigateStable),e=cS(lS.UseNavigateStable),n=ee.useRef(!1);return aS(()=>{n.current=!0}),ee.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,dh({fromRouteId:e},i)))},[t,e])}const gw={};function mk(t,e,n){gw[t]||(gw[t]=!0)}function pk(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function es(t){Mn(!1)}function gk(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Qa.Pop,navigator:i,static:o=!1,future:u}=t;z0()&&Mn(!1);let h=e.replace(/^\/*/,"/"),f=ee.useMemo(()=>({basename:h,navigator:i,static:o,future:dh({v7_relativeSplatPath:!1},u)}),[h,u,i,o]);typeof r=="string"&&(r=Bc(r));let{pathname:m="/",search:x="",hash:v="",state:_=null,key:A="default"}=r,w=ee.useMemo(()=>{let N=rS(m,h);return N==null?null:{location:{pathname:N,search:x,hash:v,state:_,key:A},navigationType:s}},[h,m,x,v,_,A,s]);return w==null?null:ee.createElement(U0.Provider,{value:f},ee.createElement(B0.Provider,{children:n,value:w}))}function uS(t){let{children:e,location:n}=t;return nk(Hg(e),n)}new Promise(()=>{});function Hg(t,e){e===void 0&&(e=[]);let n=[];return ee.Children.forEach(t,(r,s)=>{if(!ee.isValidElement(r))return;let i=[...e,s];if(r.type===ee.Fragment){n.push.apply(n,Hg(r.props.children,i));return}r.type!==es&&Mn(!1),!r.props.index||!r.props.children||Mn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Hg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const xk="6";try{window.__reactRouterVersion=xk}catch{}const vk="startTransition",xw=EP[vk];function yk(t){let{basename:e,children:n,future:r,window:s}=t,i=ee.useRef();i.current==null&&(i.current=NP({window:s,v5Compat:!0}));let o=i.current,[u,h]=ee.useState({action:o.action,location:o.location}),{v7_startTransition:f}=r||{},m=ee.useCallback(x=>{f&&xw?xw(()=>h(x)):h(x)},[h,f]);return ee.useLayoutEffect(()=>o.listen(m),[o,m]),ee.useEffect(()=>pk(r),[r]),ee.createElement(gk,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:o,future:r})}var vw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(vw||(vw={}));var yw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(yw||(yw={}));const Hx=ee.createContext({});function $x(t){const e=ee.useRef(null);return e.current===null&&(e.current=t()),e.current}const Wx=typeof window<"u",hS=Wx?ee.useLayoutEffect:ee.useEffect,H0=ee.createContext(null);function Gx(t,e){t.indexOf(e)===-1&&t.push(e)}function Kx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ra=(t,e,n)=>n>e?e:n<t?t:n;let qx=()=>{};const sa={},dS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function fS(t){return typeof t=="object"&&t!==null}const mS=t=>/^0[^.\s]+$/u.test(t);function Xx(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ts=t=>t,_k=(t,e)=>n=>e(t(n)),Vh=(...t)=>t.reduce(_k),fh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Yx{constructor(){this.subscriptions=[]}add(e){return Gx(this.subscriptions,e),()=>Kx(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gi=t=>t*1e3,xi=t=>t/1e3;function pS(t,e){return e?t*(1e3/e):0}const gS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,wk=1e-7,Ek=12;function Tk(t,e,n,r,s){let i,o,u=0;do o=e+(n-e)/2,i=gS(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>wk&&++u<Ek);return o}function Uh(t,e,n,r){if(t===e&&n===r)return Ts;const s=i=>Tk(i,0,1,t,n);return i=>i===0||i===1?i:gS(s(i),e,r)}const xS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,vS=t=>e=>1-t(1-e),yS=Uh(.33,1.53,.69,.99),Qx=vS(yS),_S=xS(Qx),wS=t=>(t*=2)<1?.5*Qx(t):.5*(2-Math.pow(2,-10*(t-1))),Jx=t=>1-Math.sin(Math.acos(t)),ES=vS(Jx),TS=xS(Jx),Sk=Uh(.42,0,1,1),bk=Uh(0,0,.58,1),SS=Uh(.42,0,.58,1),Nk=t=>Array.isArray(t)&&typeof t[0]!="number",bS=t=>Array.isArray(t)&&typeof t[0]=="number",Ak={linear:Ts,easeIn:Sk,easeInOut:SS,easeOut:bk,circIn:Jx,circInOut:TS,circOut:ES,backIn:Qx,backInOut:_S,backOut:yS,anticipate:wS},Ck=t=>typeof t=="string",_w=t=>{if(bS(t)){qx(t.length===4);const[e,n,r,s]=t;return Uh(e,n,r,s)}else if(Ck(t))return Ak[t];return t},vf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],ww={value:null};function Ik(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},h=0;function f(x){o.has(x)&&(m.schedule(x),t()),h++,x(u)}const m={schedule:(x,v=!1,_=!1)=>{const w=_&&s?n:r;return v&&o.add(x),w.has(x)||w.add(x),x},cancel:x=>{r.delete(x),o.delete(x)},process:x=>{if(u=x,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(f),e&&ww.value&&ww.value.frameloop[e].push(h),h=0,n.clear(),s=!1,i&&(i=!1,m.process(x))}};return m}const Pk=40;function NS(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=vf.reduce((O,z)=>(O[z]=Ik(i,e?z:void 0),O),{}),{setup:u,read:h,resolveKeyframes:f,preUpdate:m,update:x,preRender:v,render:_,postRender:A}=o,w=()=>{const O=sa.useManualTiming?s.timestamp:performance.now();n=!1,sa.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(O-s.timestamp,Pk),1)),s.timestamp=O,s.isProcessing=!0,u.process(s),h.process(s),f.process(s),m.process(s),x.process(s),v.process(s),_.process(s),A.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(w))},N=()=>{n=!0,r=!0,s.isProcessing||t(w)};return{schedule:vf.reduce((O,z)=>{const ne=o[z];return O[z]=(re,P=!1,T=!1)=>(n||N(),ne.schedule(re,P,T)),O},{}),cancel:O=>{for(let z=0;z<vf.length;z++)o[vf[z]].cancel(O)},state:s,steps:o}}const{schedule:nn,cancel:io,state:Jn,steps:ng}=NS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ts,!0);let Lf;function kk(){Lf=void 0}const Ur={now:()=>(Lf===void 0&&Ur.set(Jn.isProcessing||sa.useManualTiming?Jn.timestamp:performance.now()),Lf),set:t=>{Lf=t,queueMicrotask(kk)}},AS=t=>e=>typeof e=="string"&&e.startsWith(t),Zx=AS("--"),Rk=AS("var(--"),e1=t=>Rk(t)?Dk.test(t.split("/*")[0].trim()):!1,Dk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Hc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},mh={...Hc,transform:t=>ra(0,1,t)},yf={...Hc,default:1},Ku=t=>Math.round(t*1e5)/1e5,t1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jk(t){return t==null}const Ok=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,n1=(t,e)=>n=>!!(typeof n=="string"&&Ok.test(n)&&n.startsWith(t)||e&&!jk(n)&&Object.prototype.hasOwnProperty.call(n,e)),CS=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,u]=r.match(t1);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},Fk=t=>ra(0,255,t),rg={...Hc,transform:t=>Math.round(Fk(t))},Go={test:n1("rgb","red"),parse:CS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+rg.transform(t)+", "+rg.transform(e)+", "+rg.transform(n)+", "+Ku(mh.transform(r))+")"};function Mk(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const $g={test:n1("#"),parse:Mk,transform:Go.transform},Bh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ga=Bh("deg"),vi=Bh("%"),ut=Bh("px"),Lk=Bh("vh"),Vk=Bh("vw"),Ew={...vi,parse:t=>vi.parse(t)/100,transform:t=>vi.transform(t*100)},lc={test:n1("hsl","hue"),parse:CS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+vi.transform(Ku(e))+", "+vi.transform(Ku(n))+", "+Ku(mh.transform(r))+")"},Nn={test:t=>Go.test(t)||$g.test(t)||lc.test(t),parse:t=>Go.test(t)?Go.parse(t):lc.test(t)?lc.parse(t):$g.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Go.transform(t):lc.transform(t),getAnimatableNone:t=>{const e=Nn.parse(t);return e.alpha=0,Nn.transform(e)}},Uk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Bk(t){return isNaN(t)&&typeof t=="string"&&(t.match(t1)?.length||0)+(t.match(Uk)?.length||0)>0}const IS="number",PS="color",zk="var",Hk="var(",Tw="${}",$k=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ph(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const u=e.replace($k,h=>(Nn.test(h)?(r.color.push(i),s.push(PS),n.push(Nn.parse(h))):h.startsWith(Hk)?(r.var.push(i),s.push(zk),n.push(h)):(r.number.push(i),s.push(IS),n.push(parseFloat(h))),++i,Tw)).split(Tw);return{values:n,split:u,indexes:r,types:s}}function kS(t){return ph(t).values}function RS(t){const{split:e,types:n}=ph(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const u=n[o];u===IS?i+=Ku(s[o]):u===PS?i+=Nn.transform(s[o]):i+=s[o]}return i}}const Wk=t=>typeof t=="number"?0:Nn.test(t)?Nn.getAnimatableNone(t):t;function Gk(t){const e=kS(t);return RS(t)(e.map(Wk))}const ao={test:Bk,parse:kS,createTransformer:RS,getAnimatableNone:Gk};function sg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Kk({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;s=sg(h,u,t+1/3),i=sg(h,u,t),o=sg(h,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Zf(t,e){return n=>n>0?e:t}const cn=(t,e,n)=>t+(e-t)*n,ig=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},qk=[$g,Go,lc],Xk=t=>qk.find(e=>e.test(t));function Sw(t){const e=Xk(t);if(!e)return!1;let n=e.parse(t);return e===lc&&(n=Kk(n)),n}const bw=(t,e)=>{const n=Sw(t),r=Sw(e);if(!n||!r)return Zf(t,e);const s={...n};return i=>(s.red=ig(n.red,r.red,i),s.green=ig(n.green,r.green,i),s.blue=ig(n.blue,r.blue,i),s.alpha=cn(n.alpha,r.alpha,i),Go.transform(s))},Wg=new Set(["none","hidden"]);function Yk(t,e){return Wg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Qk(t,e){return n=>cn(t,e,n)}function r1(t){return typeof t=="number"?Qk:typeof t=="string"?e1(t)?Zf:Nn.test(t)?bw:eR:Array.isArray(t)?DS:typeof t=="object"?Nn.test(t)?bw:Jk:Zf}function DS(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>r1(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function Jk(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=r1(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function Zk(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],u=t.values[o]??0;n[s]=u,r[i]++}return n}const eR=(t,e)=>{const n=ao.createTransformer(e),r=ph(t),s=ph(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Wg.has(t)&&!s.values.length||Wg.has(e)&&!r.values.length?Yk(t,e):Vh(DS(Zk(r,s),s.values),n):Zf(t,e)};function jS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?cn(t,e,n):r1(t)(t,e)}const tR=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>nn.update(e,n),stop:()=>io(e),now:()=>Jn.isProcessing?Jn.timestamp:Ur.now()}},OS=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},e0=2e4;function s1(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<e0;)e+=n,r=t.next(e);return e>=e0?1/0:e}function nR(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(s1(r),e0);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:xi(s)}}const rR=5;function FS(t,e,n){const r=Math.max(e-rR,0);return pS(n-t(r),e-r)}const fn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ag=.001;function sR({duration:t=fn.duration,bounce:e=fn.bounce,velocity:n=fn.velocity,mass:r=fn.mass}){let s,i,o=1-e;o=ra(fn.minDamping,fn.maxDamping,o),t=ra(fn.minDuration,fn.maxDuration,xi(t)),o<1?(s=f=>{const m=f*o,x=m*t,v=m-n,_=Gg(f,o),A=Math.exp(-x);return ag-v/_*A},i=f=>{const x=f*o*t,v=x*n+n,_=Math.pow(o,2)*Math.pow(f,2)*t,A=Math.exp(-x),w=Gg(Math.pow(f,2),o);return(-s(f)+ag>0?-1:1)*((v-_)*A)/w}):(s=f=>{const m=Math.exp(-f*t),x=(f-n)*t+1;return-ag+m*x},i=f=>{const m=Math.exp(-f*t),x=(n-f)*(t*t);return m*x});const u=5/t,h=aR(s,i,u);if(t=gi(t),isNaN(h))return{stiffness:fn.stiffness,damping:fn.damping,duration:t};{const f=Math.pow(h,2)*r;return{stiffness:f,damping:o*2*Math.sqrt(r*f),duration:t}}}const iR=12;function aR(t,e,n){let r=n;for(let s=1;s<iR;s++)r=r-t(r)/e(r);return r}function Gg(t,e){return t*Math.sqrt(1-e*e)}const oR=["duration","bounce"],lR=["stiffness","damping","mass"];function Nw(t,e){return e.some(n=>t[n]!==void 0)}function cR(t){let e={velocity:fn.velocity,stiffness:fn.stiffness,damping:fn.damping,mass:fn.mass,isResolvedFromDuration:!1,...t};if(!Nw(t,lR)&&Nw(t,oR))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*ra(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:fn.mass,stiffness:s,damping:i}}else{const n=sR(t);e={...e,...n,mass:fn.mass},e.isResolvedFromDuration=!0}return e}function t0(t=fn.visualDuration,e=fn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],u={done:!1,value:i},{stiffness:h,damping:f,mass:m,duration:x,velocity:v,isResolvedFromDuration:_}=cR({...n,velocity:-xi(n.velocity||0)}),A=v||0,w=f/(2*Math.sqrt(h*m)),N=o-i,M=xi(Math.sqrt(h/m)),j=Math.abs(N)<5;r||(r=j?fn.restSpeed.granular:fn.restSpeed.default),s||(s=j?fn.restDelta.granular:fn.restDelta.default);let O;if(w<1){const ne=Gg(M,w);O=re=>{const P=Math.exp(-w*M*re);return o-P*((A+w*M*N)/ne*Math.sin(ne*re)+N*Math.cos(ne*re))}}else if(w===1)O=ne=>o-Math.exp(-M*ne)*(N+(A+M*N)*ne);else{const ne=M*Math.sqrt(w*w-1);O=re=>{const P=Math.exp(-w*M*re),T=Math.min(ne*re,300);return o-P*((A+w*M*N)*Math.sinh(T)+ne*N*Math.cosh(T))/ne}}const z={calculatedDuration:_&&x||null,next:ne=>{const re=O(ne);if(_)u.done=ne>=x;else{let P=ne===0?A:0;w<1&&(P=ne===0?gi(A):FS(O,ne,re));const T=Math.abs(P)<=r,b=Math.abs(o-re)<=s;u.done=T&&b}return u.value=u.done?o:re,u},toString:()=>{const ne=Math.min(s1(z),e0),re=OS(P=>z.next(ne*P).value,ne,30);return ne+"ms "+re},toTransition:()=>{}};return z}t0.applyToOptions=t=>{const e=nR(t,100,t0);return t.ease=e.ease,t.duration=gi(e.duration),t.type="keyframes",t};function Kg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:u,max:h,restDelta:f=.5,restSpeed:m}){const x=t[0],v={done:!1,value:x},_=T=>u!==void 0&&T<u||h!==void 0&&T>h,A=T=>u===void 0?h:h===void 0||Math.abs(u-T)<Math.abs(h-T)?u:h;let w=n*e;const N=x+w,M=o===void 0?N:o(N);M!==N&&(w=M-x);const j=T=>-w*Math.exp(-T/r),O=T=>M+j(T),z=T=>{const b=j(T),R=O(T);v.done=Math.abs(b)<=f,v.value=v.done?M:R};let ne,re;const P=T=>{_(v.value)&&(ne=T,re=t0({keyframes:[v.value,A(v.value)],velocity:FS(O,T,v.value),damping:s,stiffness:i,restDelta:f,restSpeed:m}))};return P(0),{calculatedDuration:null,next:T=>{let b=!1;return!re&&ne===void 0&&(b=!0,z(T),P(T)),ne!==void 0&&T>=ne?re.next(T-ne):(!b&&z(T),v)}}}function uR(t,e,n){const r=[],s=n||sa.mix||jS,i=t.length-1;for(let o=0;o<i;o++){let u=s(t[o],t[o+1]);if(e){const h=Array.isArray(e)?e[o]||Ts:e;u=Vh(h,u)}r.push(u)}return r}function hR(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(qx(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=uR(e,r,s),h=u.length,f=m=>{if(o&&m<t[0])return e[0];let x=0;if(h>1)for(;x<t.length-2&&!(m<t[x+1]);x++);const v=fh(t[x],t[x+1],m);return u[x](v)};return n?m=>f(ra(t[0],t[i-1],m)):f}function dR(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=fh(0,e,r);t.push(cn(n,1,s))}}function fR(t){const e=[0];return dR(e,t.length-1),e}function mR(t,e){return t.map(n=>n*e)}function pR(t,e){return t.map(()=>e||SS).splice(0,t.length-1)}function qu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=Nk(r)?r.map(_w):_w(r),i={done:!1,value:e[0]},o=mR(n&&n.length===e.length?n:fR(e),t),u=hR(o,e,{ease:Array.isArray(s)?s:pR(e,s)});return{calculatedDuration:t,next:h=>(i.value=u(h),i.done=h>=t,i)}}const gR=t=>t!==null;function i1(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(gR),u=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!u||r===void 0?i[u]:r}const xR={decay:Kg,inertia:Kg,tween:qu,keyframes:qu,spring:t0};function MS(t){typeof t.type=="string"&&(t.type=xR[t.type])}class a1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const vR=t=>t/100;class o1 extends a1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ur.now()&&this.tick(Ur.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;MS(e);const{type:n=qu,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:u}=e;const h=n||qu;h!==qu&&typeof u[0]!="number"&&(this.mixKeyframes=Vh(vR,jS(u[0],u[1])),u=[0,100]);const f=h({...e,keyframes:u});i==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=s1(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:m,repeat:x,repeatType:v,repeatDelay:_,type:A,onUpdate:w,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const M=this.currentTime-f*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?M<0:M>s;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let O=this.currentTime,z=r;if(x){const T=Math.min(this.currentTime,s)/u;let b=Math.floor(T),R=T%1;!R&&T>=1&&(R=1),R===1&&b--,b=Math.min(b,x+1),!!(b%2)&&(v==="reverse"?(R=1-R,_&&(R-=_/u)):v==="mirror"&&(z=o)),O=ra(0,1,R)*u}const ne=j?{done:!1,value:m[0]}:z.next(O);i&&(ne.value=i(ne.value));let{done:re}=ne;!j&&h!==null&&(re=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&re);return P&&A!==Kg&&(ne.value=i1(m,this.options,N,this.speed)),w&&w(ne.value),P&&this.finish(),ne}then(e,n){return this.finished.then(e,n)}get duration(){return xi(this.calculatedDuration)}get time(){return xi(this.currentTime)}set time(e){e=gi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ur.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=xi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=tR,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ur.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function yR(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ko=t=>t*180/Math.PI,qg=t=>{const e=Ko(Math.atan2(t[1],t[0]));return Xg(e)},_R={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:qg,rotateZ:qg,skewX:t=>Ko(Math.atan(t[1])),skewY:t=>Ko(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Xg=t=>(t=t%360,t<0&&(t+=360),t),Aw=qg,Cw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Iw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),wR={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Cw,scaleY:Iw,scale:t=>(Cw(t)+Iw(t))/2,rotateX:t=>Xg(Ko(Math.atan2(t[6],t[5]))),rotateY:t=>Xg(Ko(Math.atan2(-t[2],t[0]))),rotateZ:Aw,rotate:Aw,skewX:t=>Ko(Math.atan(t[4])),skewY:t=>Ko(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Yg(t){return t.includes("scale")?1:0}function Qg(t,e){if(!t||t==="none")return Yg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=wR,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=_R,s=u}if(!s)return Yg(e);const i=r[e],o=s[1].split(",").map(TR);return typeof i=="function"?i(o):o[i]}const ER=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Qg(n,e)};function TR(t){return parseFloat(t.trim())}const $c=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wc=new Set($c),Pw=t=>t===Hc||t===ut,SR=new Set(["x","y","z"]),bR=$c.filter(t=>!SR.has(t));function NR(t){const e=[];return bR.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Qo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Qg(e,"x"),y:(t,{transform:e})=>Qg(e,"y")};Qo.translateX=Qo.x;Qo.translateY=Qo.y;const Jo=new Set;let Jg=!1,Zg=!1,ex=!1;function LS(){if(Zg){const t=Array.from(Jo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=NR(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{r.getValue(i)?.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Zg=!1,Jg=!1,Jo.forEach(t=>t.complete(ex)),Jo.clear()}function VS(){Jo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Zg=!0)})}function AR(){ex=!0,VS(),LS(),ex=!1}class l1{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Jo.add(this),Jg||(Jg=!0,nn.read(VS),nn.resolveKeyframes(LS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s?.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const u=r.readValue(n,o);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}yR(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Jo.delete(this)}cancel(){this.state==="scheduled"&&(Jo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const CR=t=>t.startsWith("--");function IR(t,e,n){CR(e)?t.style.setProperty(e,n):t.style[e]=n}const PR=Xx(()=>window.ScrollTimeline!==void 0),kR={};function RR(t,e){const n=Xx(t);return()=>kR[e]??n()}const US=RR(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Vu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,kw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vu([0,.65,.55,1]),circOut:Vu([.55,0,1,.45]),backIn:Vu([.31,.01,.66,-.59]),backOut:Vu([.33,1.53,.69,.99])};function BS(t,e){if(t)return typeof t=="function"?US()?OS(t,e):"ease-out":bS(t)?Vu(t):Array.isArray(t)?t.map(n=>BS(n,e)||kw.easeOut):kw[t]}function DR(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:u="easeOut",times:h}={},f=void 0){const m={[e]:n};h&&(m.offset=h);const x=BS(u,s);Array.isArray(x)&&(m.easing=x);const v={delay:r,duration:s,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),t.animate(m,v)}function zS(t){return typeof t=="function"&&"applyToOptions"in t}function jR({type:t,...e}){return zS(t)&&US()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class OR extends a1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,qx(typeof e.type!="string");const f=jR(e);this.animation=DR(n,r,s,f,i),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const m=i1(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):IR(n,r,m),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return xi(Number(e))}get time(){return xi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=gi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&PR()?(this.animation.timeline=e,Ts):n(this)}}const HS={anticipate:wS,backInOut:_S,circInOut:TS};function FR(t){return t in HS}function MR(t){typeof t.ease=="string"&&FR(t.ease)&&(t.ease=HS[t.ease])}const Rw=10;class LR extends OR{constructor(e){MR(e),MS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new o1({...o,autoplay:!1}),h=gi(this.finishedTime??this.time);n.setWithVelocity(u.sample(h-Rw).value,u.sample(h).value,Rw),u.stop()}}const Dw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ao.test(t)||t==="0")&&!t.startsWith("url("));function VR(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function UR(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=Dw(s,e),u=Dw(i,e);return!o||!u?!1:VR(t)||(n==="spring"||zS(n))&&r}function c1(t){return fS(t)&&"offsetHeight"in t}const BR=new Set(["opacity","clipPath","filter","transform"]),zR=Xx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function HR(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!c1(e?.owner?.current))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return zR()&&n&&BR.has(n)&&(n!=="transform"||!h)&&!u&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const $R=40;class WR extends a1{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:u,name:h,motionValue:f,element:m,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ur.now();const v={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:h,motionValue:f,element:m,...x},_=m?.KeyframeResolver||l1;this.keyframeResolver=new _(u,(A,w,N)=>this.onKeyframesResolved(A,w,v,!N),h,f,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:u,delay:h,isHandoff:f,onUpdate:m}=r;this.resolvedAt=Ur.now(),UR(e,i,o,u)||((sa.instantAnimations||!h)&&m?.(i1(e,r,n)),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const v={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>$R?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},_=!f&&HR(v)?new LR({...v,element:v.motionValue.owner.current}):new o1(v);_.finished.then(()=>this.notifyFinished()).catch(Ts),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),AR()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const GR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function KR(t){const e=GR.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function $S(t,e,n=1){const[r,s]=KR(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return dS(o)?parseFloat(o):o}return e1(s)?$S(s,e,n+1):s}function u1(t,e){return t?.[e]??t?.default??t}const WS=new Set(["width","height","top","left","right","bottom",...$c]),qR={test:t=>t==="auto",parse:t=>t},GS=t=>e=>e.test(t),KS=[Hc,ut,vi,Ga,Vk,Lk,qR],jw=t=>KS.find(GS(t));function XR(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||mS(t):!0}const YR=new Set(["brightness","contrast","saturate","opacity"]);function QR(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(t1)||[];if(!r)return t;const s=n.replace(r,"");let i=YR.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const JR=/\b([a-z-]*)\(.*?\)/gu,tx={...ao,getAnimatableNone:t=>{const e=t.match(JR);return e?e.map(QR).join(" "):t}},Ow={...Hc,transform:Math.round},ZR={rotate:Ga,rotateX:Ga,rotateY:Ga,rotateZ:Ga,scale:yf,scaleX:yf,scaleY:yf,scaleZ:yf,skew:Ga,skewX:Ga,skewY:Ga,distance:ut,translateX:ut,translateY:ut,translateZ:ut,x:ut,y:ut,z:ut,perspective:ut,transformPerspective:ut,opacity:mh,originX:Ew,originY:Ew,originZ:ut},h1={borderWidth:ut,borderTopWidth:ut,borderRightWidth:ut,borderBottomWidth:ut,borderLeftWidth:ut,borderRadius:ut,radius:ut,borderTopLeftRadius:ut,borderTopRightRadius:ut,borderBottomRightRadius:ut,borderBottomLeftRadius:ut,width:ut,maxWidth:ut,height:ut,maxHeight:ut,top:ut,right:ut,bottom:ut,left:ut,padding:ut,paddingTop:ut,paddingRight:ut,paddingBottom:ut,paddingLeft:ut,margin:ut,marginTop:ut,marginRight:ut,marginBottom:ut,marginLeft:ut,backgroundPositionX:ut,backgroundPositionY:ut,...ZR,zIndex:Ow,fillOpacity:mh,strokeOpacity:mh,numOctaves:Ow},e3={...h1,color:Nn,backgroundColor:Nn,outlineColor:Nn,fill:Nn,stroke:Nn,borderColor:Nn,borderTopColor:Nn,borderRightColor:Nn,borderBottomColor:Nn,borderLeftColor:Nn,filter:tx,WebkitFilter:tx},qS=t=>e3[t];function XS(t,e){let n=qS(t);return n!==tx&&(n=ao),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const t3=new Set(["auto","none","0"]);function n3(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!t3.has(i)&&ph(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=XS(n,s)}class r3 extends l1{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),e1(f))){const m=$S(f,n.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!WS.has(r)||e.length!==2)return;const[s,i]=e,o=jw(s),u=jw(i);if(o!==u)if(Pw(o)&&Pw(u))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else Qo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||XR(e[s]))&&r.push(s);r.length&&n3(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Qo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,h])=>{e.getValue(u).set(h)}),this.resolveNoneKeyframes()}}function s3(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const YS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Fw=30,i3=t=>!isNaN(parseFloat(t));class a3{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Ur.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty();s&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ur.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=i3(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Yx);const r=this.events[e].add(n);return e==="change"?()=>{r(),nn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ur.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Fw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Fw);return pS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bc(t,e){return new a3(t,e)}const{schedule:d1}=NS(queueMicrotask,!1),$s={x:!1,y:!1};function QS(){return $s.x||$s.y}function o3(t){return t==="x"||t==="y"?$s[t]?null:($s[t]=!0,()=>{$s[t]=!1}):$s.x||$s.y?null:($s.x=$s.y=!0,()=>{$s.x=$s.y=!1})}function JS(t,e){const n=s3(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Mw(t){return!(t.pointerType==="touch"||QS())}function l3(t,e,n={}){const[r,s,i]=JS(t,n),o=u=>{if(!Mw(u))return;const{target:h}=u,f=e(h,u);if(typeof f!="function"||!h)return;const m=x=>{Mw(x)&&(f(x),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,s)};return r.forEach(u=>{u.addEventListener("pointerenter",o,s)}),i}const ZS=(t,e)=>e?t===e?!0:ZS(t,e.parentElement):!1,f1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,c3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function u3(t){return c3.has(t.tagName)||t.tabIndex!==-1}const Vf=new WeakSet;function Lw(t){return e=>{e.key==="Enter"&&t(e)}}function og(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const h3=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Lw(()=>{if(Vf.has(n))return;og(n,"down");const s=Lw(()=>{og(n,"up")}),i=()=>og(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Vw(t){return f1(t)&&!QS()}function d3(t,e,n={}){const[r,s,i]=JS(t,n),o=u=>{const h=u.currentTarget;if(!Vw(u))return;Vf.add(h);const f=e(h,u),m=(_,A)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",v),Vf.has(h)&&Vf.delete(h),Vw(_)&&typeof f=="function"&&f(_,{success:A})},x=_=>{m(_,h===window||h===document||n.useGlobalTarget||ZS(h,_.target))},v=_=>{m(_,!1)};window.addEventListener("pointerup",x,s),window.addEventListener("pointercancel",v,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",o,s),c1(u)&&(u.addEventListener("focus",f=>h3(f,s)),!u3(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),i}function eb(t){return fS(t)&&"ownerSVGElement"in t}function f3(t){return eb(t)&&t.tagName==="svg"}const pr=t=>!!(t&&t.getVelocity),m3=[...KS,Nn,ao],p3=t=>m3.find(GS(t)),m1=ee.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class g3 extends ee.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=c1(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function x3({children:t,isPresent:e,anchorX:n,root:r}){const s=ee.useId(),i=ee.useRef(null),o=ee.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=ee.useContext(m1);return ee.useInsertionEffect(()=>{const{width:h,height:f,top:m,left:x,right:v}=o.current;if(e||!i.current||!h||!f)return;const _=n==="left"?`left: ${x}`:`right: ${v}`;i.current.dataset.motionPopId=s;const A=document.createElement("style");u&&(A.nonce=u);const w=r??document.head;return w.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${_}px !important;
            top: ${m}px !important;
          }
        `),()=>{w.removeChild(A),w.contains(A)&&w.removeChild(A)}},[e]),c.jsx(g3,{isPresent:e,childRef:i,sizeRef:o,children:ee.cloneElement(t,{ref:i})})}const v3=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:u,root:h})=>{const f=$x(y3),m=ee.useId();let x=!0,v=ee.useMemo(()=>(x=!1,{id:m,initial:e,isPresent:n,custom:s,onExitComplete:_=>{f.set(_,!0);for(const A of f.values())if(!A)return;r&&r()},register:_=>(f.set(_,!1),()=>f.delete(_))}),[n,f,r]);return i&&x&&(v={...v}),ee.useMemo(()=>{f.forEach((_,A)=>f.set(A,!1))},[n]),ee.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),o==="popLayout"&&(t=c.jsx(x3,{isPresent:n,anchorX:u,root:h,children:t})),c.jsx(H0.Provider,{value:v,children:t})};function y3(){return new Map}function tb(t=!0){const e=ee.useContext(H0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=ee.useId();ee.useEffect(()=>{if(t)return s(i)},[t]);const o=ee.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const _f=t=>t.key||"";function Uw(t){const e=[];return ee.Children.forEach(t,n=>{ee.isValidElement(n)&&e.push(n)}),e}const un=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:u="left",root:h})=>{const[f,m]=tb(o),x=ee.useMemo(()=>Uw(t),[t]),v=o&&!f?[]:x.map(_f),_=ee.useRef(!0),A=ee.useRef(x),w=$x(()=>new Map),[N,M]=ee.useState(x),[j,O]=ee.useState(x);hS(()=>{_.current=!1,A.current=x;for(let re=0;re<j.length;re++){const P=_f(j[re]);v.includes(P)?w.delete(P):w.get(P)!==!0&&w.set(P,!1)}},[j,v.length,v.join("-")]);const z=[];if(x!==N){let re=[...x];for(let P=0;P<j.length;P++){const T=j[P],b=_f(T);v.includes(b)||(re.splice(P,0,T),z.push(T))}return i==="wait"&&z.length&&(re=z),O(Uw(re)),M(x),null}const{forceRender:ne}=ee.useContext(Hx);return c.jsx(c.Fragment,{children:j.map(re=>{const P=_f(re),T=o&&!f?!1:x===j||v.includes(P),b=()=>{if(w.has(P))w.set(P,!0);else return;let R=!0;w.forEach(I=>{I||(R=!1)}),R&&(ne?.(),O(A.current),o&&m?.(),r&&r())};return c.jsx(v3,{isPresent:T,initial:!_.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:h,onExitComplete:T?void 0:b,anchorX:u,children:re},P)})})},nb=ee.createContext({strict:!1}),Bw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nc={};for(const t in Bw)Nc[t]={isEnabled:e=>Bw[t].some(n=>!!e[n])};function _3(t){for(const e in t)Nc[e]={...Nc[e],...t[e]}}const w3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function n0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||w3.has(t)}let rb=t=>!n0(t);function E3(t){typeof t=="function"&&(rb=e=>e.startsWith("on")?!n0(e):t(e))}try{E3(require("@emotion/is-prop-valid").default)}catch{}function T3(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(rb(s)||n===!0&&n0(s)||!e&&!n0(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function S3(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const $0=ee.createContext({});function W0(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function gh(t){return typeof t=="string"||Array.isArray(t)}const p1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],g1=["initial",...p1];function G0(t){return W0(t.animate)||g1.some(e=>gh(t[e]))}function sb(t){return!!(G0(t)||t.variants)}function b3(t,e){if(G0(t)){const{initial:n,animate:r}=t;return{initial:n===!1||gh(n)?n:void 0,animate:gh(r)?r:void 0}}return t.inherit!==!1?e:{}}function N3(t){const{initial:e,animate:n}=b3(t,ee.useContext($0));return ee.useMemo(()=>({initial:e,animate:n}),[zw(e),zw(n)])}function zw(t){return Array.isArray(t)?t.join(" "):t}const A3=Symbol.for("motionComponentSymbol");function cc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function C3(t,e,n){return ee.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):cc(n)&&(n.current=r))},[e])}const x1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),I3="framerAppearId",ib="data-"+x1(I3),ab=ee.createContext({});function P3(t,e,n,r,s){const{visualElement:i}=ee.useContext($0),o=ee.useContext(nb),u=ee.useContext(H0),h=ee.useContext(m1).reducedMotion,f=ee.useRef(null);r=r||o.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:i,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const m=f.current,x=ee.useContext(ab);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&k3(f.current,n,s,x);const v=ee.useRef(!1);ee.useInsertionEffect(()=>{m&&v.current&&m.update(n,u)});const _=n[ib],A=ee.useRef(!!_&&!window.MotionHandoffIsComplete?.(_)&&window.MotionHasOptimisedAnimation?.(_));return hS(()=>{m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),d1.render(m.render),A.current&&m.animationState&&m.animationState.animateChanges())}),ee.useEffect(()=>{m&&(!A.current&&m.animationState&&m.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(_)}),A.current=!1))}),m}function k3(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:u,layoutScroll:h,layoutRoot:f,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ob(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||u&&cc(u),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:h,layoutRoot:f})}function ob(t){if(t)return t.options.allowProjection!==!1?t.projection:ob(t.parent)}function R3({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&_3(t);function i(u,h){let f;const m={...ee.useContext(m1),...u,layoutId:D3(u)},{isStatic:x}=m,v=N3(u),_=r(u,x);if(!x&&Wx){j3();const A=O3(m);f=A.MeasureLayout,v.visualElement=P3(s,_,m,e,A.ProjectionNode)}return c.jsxs($0.Provider,{value:v,children:[f&&v.visualElement?c.jsx(f,{visualElement:v.visualElement,...m}):null,n(s,u,C3(_,v.visualElement,h),_,x,v.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=ee.forwardRef(i);return o[A3]=s,o}function D3({layoutId:t}){const e=ee.useContext(Hx).id;return e&&t!==void 0?e+"-"+t:t}function j3(t,e){ee.useContext(nb).strict}function O3(t){const{drag:e,layout:n}=Nc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const xh={};function F3(t){for(const e in t)xh[e]=t[e],Zx(e)&&(xh[e].isCSSVariable=!0)}function lb(t,{layout:e,layoutId:n}){return Wc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!xh[t]||t==="opacity")}const M3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},L3=$c.length;function V3(t,e,n){let r="",s=!0;for(let i=0;i<L3;i++){const o=$c[i],u=t[o];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(o.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const f=YS(u,h1[o]);if(!h){s=!1;const m=M3[o]||o;r+=`${m}(${f}) `}n&&(e[o]=f)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function v1(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,u=!1;for(const h in e){const f=e[h];if(Wc.has(h)){o=!0;continue}else if(Zx(h)){s[h]=f;continue}else{const m=YS(f,h1[h]);h.startsWith("origin")?(u=!0,i[h]=m):r[h]=m}}if(e.transform||(o||n?r.transform=V3(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:m=0}=i;r.transformOrigin=`${h} ${f} ${m}`}}const y1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cb(t,e,n){for(const r in e)!pr(e[r])&&!lb(r,n)&&(t[r]=e[r])}function U3({transformTemplate:t},e){return ee.useMemo(()=>{const n=y1();return v1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function B3(t,e){const n=t.style||{},r={};return cb(r,n,t),Object.assign(r,U3(t,e)),r}function z3(t,e){const n={},r=B3(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const H3={offset:"stroke-dashoffset",array:"stroke-dasharray"},$3={offset:"strokeDashoffset",array:"strokeDasharray"};function W3(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?H3:$3;t[i.offset]=ut.transform(-r);const o=ut.transform(e),u=ut.transform(n);t[i.array]=`${o} ${u}`}function ub(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...u},h,f,m){if(v1(t,u,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:v}=t;x.transform&&(v.transform=x.transform,delete x.transform),(v.transform||x.transformOrigin)&&(v.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),v.transform&&(v.transformBox=m?.transformBox??"fill-box",delete x.transformBox),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),r!==void 0&&(x.scale=r),s!==void 0&&W3(x,s,i,o,!1)}const hb=()=>({...y1(),attrs:{}}),db=t=>typeof t=="string"&&t.toLowerCase()==="svg";function G3(t,e,n,r){const s=ee.useMemo(()=>{const i=hb();return ub(i,e,db(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};cb(i,t.style,t),s.style={...i,...s.style}}return s}const K3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _1(t){return typeof t!="string"||t.includes("-")?!1:!!(K3.indexOf(t)>-1||/[A-Z]/u.test(t))}function q3(t=!1){return(n,r,s,{latestValues:i},o)=>{const h=(_1(n)?G3:z3)(r,i,o,n),f=T3(r,typeof n=="string",t),m=n!==ee.Fragment?{...f,...h,ref:s}:{},{children:x}=r,v=ee.useMemo(()=>pr(x)?x.get():x,[x]);return ee.createElement(n,{...m,children:v})}}function Hw(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function w1(t,e,n,r){if(typeof e=="function"){const[s,i]=Hw(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Hw(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Uf(t){return pr(t)?t.get():t}function X3({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:Y3(n,r,s,t),renderState:e()}}const fb=t=>(e,n)=>{const r=ee.useContext($0),s=ee.useContext(H0),i=()=>X3(t,e,r,s);return n?i():$x(i)};function Y3(t,e,n,r){const s={},i=r(t,{});for(const v in i)s[v]=Uf(i[v]);let{initial:o,animate:u}=t;const h=G0(t),f=sb(t);e&&f&&!h&&t.inherit!==!1&&(o===void 0&&(o=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||o===!1;const x=m?u:o;if(x&&typeof x!="boolean"&&!W0(x)){const v=Array.isArray(x)?x:[x];for(let _=0;_<v.length;_++){const A=w1(t,v[_]);if(A){const{transitionEnd:w,transition:N,...M}=A;for(const j in M){let O=M[j];if(Array.isArray(O)){const z=m?O.length-1:0;O=O[z]}O!==null&&(s[j]=O)}for(const j in w)s[j]=w[j]}}}return s}function E1(t,e,n){const{style:r}=t,s={};for(const i in r)(pr(r[i])||e.style&&pr(e.style[i])||lb(i,t)||n?.getValue(i)?.liveStyle!==void 0)&&(s[i]=r[i]);return s}const Q3={useVisualState:fb({scrapeMotionValuesFromProps:E1,createRenderState:y1})};function mb(t,e,n){const r=E1(t,e,n);for(const s in t)if(pr(t[s])||pr(e[s])){const i=$c.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const J3={useVisualState:fb({scrapeMotionValuesFromProps:mb,createRenderState:hb})};function Z3(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={..._1(r)?J3:Q3,preloadedFeatures:t,useRender:q3(s),createVisualElement:e,Component:r};return R3(o)}}function vh(t,e,n){const r=t.getProps();return w1(r,e,n!==void 0?n:r.custom,t)}const nx=t=>Array.isArray(t);function eD(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,bc(n))}function tD(t){return nx(t)?t[t.length-1]||0:t}function nD(t,e){const n=vh(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const u=tD(i[o]);eD(t,o,u)}}function rD(t){return!!(pr(t)&&t.add)}function rx(t,e){const n=t.getValue("willChange");if(rD(n))return n.add(e);if(!n&&sa.WillChange){const r=new sa.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function pb(t){return t.props[ib]}const sD=t=>t!==null;function iD(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(sD),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const aD={type:"spring",stiffness:500,damping:25,restSpeed:10},oD=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),lD={type:"keyframes",duration:.8},cD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uD=(t,{keyframes:e})=>e.length>2?lD:Wc.has(t)?t.startsWith("scale")?oD(e[1]):aD:cD;function hD({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:u,from:h,elapsed:f,...m}){return!!Object.keys(m).length}const T1=(t,e,n,r={},s,i)=>o=>{const u=u1(r,t)||{},h=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-gi(h);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{o(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:i?void 0:s};hD(u)||Object.assign(m,uD(t,m)),m.duration&&(m.duration=gi(m.duration)),m.repeatDelay&&(m.repeatDelay=gi(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let x=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(x=!0)),(sa.instantAnimations||sa.skipAnimations)&&(x=!0,m.duration=0,m.delay=0),m.allowFlatten=!u.type&&!u.ease,x&&!i&&e.get()!==void 0){const v=iD(m.keyframes,u);if(v!==void 0){nn.update(()=>{m.onUpdate(v),m.onComplete()});return}}return u.isSync?new o1(m):new WR(m)};function dD({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function gb(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...u}=e;r&&(i=r);const h=[],f=s&&t.animationState&&t.animationState.getState()[s];for(const m in u){const x=t.getValue(m,t.latestValues[m]??null),v=u[m];if(v===void 0||f&&dD(f,m))continue;const _={delay:n,...u1(i||{},m)},A=x.get();if(A!==void 0&&!x.isAnimating&&!Array.isArray(v)&&v===A&&!_.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const M=pb(t);if(M){const j=window.MotionHandoffAnimation(M,m,nn);j!==null&&(_.startTime=j,w=!0)}}rx(t,m),x.start(T1(m,x,v,t.shouldReduceMotion&&WS.has(m)?{type:!1}:_,t,w));const N=x.animation;N&&h.push(N)}return o&&Promise.all(h).then(()=>{nn.update(()=>{o&&nD(t,o)})}),h}function sx(t,e,n={}){const r=vh(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(gb(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:x}=s;return fD(t,e,h,f,m,x,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[h,f]=u==="beforeChildren"?[i,o]:[o,i];return h().then(()=>f())}else return Promise.all([i(),o(n.delay)])}function fD(t,e,n=0,r=0,s=0,i=1,o){const u=[],h=t.variantChildren.size,f=(h-1)*s,m=typeof r=="function",x=m?v=>r(v,h):i===1?(v=0)=>v*s:(v=0)=>f-v*s;return Array.from(t.variantChildren).sort(mD).forEach((v,_)=>{v.notify("AnimationStart",e),u.push(sx(v,e,{...o,delay:n+(m?0:r)+x(_)}).then(()=>v.notify("AnimationComplete",e)))}),Promise.all(u)}function mD(t,e){return t.sortNodePosition(e)}function pD(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>sx(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=sx(t,e,n);else{const s=typeof e=="function"?vh(t,e,n.custom):e;r=Promise.all(gb(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function xb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const gD=g1.length;function vb(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?vb(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<gD;n++){const r=g1[n],s=t.props[r];(gh(s)||s===!1)&&(e[r]=s)}return e}const xD=[...p1].reverse(),vD=p1.length;function yD(t){return e=>Promise.all(e.map(({animation:n,options:r})=>pD(t,n,r)))}function _D(t){let e=yD(t),n=$w(),r=!0;const s=h=>(f,m)=>{const x=vh(t,m,h==="exit"?t.presenceContext?.custom:void 0);if(x){const{transition:v,transitionEnd:_,...A}=x;f={...f,...A,..._}}return f};function i(h){e=h(t)}function o(h){const{props:f}=t,m=vb(t.parent)||{},x=[],v=new Set;let _={},A=1/0;for(let N=0;N<vD;N++){const M=xD[N],j=n[M],O=f[M]!==void 0?f[M]:m[M],z=gh(O),ne=M===h?j.isActive:null;ne===!1&&(A=N);let re=O===m[M]&&O!==f[M]&&z;if(re&&r&&t.manuallyAnimateOnMount&&(re=!1),j.protectedKeys={..._},!j.isActive&&ne===null||!O&&!j.prevProp||W0(O)||typeof O=="boolean")continue;const P=wD(j.prevProp,O);let T=P||M===h&&j.isActive&&!re&&z||N>A&&z,b=!1;const R=Array.isArray(O)?O:[O];let I=R.reduce(s(M),{});ne===!1&&(I={});const{prevResolvedValues:L={}}=j,k={...L,...I},Ae=Re=>{T=!0,v.has(Re)&&(b=!0,v.delete(Re)),j.needsAnimating[Re]=!0;const ae=t.getValue(Re);ae&&(ae.liveStyle=!1)};for(const Re in k){const ae=I[Re],_e=L[Re];if(_.hasOwnProperty(Re))continue;let Ee=!1;nx(ae)&&nx(_e)?Ee=!xb(ae,_e):Ee=ae!==_e,Ee?ae!=null?Ae(Re):v.add(Re):ae!==void 0&&v.has(Re)?Ae(Re):j.protectedKeys[Re]=!0}j.prevProp=O,j.prevResolvedValues=I,j.isActive&&(_={..._,...I}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(re&&P)||b)&&x.push(...R.map(Re=>({animation:Re,options:{type:M}})))}if(v.size){const N={};if(typeof f.initial!="boolean"){const M=vh(t,Array.isArray(f.initial)?f.initial[0]:f.initial);M&&M.transition&&(N.transition=M.transition)}v.forEach(M=>{const j=t.getBaseTarget(M),O=t.getValue(M);O&&(O.liveStyle=!0),N[M]=j??null}),x.push({animation:N})}let w=!!x.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(x):Promise.resolve()}function u(h,f){if(n[h].isActive===f)return Promise.resolve();t.variantChildren?.forEach(x=>x.animationState?.setActive(h,f)),n[h].isActive=f;const m=o(h);for(const x in n)n[x].protectedKeys={};return m}return{animateChanges:o,setActive:u,setAnimateFunction:i,getState:()=>n,reset:()=>{n=$w(),r=!0}}}function wD(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!xb(e,t):!1}function zo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $w(){return{animate:zo(!0),whileInView:zo(),whileHover:zo(),whileTap:zo(),whileDrag:zo(),whileFocus:zo(),exit:zo()}}class po{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ED extends po{constructor(e){super(e),e.animationState||(e.animationState=_D(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();W0(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let TD=0;class SD extends po{constructor(){super(...arguments),this.id=TD++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const bD={animation:{Feature:ED},exit:{Feature:SD}};function yh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function zh(t){return{point:{x:t.pageX,y:t.pageY}}}const ND=t=>e=>f1(e)&&t(e,zh(e));function Xu(t,e,n,r){return yh(t,e,ND(n),r)}function yb({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function AD({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function CD(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const _b=1e-4,ID=1-_b,PD=1+_b,wb=.01,kD=0-wb,RD=0+wb;function Ar(t){return t.max-t.min}function DD(t,e,n){return Math.abs(t-e)<=n}function Ww(t,e,n,r=.5){t.origin=r,t.originPoint=cn(e.min,e.max,t.origin),t.scale=Ar(n)/Ar(e),t.translate=cn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=ID&&t.scale<=PD||isNaN(t.scale))&&(t.scale=1),(t.translate>=kD&&t.translate<=RD||isNaN(t.translate))&&(t.translate=0)}function Yu(t,e,n,r){Ww(t.x,e.x,n.x,r?r.originX:void 0),Ww(t.y,e.y,n.y,r?r.originY:void 0)}function Gw(t,e,n){t.min=n.min+e.min,t.max=t.min+Ar(e)}function jD(t,e,n){Gw(t.x,e.x,n.x),Gw(t.y,e.y,n.y)}function Kw(t,e,n){t.min=e.min-n.min,t.max=t.min+Ar(e)}function Qu(t,e,n){Kw(t.x,e.x,n.x),Kw(t.y,e.y,n.y)}const qw=()=>({translate:0,scale:1,origin:0,originPoint:0}),uc=()=>({x:qw(),y:qw()}),Xw=()=>({min:0,max:0}),_n=()=>({x:Xw(),y:Xw()});function _s(t){return[t("x"),t("y")]}function lg(t){return t===void 0||t===1}function ix({scale:t,scaleX:e,scaleY:n}){return!lg(t)||!lg(e)||!lg(n)}function Ho(t){return ix(t)||Eb(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Eb(t){return Yw(t.x)||Yw(t.y)}function Yw(t){return t&&t!=="0%"}function r0(t,e,n){const r=t-n,s=e*r;return n+s}function Qw(t,e,n,r,s){return s!==void 0&&(t=r0(t,s,r)),r0(t,n,r)+e}function ax(t,e=0,n=1,r,s){t.min=Qw(t.min,e,n,r,s),t.max=Qw(t.max,e,n,r,s)}function Tb(t,{x:e,y:n}){ax(t.x,e.translate,e.scale,e.originPoint),ax(t.y,n.translate,n.scale,n.originPoint)}const Jw=.999999999999,Zw=1.0000000000001;function OD(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let u=0;u<s;u++){i=n[u],o=i.projectionDelta;const{visualElement:h}=i.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&dc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Tb(t,o)),r&&Ho(i.latestValues)&&dc(t,i.latestValues))}e.x<Zw&&e.x>Jw&&(e.x=1),e.y<Zw&&e.y>Jw&&(e.y=1)}function hc(t,e){t.min=t.min+e,t.max=t.max+e}function e2(t,e,n,r,s=.5){const i=cn(t.min,t.max,s);ax(t,e,n,i,r)}function dc(t,e){e2(t.x,e.x,e.scaleX,e.scale,e.originX),e2(t.y,e.y,e.scaleY,e.scale,e.originY)}function Sb(t,e){return yb(CD(t.getBoundingClientRect(),e))}function FD(t,e,n){const r=Sb(t,n),{scroll:s}=e;return s&&(hc(r.x,s.offset.x),hc(r.y,s.offset.y)),r}const bb=({current:t})=>t?t.ownerDocument.defaultView:null,t2=(t,e)=>Math.abs(t-e);function MD(t,e){const n=t2(t.x,e.x),r=t2(t.y,e.y);return Math.sqrt(n**2+r**2)}class Nb{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=ug(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,A=MD(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!A)return;const{point:w}=v,{timestamp:N}=Jn;this.history.push({...w,timestamp:N});const{onStart:M,onMove:j}=this.handlers;_||(M&&M(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,v)},this.handlePointerMove=(v,_)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=cg(_,this.transformPagePoint),nn.update(this.updatePoint,!0)},this.handlePointerUp=(v,_)=>{this.end();const{onEnd:A,onSessionEnd:w,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=ug(v.type==="pointercancel"?this.lastMoveEventInfo:cg(_,this.transformPagePoint),this.history);this.startEvent&&A&&A(v,M),w&&w(v,M)},!f1(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const u=zh(e),h=cg(u,this.transformPagePoint),{point:f}=h,{timestamp:m}=Jn;this.history=[{...f,timestamp:m}];const{onSessionStart:x}=n;x&&x(e,ug(h,this.history)),this.removeListeners=Vh(Xu(this.contextWindow,"pointermove",this.handlePointerMove),Xu(this.contextWindow,"pointerup",this.handlePointerUp),Xu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),io(this.updatePoint)}}function cg(t,e){return e?{point:e(t.point)}:t}function n2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ug({point:t},e){return{point:t,delta:n2(t,Ab(e)),offset:n2(t,LD(e)),velocity:VD(e,.1)}}function LD(t){return t[0]}function Ab(t){return t[t.length-1]}function VD(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Ab(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>gi(e)));)n--;if(!r)return{x:0,y:0};const i=xi(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function UD(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?cn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?cn(n,t,r.max):Math.min(t,n)),t}function r2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function BD(t,{top:e,left:n,bottom:r,right:s}){return{x:r2(t.x,n,s),y:r2(t.y,e,r)}}function s2(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function zD(t,e){return{x:s2(t.x,e.x),y:s2(t.y,e.y)}}function HD(t,e){let n=.5;const r=Ar(t),s=Ar(e);return s>r?n=fh(e.min,e.max-r,t.min):r>s&&(n=fh(t.min,t.max-s,e.min)),ra(0,1,n)}function $D(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ox=.35;function WD(t=ox){return t===!1?t=0:t===!0&&(t=ox),{x:i2(t,"left","right"),y:i2(t,"top","bottom")}}function i2(t,e,n){return{min:a2(t,e),max:a2(t,n)}}function a2(t,e){return typeof t=="number"?t:t[e]||0}const GD=new WeakMap;class KD{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_n(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=x=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(zh(x).point)},o=(x,v)=>{const{drag:_,dragPropagation:A,onDragStart:w}=this.getProps();if(_&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=o3(_),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_s(M=>{let j=this.getAxisMotionValue(M).get()||0;if(vi.test(j)){const{projection:O}=this.visualElement;if(O&&O.layout){const z=O.layout.layoutBox[M];z&&(j=Ar(z)*(parseFloat(j)/100))}}this.originPoint[M]=j}),w&&nn.postRender(()=>w(x,v)),rx(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},u=(x,v)=>{this.latestPointerEvent=x,this.latestPanInfo=v;const{dragPropagation:_,dragDirectionLock:A,onDirectionLock:w,onDrag:N}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:M}=v;if(A&&this.currentDirection===null){this.currentDirection=qD(M),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",v.point,M),this.updateAxis("y",v.point,M),this.visualElement.render(),N&&N(x,v)},h=(x,v)=>{this.latestPointerEvent=x,this.latestPanInfo=v,this.stop(x,v),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>_s(x=>this.getAnimationState(x)==="paused"&&this.getAxisMotionValue(x).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Nb(e,{onSessionStart:i,onStart:o,onMove:u,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:bb(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&nn.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!wf(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=UD(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&cc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=BD(r.layoutBox,e):this.constraints=!1,this.elastic=WD(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&_s(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=$D(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!cc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=FD(r,s.root,this.visualElement.getTransformPagePoint());let o=zD(s.layout.layoutBox,i);if(n){const u=n(AD(o));this.hasMutatedConstraints=!!u,u&&(o=yb(u))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},f=_s(m=>{if(!wf(m,n,this.currentDirection))return;let x=h&&h[m]||{};o&&(x={min:0,max:0});const v=s?200:1e6,_=s?40:1e7,A={type:"inertia",velocity:r?e[m]:0,bounceStiffness:v,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...i,...x};return this.startAxisValueAnimation(m,A)});return Promise.all(f).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return rx(this.visualElement,e),r.start(T1(e,r,0,n,this.visualElement,!1))}stopAnimation(){_s(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_s(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){_s(n=>{const{drag:r}=this.getProps();if(!wf(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:u}=s.layout.layoutBox[n];i.set(e[n]-cn(o,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!cc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};_s(o=>{const u=this.getAxisMotionValue(o);if(u&&this.constraints!==!1){const h=u.get();s[o]=HD({min:h,max:h},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),_s(o=>{if(!wf(o,e,null))return;const u=this.getAxisMotionValue(o),{min:h,max:f}=this.constraints[o];u.set(cn(h,f,s[o]))})}addListeners(){if(!this.visualElement.current)return;GD.set(this.visualElement,this);const e=this.visualElement.current,n=Xu(e,"pointerdown",h=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();cc(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),nn.read(r);const o=yh(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(_s(m=>{const x=this.getAxisMotionValue(m);x&&(this.originPoint[m]+=h[m].translate,x.set(x.get()+h[m].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=ox,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:u}}}function wf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function qD(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class XD extends po{constructor(e){super(e),this.removeGroupControls=Ts,this.removeListeners=Ts,this.controls=new KD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ts}unmount(){this.removeGroupControls(),this.removeListeners()}}const o2=t=>(e,n)=>{t&&nn.postRender(()=>t(e,n))};class YD extends po{constructor(){super(...arguments),this.removePointerDownListener=Ts}onPointerDown(e){this.session=new Nb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bb(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:o2(e),onStart:o2(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&nn.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Xu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function l2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ju={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ut.test(t))t=parseFloat(t);else return t;const n=l2(t,e.target.x),r=l2(t,e.target.y);return`${n}% ${r}%`}},QD={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=ao.parse(t);if(s.length>5)return r;const i=ao.createTransformer(t),o=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;s[0+o]/=u,s[1+o]/=h;const f=cn(u,h,.5);return typeof s[2+o]=="number"&&(s[2+o]/=f),typeof s[3+o]=="number"&&(s[3+o]/=f),i(s)}};let c2=!1;class JD extends ee.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;F3(ZD),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),c2&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Bf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,c2=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||nn.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),d1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Cb(t){const[e,n]=tb(),r=ee.useContext(Hx);return c.jsx(JD,{...t,layoutGroup:r,switchLayoutGroup:ee.useContext(ab),isPresent:e,safeToRemove:n})}const ZD={borderRadius:{...ju,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ju,borderTopRightRadius:ju,borderBottomLeftRadius:ju,borderBottomRightRadius:ju,boxShadow:QD};function ej(t,e,n){const r=pr(t)?t:bc(t);return r.start(T1("",r,e,n)),r.animation}const tj=(t,e)=>t.depth-e.depth;class nj{constructor(){this.children=[],this.isDirty=!1}add(e){Gx(this.children,e),this.isDirty=!0}remove(e){Kx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tj),this.isDirty=!1,this.children.forEach(e)}}function rj(t,e){const n=Ur.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(io(r),t(i-e))};return nn.setup(r,!0),()=>io(r)}const Ib=["TopLeft","TopRight","BottomLeft","BottomRight"],sj=Ib.length,u2=t=>typeof t=="string"?parseFloat(t):t,h2=t=>typeof t=="number"||ut.test(t);function ij(t,e,n,r,s,i){s?(t.opacity=cn(0,n.opacity??1,aj(r)),t.opacityExit=cn(e.opacity??1,0,oj(r))):i&&(t.opacity=cn(e.opacity??1,n.opacity??1,r));for(let o=0;o<sj;o++){const u=`border${Ib[o]}Radius`;let h=d2(e,u),f=d2(n,u);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||h2(h)===h2(f)?(t[u]=Math.max(cn(u2(h),u2(f),r),0),(vi.test(f)||vi.test(h))&&(t[u]+="%")):t[u]=f}(e.rotate||n.rotate)&&(t.rotate=cn(e.rotate||0,n.rotate||0,r))}function d2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const aj=Pb(0,.5,ES),oj=Pb(.5,.95,Ts);function Pb(t,e,n){return r=>r<t?0:r>e?1:n(fh(t,e,r))}function f2(t,e){t.min=e.min,t.max=e.max}function vs(t,e){f2(t.x,e.x),f2(t.y,e.y)}function m2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function p2(t,e,n,r,s){return t-=e,t=r0(t,1/n,r),s!==void 0&&(t=r0(t,1/s,r)),t}function lj(t,e=0,n=1,r=.5,s,i=t,o=t){if(vi.test(e)&&(e=parseFloat(e),e=cn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let u=cn(i.min,i.max,r);t===i&&(u-=e),t.min=p2(t.min,e,n,u,s),t.max=p2(t.max,e,n,u,s)}function g2(t,e,[n,r,s],i,o){lj(t,e[n],e[r],e[s],e.scale,i,o)}const cj=["x","scaleX","originX"],uj=["y","scaleY","originY"];function x2(t,e,n,r){g2(t.x,e,cj,n?n.x:void 0,r?r.x:void 0),g2(t.y,e,uj,n?n.y:void 0,r?r.y:void 0)}function v2(t){return t.translate===0&&t.scale===1}function kb(t){return v2(t.x)&&v2(t.y)}function y2(t,e){return t.min===e.min&&t.max===e.max}function hj(t,e){return y2(t.x,e.x)&&y2(t.y,e.y)}function _2(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Rb(t,e){return _2(t.x,e.x)&&_2(t.y,e.y)}function w2(t){return Ar(t.x)/Ar(t.y)}function E2(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class dj{constructor(){this.members=[]}add(e){Gx(this.members,e),e.scheduleRender()}remove(e){if(Kx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fj(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=n?.z||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:x,rotateY:v,skewX:_,skewY:A}=n;f&&(r=`perspective(${f}px) ${r}`),m&&(r+=`rotate(${m}deg) `),x&&(r+=`rotateX(${x}deg) `),v&&(r+=`rotateY(${v}deg) `),_&&(r+=`skewX(${_}deg) `),A&&(r+=`skewY(${A}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const hg=["","X","Y","Z"],mj=1e3;let pj=0;function dg(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Db(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=pb(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",nn,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Db(r)}function jb({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},u=e?.()){this.id=pj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vj),this.nodes.forEach(Ej),this.nodes.forEach(Tj),this.nodes.forEach(yj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new nj)}addEventListener(o,u){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Yx),this.eventHandlers.get(o).add(u)}notifyListeners(o,...u){const h=this.eventHandlers.get(o);h&&h.notify(...u)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=eb(o)&&!f3(o),this.instance=o;const{layoutId:u,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),t){let m,x=0;const v=()=>this.root.updateBlockedByResize=!1;nn.read(()=>{x=window.innerWidth}),t(o,()=>{const _=window.innerWidth;_!==x&&(x=_,this.root.updateBlockedByResize=!0,m&&m(),m=rj(v,250),Bf.hasAnimatedSinceResize&&(Bf.hasAnimatedSinceResize=!1,this.nodes.forEach(b2)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:x,hasRelativeLayoutChanged:v,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||f.getDefaultTransition()||Cj,{onLayoutAnimationStart:w,onLayoutAnimationComplete:N}=f.getProps(),M=!this.targetLayout||!Rb(this.targetLayout,_),j=!x&&v;if(this.options.layoutRoot||this.resumeFrom||j||x&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...u1(A,"layout"),onPlay:w,onComplete:N};(f.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(m,j)}else x||b2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),io(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Sj),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Db(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const x=this.path[m];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(T2);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(S2);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(wj),this.nodes.forEach(gj),this.nodes.forEach(xj)):this.nodes.forEach(S2),this.clearAllSnapshots();const u=Ur.now();Jn.delta=ra(0,1e3/60,u-Jn.timestamp),Jn.timestamp=u,Jn.isProcessing=!0,ng.update.process(Jn),ng.preRender.process(Jn),ng.render.process(Jn),Jn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,d1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_j),this.sharedNodes.forEach(bj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ar(this.snapshot.measuredBox.x)&&!Ar(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_n(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(u=!1),u&&this.instance){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!kb(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;o&&this.instance&&(u||Ho(this.latestValues)||m)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return o&&(h=this.removeTransform(h)),Ij(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return _n();const u=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Pj))){const{scroll:f}=this.root;f&&(hc(u.x,f.offset.x),hc(u.y,f.offset.y))}return u}removeElementScroll(o){const u=_n();if(vs(u,o),this.scroll?.wasRoot)return u;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:m,options:x}=f;f!==this.root&&m&&x.layoutScroll&&(m.wasRoot&&vs(u,o),hc(u.x,m.offset.x),hc(u.y,m.offset.y))}return u}applyTransform(o,u=!1){const h=_n();vs(h,o);for(let f=0;f<this.path.length;f++){const m=this.path[f];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&dc(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Ho(m.latestValues)&&dc(h,m.latestValues)}return Ho(this.latestValues)&&dc(h,this.latestValues),h}removeTransform(o){const u=_n();vs(u,o);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!Ho(f.latestValues))continue;ix(f.latestValues)&&f.updateSnapshot();const m=_n(),x=f.measurePageBox();vs(m,x),x2(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return Ho(this.latestValues)&&x2(u,this.latestValues),u}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(o||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:x}=this.options;if(!(!this.layout||!(m||x))){if(this.resolvedRelativeTargetAt=Jn.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_n(),this.relativeTargetOrigin=_n(),Qu(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),vs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=_n(),this.targetWithTransforms=_n()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vs(this.target,this.layout.layoutBox),Tb(this.target,this.targetDelta)):vs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_n(),this.relativeTargetOrigin=_n(),Qu(this.relativeTargetOrigin,this.target,v.target),vs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ix(this.parent.latestValues)||Eb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),u=!!this.resumingFrom||this!==o;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Jn.timestamp&&(h=!1),h)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;vs(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,v=this.treeScale.y;OD(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=_n());const{target:_}=o;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(m2(this.prevProjectionDelta.x,this.projectionDelta.x),m2(this.prevProjectionDelta.y,this.projectionDelta.y)),Yu(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==v||!E2(this.projectionDelta.x,this.prevProjectionDelta.x)||!E2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=uc(),this.projectionDelta=uc(),this.projectionDeltaWithTransform=uc()}setAnimationOrigin(o,u=!1){const h=this.snapshot,f=h?h.latestValues:{},m={...this.latestValues},x=uc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=_n(),_=h?h.source:void 0,A=this.layout?this.layout.source:void 0,w=_!==A,N=this.getStack(),M=!N||N.members.length<=1,j=!!(w&&!M&&this.options.crossfade===!0&&!this.path.some(Aj));this.animationProgress=0;let O;this.mixTargetDelta=z=>{const ne=z/1e3;N2(x.x,o.x,ne),N2(x.y,o.y,ne),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qu(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Nj(this.relativeTarget,this.relativeTargetOrigin,v,ne),O&&hj(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=_n()),vs(O,this.relativeTarget)),w&&(this.animationValues=m,ij(m,f,this.latestValues,ne,j,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ne},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(io(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nn.update(()=>{Bf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=bc(0)),this.currentAnimation=ej(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:u,target:h,layout:f,latestValues:m}=o;if(!(!u||!h||!f)){if(this!==o&&this.layout&&f&&Ob(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||_n();const x=Ar(this.layout.layoutBox.x);h.x.min=o.target.x.min,h.x.max=h.x.min+x;const v=Ar(this.layout.layoutBox.y);h.y.min=o.target.y.min,h.y.max=h.y.min+v}vs(u,h),dc(u,m),Yu(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(o,u){this.sharedNodes.has(o)||this.sharedNodes.set(o,new dj),this.sharedNodes.get(o).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:u,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),o&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let u=!1;const{latestValues:h}=o;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const f={};h.z&&dg("z",o,f,this.animationValues);for(let m=0;m<hg.length;m++)dg(`rotate${hg[m]}`,o,f,this.animationValues),dg(`skew${hg[m]}`,o,f,this.animationValues);o.render();for(const m in f)o.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);o.scheduleRender()}applyProjectionStyles(o,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Uf(u?.pointerEvents)||"",o.transform=h?h(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Uf(u?.pointerEvents)||""),this.hasProjected&&!Ho(this.latestValues)&&(o.transform=h?h({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=f.animationValues||f.latestValues;this.applyTransformsToTarget();let x=fj(this.projectionDeltaWithTransform,this.treeScale,m);h&&(x=h(m,x)),o.transform=x;const{x:v,y:_}=this.projectionDelta;o.transformOrigin=`${v.origin*100}% ${_.origin*100}% 0`,f.animationValues?o.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const A in xh){if(m[A]===void 0)continue;const{correct:w,applyTo:N,isCSSVariable:M}=xh[A],j=x==="none"?m[A]:w(m[A],f);if(N){const O=N.length;for(let z=0;z<O;z++)o[N[z]]=j}else M?this.options.visualElement.renderState.vars[A]=j:o[A]=j}this.options.layoutId&&(o.pointerEvents=f===this?Uf(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(T2),this.root.sharedNodes.clear()}}}function gj(t){t.updateLayout()}function xj(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,i=e.source!==t.layout.source;s==="size"?_s(m=>{const x=i?e.measuredBox[m]:e.layoutBox[m],v=Ar(x);x.min=n[m].min,x.max=x.min+v}):Ob(s,e.layoutBox,n)&&_s(m=>{const x=i?e.measuredBox[m]:e.layoutBox[m],v=Ar(n[m]);x.max=x.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+v)});const o=uc();Yu(o,n,e.layoutBox);const u=uc();i?Yu(u,t.applyTransform(r,!0),e.measuredBox):Yu(u,n,e.layoutBox);const h=!kb(o);let f=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:x,layout:v}=m;if(x&&v){const _=_n();Qu(_,e.layoutBox,x.layoutBox);const A=_n();Qu(A,n,v.layoutBox),Rb(_,A)||(f=!0),m.options.layoutRoot&&(t.relativeTarget=A,t.relativeTargetOrigin=_,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:o,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function vj(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function yj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function _j(t){t.clearSnapshot()}function T2(t){t.clearMeasurements()}function S2(t){t.isLayoutDirty=!1}function wj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function b2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Ej(t){t.resolveTargetDelta()}function Tj(t){t.calcProjection()}function Sj(t){t.resetSkewAndRotation()}function bj(t){t.removeLeadSnapshot()}function N2(t,e,n){t.translate=cn(e.translate,0,n),t.scale=cn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function A2(t,e,n,r){t.min=cn(e.min,n.min,r),t.max=cn(e.max,n.max,r)}function Nj(t,e,n,r){A2(t.x,e.x,n.x,r),A2(t.y,e.y,n.y,r)}function Aj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Cj={duration:.45,ease:[.4,0,.1,1]},C2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),I2=C2("applewebkit/")&&!C2("chrome/")?Math.round:Ts;function P2(t){t.min=I2(t.min),t.max=I2(t.max)}function Ij(t){P2(t.x),P2(t.y)}function Ob(t,e,n){return t==="position"||t==="preserve-aspect"&&!DD(w2(e),w2(n),.2)}function Pj(t){return t!==t.root&&t.scroll?.wasRoot}const kj=jb({attachResizeListener:(t,e)=>yh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fg={current:void 0},Fb=jb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!fg.current){const t=new kj({});t.mount(window),t.setOptions({layoutScroll:!0}),fg.current=t}return fg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Rj={pan:{Feature:YD},drag:{Feature:XD,ProjectionNode:Fb,MeasureLayout:Cb}};function k2(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&nn.postRender(()=>i(e,zh(e)))}class Dj extends po{mount(){const{current:e}=this.node;e&&(this.unmount=l3(e,(n,r)=>(k2(this.node,r,"Start"),s=>k2(this.node,s,"End"))))}unmount(){}}class jj extends po{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vh(yh(this.node.current,"focus",()=>this.onFocus()),yh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function R2(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&nn.postRender(()=>i(e,zh(e)))}class Oj extends po{mount(){const{current:e}=this.node;e&&(this.unmount=d3(e,(n,r)=>(R2(this.node,r,"Start"),(s,{success:i})=>R2(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const lx=new WeakMap,mg=new WeakMap,Fj=t=>{const e=lx.get(t.target);e&&e(t)},Mj=t=>{t.forEach(Fj)};function Lj({root:t,...e}){const n=t||document;mg.has(n)||mg.set(n,{});const r=mg.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Mj,{root:t,...e})),r[s]}function Vj(t,e,n){const r=Lj(e);return lx.set(t,n),r.observe(t),()=>{lx.delete(t),r.unobserve(t)}}const Uj={some:0,all:1};class Bj extends po{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Uj[s]},u=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,i&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:x}=this.node.getProps(),v=f?m:x;v&&v(h)};return Vj(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(zj(e,n))&&this.startObserver()}unmount(){}}function zj({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Hj={inView:{Feature:Bj},tap:{Feature:Oj},focus:{Feature:jj},hover:{Feature:Dj}},$j={layout:{ProjectionNode:Fb,MeasureLayout:Cb}},cx={current:null},Mb={current:!1};function Wj(){if(Mb.current=!0,!!Wx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>cx.current=t.matches;t.addEventListener("change",e),e()}else cx.current=!1}const Gj=new WeakMap;function Kj(t,e,n){for(const r in e){const s=e[r],i=n[r];if(pr(s))t.addValue(r,s);else if(pr(i))t.addValue(r,bc(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,bc(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const D2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qj{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=l1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Ur.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,nn.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=o;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!i,this.isControllingVariants=G0(n),this.isVariantNode=sb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in x){const _=x[v];h[v]!==void 0&&pr(_)&&_.set(h[v],!1)}}mount(e){this.current=e,Gj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Mb.current||Wj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:cx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),io(this.notifyUpdate),io(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Wc.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&nn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Nc){const n=Nc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_n()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<D2.length;r++){const s=D2[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Kj(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=bc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(dS(r)||mS(r))?r=parseFloat(r):!p3(r)&&ao.test(n)&&(r=XS(e,n)),this.setBaseTarget(e,pr(r)?r.get():r)),pr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const i=w1(this.props,n,this.presenceContext?.custom);i&&(r=i[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!pr(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Yx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Lb extends qj{constructor(){super(...arguments),this.KeyframeResolver=r3}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Vb(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s?.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function Xj(t){return window.getComputedStyle(t)}class Yj extends Lb{constructor(){super(...arguments),this.type="html",this.renderInstance=Vb}readValueFromInstance(e,n){if(Wc.has(n))return this.projection?.isProjecting?Yg(n):ER(e,n);{const r=Xj(e),s=(Zx(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Sb(e,n)}build(e,n,r){v1(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return E1(e,n,r)}}const Ub=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Qj(t,e,n,r){Vb(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(Ub.has(s)?s:x1(s),e.attrs[s])}class Jj extends Lb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_n}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Wc.has(n)){const r=qS(n);return r&&r.default||0}return n=Ub.has(n)?n:x1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return mb(e,n,r)}build(e,n,r){ub(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){Qj(e,n,r,s)}mount(e){this.isSVGTag=db(e.tagName),super.mount(e)}}const Zj=(t,e)=>_1(t)?new Jj(e):new Yj(e,{allowProjection:t!==ee.Fragment}),e5=Z3({...bD,...Hj,...Rj,...$j},Zj),Te=S3(e5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n5=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),j2=t=>{const e=n5(t);return e.charAt(0).toUpperCase()+e.slice(1)},Bb=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),r5=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=ee.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...u},h)=>ee.createElement("svg",{ref:h,...s5,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Bb("lucide",s),...!i&&!r5(u)&&{"aria-hidden":"true"},...u},[...o.map(([f,m])=>ee.createElement(f,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(t,e)=>{const n=ee.forwardRef(({className:r,...s},i)=>ee.createElement(i5,{ref:i,iconNode:e,className:Bb(`lucide-${t5(j2(t))}`,`lucide-${t}`,r),...s}));return n.displayName=j2(t),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],zb=qe("activity",a5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],l5=qe("arrow-down",o5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],u5=qe("arrow-left",c5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ac=qe("arrow-right",h5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],O2=qe("arrow-up-down",d5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],m5=qe("arrow-up",f5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],F2=qe("award",p5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],x5=qe("banknote",g5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Hb=qe("building",v5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],S1=qe("calendar-days",y5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Qi=qe("calendar",_5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],$b=qe("camera",w5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],T5=qe("chart-column",E5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],b5=qe("chart-pie",S5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],A5=qe("check",N5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],K0=qe("chevron-down",C5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Wb=qe("chevron-left",I5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Gb=qe("chevron-right",P5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Kb=qe("chevron-up",k5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Zo=qe("circle-alert",R5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],gr=qe("circle-check-big",D5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ks=qe("circle-x",j5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Cr=qe("clock",O5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ia=qe("credit-card",F5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ju=qe("crown",M5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]],V5=qe("delete",L5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Cc=qe("dollar-sign",U5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],qb=qe("download",B5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],H5=qe("external-link",z5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],b1=qe("eye-off",$5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],q0=qe("eye",W5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],M2=qe("file-text",G5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],q5=qe("flame",K5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Xb=qe("funnel",X5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],L2=qe("gift",Y5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],s0=qe("graduation-cap",Q5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Yb=qe("heart",J5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],e6=qe("house",Z5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],n6=qe("info",t6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],s6=qe("key",r6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Qb=qe("lock",i6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],N1=qe("log-out",a6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],yi=qe("mail",o6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],pg=qe("map-pin",l6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],V2=qe("pen-line",c6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Jb=qe("pen",u6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],_h=qe("phone",h6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],A1=qe("plus",d6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Zb=qe("save",f6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],X0=qe("search",m6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],g6=qe("send",p6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gg=qe("settings",x6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],el=qe("shield",v6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],zf=qe("sparkles",y6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],w6=qe("star",_6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],fc=qe("sun",E6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],S6=qe("target",T6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],i0=qe("timer",b6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ic=qe("trash-2",N6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],qs=qe("triangle-alert",A6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],xg=qe("trophy",C6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],P6=qe("upload",I6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],R6=qe("user-check",k6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],j6=qe("user-plus",D6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],ux=qe("user-x",O6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],to=qe("user",F6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Pc=qe("users",M6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ji=qe("x",L6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],a0=qe("zap",V6);var U2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},U6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],u=t[n++],h=((s&7)<<18|(i&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},tN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,u=o?t[s+1]:0,h=s+2<t.length,f=h?t[s+2]:0,m=i>>2,x=(i&3)<<4|u>>4;let v=(u&15)<<2|f>>6,_=f&63;h||(_=64,o||(v=64)),r.push(n[m],n[x],n[v],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):U6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const x=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||u==null||f==null||x==null)throw new B6;const v=i<<2|u>>4;if(r.push(v),f!==64){const _=u<<4&240|f>>2;if(r.push(_),x!==64){const A=f<<6&192|x;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class B6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z6=function(t){const e=eN(t);return tN.encodeByteArray(e,!0)},o0=function(t){return z6(t).replace(/\./g,"")},nN=function(t){try{return tN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=()=>H6().__FIREBASE_DEFAULTS__,W6=()=>{if(typeof process>"u"||typeof U2>"u")return;const t=U2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},G6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nN(t[1]);return e&&JSON.parse(e)},Y0=()=>{try{return $6()||W6()||G6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rN=t=>{var e,n;return(n=(e=Y0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sN=t=>{const e=rN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},iN=()=>{var t;return(t=Y0())===null||t===void 0?void 0:t.config},aN=t=>{var e;return(e=Y0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[o0(JSON.stringify(n)),o0(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yr())}function X6(){var t;const e=(t=Y0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Y6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Q6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function J6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Z6(){const t=yr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eO(){return!X6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tO(){try{return typeof indexedDB=="object"}catch{return!1}}function nO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="FirebaseError";class Ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rO,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hh.prototype.create)}}class Hh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?sO(i,r):"Error",u=`${this.serviceName}: ${o} (${s}).`;return new Ai(s,u,r)}}function sO(t,e){return t.replace(iO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const iO=/\{\$([^}]+)}/g;function aO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function l0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(B2(i)&&B2(o)){if(!l0(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function B2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Uu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Bu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function oO(t,e){const n=new lO(t,e);return n.subscribe.bind(n)}class lO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=vg),s.error===void 0&&(s.error=vg),s.complete===void 0&&(s.complete=vg);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){return t&&t._delegate?t._delegate:t}class oo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new K6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),s=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dO(e))try{this.getOrInitializeService({instanceIdentifier:$o})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=$o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$o){return this.instances.has(e)}getOptions(e=$o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$o){return this.component?this.component.multipleInstances?e:$o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hO(t){return t===$o?void 0:t}function dO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Et||(Et={}));const mO={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},pO=Et.INFO,gO={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},xO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=gO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class C1{constructor(e){this.name=e,this._logLevel=pO,this._logHandler=xO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...e),this._logHandler(this,Et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...e),this._logHandler(this,Et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...e),this._logHandler(this,Et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...e),this._logHandler(this,Et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...e),this._logHandler(this,Et.ERROR,...e)}}const vO=(t,e)=>e.some(n=>t instanceof n);let z2,H2;function yO(){return z2||(z2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _O(){return H2||(H2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lN=new WeakMap,hx=new WeakMap,cN=new WeakMap,yg=new WeakMap,I1=new WeakMap;function wO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(no(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&lN.set(n,t)}).catch(()=>{}),I1.set(e,t),e}function EO(t){if(hx.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});hx.set(t,e)}let dx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return no(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TO(t){dx=t(dx)}function SO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_g(this),e,...n);return cN.set(r,e.sort?e.sort():[e]),no(r)}:_O().includes(t)?function(...e){return t.apply(_g(this),e),no(lN.get(this))}:function(...e){return no(t.apply(_g(this),e))}}function bO(t){return typeof t=="function"?SO(t):(t instanceof IDBTransaction&&EO(t),vO(t,yO())?new Proxy(t,dx):t)}function no(t){if(t instanceof IDBRequest)return wO(t);if(yg.has(t))return yg.get(t);const e=bO(t);return e!==t&&(yg.set(t,e),I1.set(e,t)),e}const _g=t=>I1.get(t);function NO(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),u=no(o);return r&&o.addEventListener("upgradeneeded",h=>{r(no(o.result),h.oldVersion,h.newVersion,no(o.transaction),h)}),n&&o.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{i&&h.addEventListener("close",()=>i()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const AO=["get","getKey","getAll","getAllKeys","count"],CO=["put","add","delete","clear"],wg=new Map;function $2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wg.get(e))return wg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=CO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||AO.includes(n)))return;const i=async function(o,...u){const h=this.transaction(o,s?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),s&&h.done]))[0]};return wg.set(e,i),i}TO(t=>({...t,get:(e,n,r)=>$2(e,n)||t.get(e,n,r),has:(e,n)=>!!$2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function PO(t){const e=t.getComponent();return e?.type==="VERSION"}const fx="@firebase/app",W2="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new C1("@firebase/app"),kO="@firebase/app-compat",RO="@firebase/analytics-compat",DO="@firebase/analytics",jO="@firebase/app-check-compat",OO="@firebase/app-check",FO="@firebase/auth",MO="@firebase/auth-compat",LO="@firebase/database",VO="@firebase/data-connect",UO="@firebase/database-compat",BO="@firebase/functions",zO="@firebase/functions-compat",HO="@firebase/installations",$O="@firebase/installations-compat",WO="@firebase/messaging",GO="@firebase/messaging-compat",KO="@firebase/performance",qO="@firebase/performance-compat",XO="@firebase/remote-config",YO="@firebase/remote-config-compat",QO="@firebase/storage",JO="@firebase/storage-compat",ZO="@firebase/firestore",eF="@firebase/vertexai-preview",tF="@firebase/firestore-compat",nF="firebase",rF="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="[DEFAULT]",sF={[fx]:"fire-core",[kO]:"fire-core-compat",[DO]:"fire-analytics",[RO]:"fire-analytics-compat",[OO]:"fire-app-check",[jO]:"fire-app-check-compat",[FO]:"fire-auth",[MO]:"fire-auth-compat",[LO]:"fire-rtdb",[VO]:"fire-data-connect",[UO]:"fire-rtdb-compat",[BO]:"fire-fn",[zO]:"fire-fn-compat",[HO]:"fire-iid",[$O]:"fire-iid-compat",[WO]:"fire-fcm",[GO]:"fire-fcm-compat",[KO]:"fire-perf",[qO]:"fire-perf-compat",[XO]:"fire-rc",[YO]:"fire-rc-compat",[QO]:"fire-gcs",[JO]:"fire-gcs-compat",[ZO]:"fire-fst",[tF]:"fire-fst-compat",[eF]:"fire-vertex","fire-js":"fire-js",[nF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map,iF=new Map,px=new Map;function G2(t,e){try{t.container.addComponent(e)}catch(n){aa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sl(t){const e=t.name;if(px.has(e))return aa.debug(`There were multiple attempts to register component ${e}.`),!1;px.set(e,t);for(const n of c0.values())G2(n,t);for(const n of iF.values())G2(n,t);return!0}function Q0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Es(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ro=new Hh("app","Firebase",aF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ro.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=rF;function uN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mx,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ro.create("bad-app-name",{appName:String(s)});if(n||(n=iN()),!n)throw ro.create("no-options");const i=c0.get(s);if(i){if(l0(n,i.options)&&l0(r,i.config))return i;throw ro.create("duplicate-app",{appName:s})}const o=new fO(s);for(const h of px.values())o.addComponent(h);const u=new oF(n,r,o);return c0.set(s,u),u}function P1(t=mx){const e=c0.get(t);if(!e&&t===mx&&iN())return uN();if(!e)throw ro.create("no-app",{appName:t});return e}function _i(t,e,n){var r;let s=(r=sF[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const u=[`Unable to register library "${s}" with version "${e}":`];i&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),aa.warn(u.join(" "));return}sl(new oo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF="firebase-heartbeat-database",cF=1,wh="firebase-heartbeat-store";let Eg=null;function hN(){return Eg||(Eg=NO(lF,cF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ro.create("idb-open",{originalErrorMessage:t.message})})),Eg}async function uF(t){try{const n=(await hN()).transaction(wh),r=await n.objectStore(wh).get(dN(t));return await n.done,r}catch(e){if(e instanceof Ai)aa.warn(e.message);else{const n=ro.create("idb-get",{originalErrorMessage:e?.message});aa.warn(n.message)}}}async function K2(t,e){try{const r=(await hN()).transaction(wh,"readwrite");await r.objectStore(wh).put(e,dN(t)),await r.done}catch(n){if(n instanceof Ai)aa.warn(n.message);else{const r=ro.create("idb-set",{originalErrorMessage:n?.message});aa.warn(r.message)}}}function dN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF=1024,dF=30*24*60*60*1e3;class fF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=q2();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const u=new Date(o.date).valueOf();return Date.now()-u<=dF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){aa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=q2(),{heartbeatsToSend:r,unsentEntries:s}=mF(this._heartbeatsCache.heartbeats),i=o0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return aa.warn(n),""}}}function q2(){return new Date().toISOString().substring(0,10)}function mF(t,e=hF){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),X2(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),X2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class pF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tO()?nO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return K2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return K2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function X2(t){return o0(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(t){sl(new oo("platform-logger",e=>new IO(e),"PRIVATE")),sl(new oo("heartbeat",e=>new fF(e),"PRIVATE")),_i(fx,W2,t),_i(fx,W2,"esm2017"),_i("fire-js","")}gF("");var xF="firebase",vF="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(xF,vF,"app");function k1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function fN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yF=fN,mN=new Hh("auth","Firebase",fN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=new C1("@firebase/auth");function _F(t,...e){u0.logLevel<=Et.WARN&&u0.warn(`Auth (${ml}): ${t}`,...e)}function Hf(t,...e){u0.logLevel<=Et.ERROR&&u0.error(`Auth (${ml}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(t,...e){throw D1(t,...e)}function Xs(t,...e){return D1(t,...e)}function R1(t,e,n){const r=Object.assign(Object.assign({},yF()),{[e]:n});return new Hh("auth","Firebase",r).create(e,{appName:t.name})}function wi(t){return R1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&bs(t,"argument-error"),R1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function D1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mN.create(t,...e)}function ht(t,e,...n){if(!t)throw D1(e,...n)}function qi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hf(e),new Error(e)}function oa(t,e){t||qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function EF(){return Y2()==="http:"||Y2()==="https:"}function Y2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EF()||Q6()||"connection"in navigator)?navigator.onLine:!0}function SF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this.shortDelay=e,this.longDelay=n,oa(n>e,"Short delay should be less than long delay!"),this.isMobile=q6()||J6()}get(){return TF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t,e){oa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF=new Wh(3e4,6e4);function fa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ci(t,e,n,r,s={}){return gN(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const u=$h(Object.assign({key:t.config.apiKey},o)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:h},i);return Y6()||(f.referrerPolicy="no-referrer"),pN.fetch()(xN(t,t.config.apiHost,n,u),f)})}async function gN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},bF),e);try{const s=new CF(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ef(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const u=i.ok?o.errorMessage:o.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ef(t,"credential-already-in-use",o);if(h==="EMAIL_EXISTS")throw Ef(t,"email-already-in-use",o);if(h==="USER_DISABLED")throw Ef(t,"user-disabled",o);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw R1(t,m,f);bs(t,m)}}catch(s){if(s instanceof Ai)throw s;bs(t,"network-request-failed",{message:String(s)})}}async function Gh(t,e,n,r,s={}){const i=await Ci(t,e,n,r,s);return"mfaPendingCredential"in i&&bs(t,"multi-factor-auth-required",{_serverResponse:i}),i}function xN(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?j1(t.config,s):`${t.config.apiScheme}://${s}`}function AF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xs(this.auth,"network-request-failed")),NF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ef(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Xs(t,e,r);return s.customData._tokenResponse=n,s}function Q2(t){return t!==void 0&&t.enterprise!==void 0}class IF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return AF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function PF(t,e){return Ci(t,"GET","/v2/recaptchaConfig",fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kF(t,e){return Ci(t,"POST","/v1/accounts:delete",e)}async function vN(t,e){return Ci(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RF(t,e=!1){const n=rn(t),r=await n.getIdToken(e),s=O1(r);ht(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:Zu(Tg(s.auth_time)),issuedAtTime:Zu(Tg(s.iat)),expirationTime:Zu(Tg(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function Tg(t){return Number(t)*1e3}function O1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hf("JWT malformed, contained fewer than 3 sections"),null;try{const s=nN(n);return s?JSON.parse(s):(Hf("Failed to decode base64 JWT payload"),null)}catch(s){return Hf("Caught error parsing JWT payload as JSON",s?.toString()),null}}function J2(t){const e=O1(t);return ht(e,"internal-error"),ht(typeof e.exp<"u","internal-error"),ht(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ai&&DF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function DF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zu(this.lastLoginAt),this.creationTime=Zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h0(t){var e;const n=t.auth,r=await t.getIdToken(),s=await kc(t,vN(n,{idToken:r}));ht(s?.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?yN(i.providerUserInfo):[],u=FF(t.providerData,o),h=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!u?.length,m=h?f:!1,x={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new xx(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(t,x)}async function OF(t){const e=rn(t);await h0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FF(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function yN(t){return t.map(e=>{var{providerId:n}=e,r=k1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MF(t,e){const n=await gN(t,{},async()=>{const r=$h({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=xN(t,s,"/v1/token",`key=${i}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",pN.fetch()(o,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LF(t,e){return Ci(t,"POST","/v2/accounts:revokeToken",fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ht(e.idToken,"internal-error"),ht(typeof e.idToken<"u","internal-error"),ht(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ht(e.length!==0,"internal-error");const n=J2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ht(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await MF(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new pc;return r&&(ht(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ht(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ht(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pc,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t,e){ht(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Xi{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=k1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new xx(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await kc(this,this.stsTokenManager.getToken(this.auth,e));return ht(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return RF(this,e)}reload(){return OF(this)}_assign(e){this!==e&&(ht(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await h0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Es(this.auth.app))return Promise.reject(wi(this.auth));const e=await this.getIdToken();return await kc(this,kF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,u,h,f,m;const x=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(s=n.email)!==null&&s!==void 0?s:void 0,_=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(u=n.tenantId)!==null&&u!==void 0?u:void 0,N=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,M=(f=n.createdAt)!==null&&f!==void 0?f:void 0,j=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:O,emailVerified:z,isAnonymous:ne,providerData:re,stsTokenManager:P}=n;ht(O&&P,e,"internal-error");const T=pc.fromJSON(this.name,P);ht(typeof O=="string",e,"internal-error"),$a(x,e.name),$a(v,e.name),ht(typeof z=="boolean",e,"internal-error"),ht(typeof ne=="boolean",e,"internal-error"),$a(_,e.name),$a(A,e.name),$a(w,e.name),$a(N,e.name),$a(M,e.name),$a(j,e.name);const b=new Xi({uid:O,auth:e,email:v,emailVerified:z,displayName:x,isAnonymous:ne,photoURL:A,phoneNumber:_,tenantId:w,stsTokenManager:T,createdAt:M,lastLoginAt:j});return re&&Array.isArray(re)&&(b.providerData=re.map(R=>Object.assign({},R))),N&&(b._redirectEventId=N),b}static async _fromIdTokenResponse(e,n,r=!1){const s=new pc;s.updateFromServerResponse(n);const i=new Xi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await h0(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ht(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?yN(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,u=new pc;u.updateFromIdToken(r);const h=new Xi({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:o}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new xx(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=new Map;function Yi(t){oa(t instanceof Function,"Expected a class definition");let e=Z2.get(t);return e?(oa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Z2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_N.type="NONE";const eE=_N;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t,e,n){return`firebase:${t}:${e}:${n}`}class gc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=$f(this.userKey,s.apiKey,i),this.fullPersistenceKey=$f("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gc(Yi(eE),e,r);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let i=s[0]||Yi(eE);const o=$f(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const m=await f._get(o);if(m){const x=Xi._fromJSON(e,m);f!==i&&(u=x),i=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!i._shouldAllowMigration||!h.length?new gc(i,e,r):(i=h[0],u&&await i._set(o,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==i)try{await f._remove(o)}catch{}})),new gc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NN(e))return"Blackberry";if(AN(e))return"Webos";if(EN(e))return"Safari";if((e.includes("chrome/")||TN(e))&&!e.includes("edge/"))return"Chrome";if(bN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function wN(t=yr()){return/firefox\//i.test(t)}function EN(t=yr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TN(t=yr()){return/crios\//i.test(t)}function SN(t=yr()){return/iemobile/i.test(t)}function bN(t=yr()){return/android/i.test(t)}function NN(t=yr()){return/blackberry/i.test(t)}function AN(t=yr()){return/webos/i.test(t)}function F1(t=yr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function VF(t=yr()){var e;return F1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function UF(){return Z6()&&document.documentMode===10}function CN(t=yr()){return F1(t)||bN(t)||AN(t)||NN(t)||/windows phone/i.test(t)||SN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(t,e=[]){let n;switch(t){case"Browser":n=tE(yr());break;case"Worker":n=`${tE(yr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ml}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,u)=>{try{const h=e(i);o(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zF(t,e={}){return Ci(t,"GET","/v2/passwordPolicy",fa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=6;class $F{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:HF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(i=h.containsUppercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsNumericCharacter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nE(this),this.idTokenSubscription=new nE(this),this.beforeStateQueue=new BF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yi(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await gc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vN(this,{idToken:e}),r=await Xi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Es(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===u)&&h?.user&&(s=h.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await h0(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Es(this.app))return Promise.reject(wi(this));const n=e?rn(e):null;return n&&ht(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ht(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Es(this.app)?Promise.reject(wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Es(this.app)?Promise.reject(wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zF(this),n=new $F(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await LF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yi(e)||this._popupRedirectResolver;ht(n,this,"argument-error"),this.redirectPersistenceManager=await gc.create(this,[Yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(ht(u,this,"internal-error"),u.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,s);return()=>{o=!0,h()}}else{const h=e.addObserver(n);return()=>{o=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&_F(`Error while retrieving App Check token: ${n.error}`),n?.token}}function ma(t){return rn(t)}class nE{constructor(e){this.auth=e,this.observer=null,this.addObserver=oO(n=>this.observer=n)}get next(){return ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GF(t){J0=t}function PN(t){return J0.loadJS(t)}function KF(){return J0.recaptchaEnterpriseScript}function qF(){return J0.gapiScript}function XF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const YF="recaptcha-enterprise",QF="NO_RECAPTCHA";class JF{constructor(e){this.type=YF,this.auth=ma(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,u)=>{PF(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new IF(h);return i.tenantId==null?i._agentRecaptchaConfig=f:i._tenantRecaptchaConfigs[i.tenantId]=f,o(f.siteKey)}}).catch(h=>{u(h)})})}function s(i,o,u){const h=window.grecaptcha;Q2(h)?h.enterprise.ready(()=>{h.enterprise.execute(i,{action:e}).then(f=>{o(f)}).catch(()=>{o(QF)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(u=>{if(!n&&Q2(window.grecaptcha))s(u,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let h=KF();h.length!==0&&(h+=u),PN(h).then(()=>{s(u,i,o)}).catch(f=>{o(f)})}}).catch(u=>{o(u)})})}}async function rE(t,e,n,r=!1){const s=new JF(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function d0(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await rE(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await rE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZF(t,e){const n=Q0(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(l0(i,e??{}))return s;bs(s,"already-initialized")}return n.initialize({options:e})}function eM(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Yi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function tM(t,e,n){const r=ma(t);ht(r._canInitEmulator,r,"emulator-config-failed"),ht(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=kN(e),{host:o,port:u}=nM(e),h=u===null?"":`:${u}`;r.config.emulator={url:`${i}//${o}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),rM()}function kN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nM(t){const e=kN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:sE(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:sE(o)}}}function sE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function rM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qi("not implemented")}_getIdTokenResponse(e){return qi("not implemented")}_linkToIdToken(e,n){return qi("not implemented")}_getReauthenticationResolver(e){return qi("not implemented")}}async function sM(t,e){return Ci(t,"POST","/v1/accounts:update",e)}async function iM(t,e){return Ci(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aM(t,e){return Gh(t,"POST","/v1/accounts:signInWithPassword",fa(t,e))}async function oM(t,e){return Ci(t,"POST","/v1/accounts:sendOobCode",fa(t,e))}async function lM(t,e){return oM(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(t,e){return Gh(t,"POST","/v1/accounts:signInWithEmailLink",fa(t,e))}async function uM(t,e){return Gh(t,"POST","/v1/accounts:signInWithEmailLink",fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends M1{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Eh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Eh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d0(e,n,"signInWithPassword",aM);case"emailLink":return cM(e,{email:this._email,oobCode:this._password});default:bs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d0(e,r,"signUpPassword",iM);case"emailLink":return uM(e,{idToken:n,email:this._email,oobCode:this._password});default:bs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xc(t,e){return Gh(t,"POST","/v1/accounts:signInWithIdp",fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="http://localhost";class il extends M1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new il(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=k1(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new il(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xc(e,n)}buildRequest(){const e={requestUri:hM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$h(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fM(t){const e=Uu(Bu(t)).link,n=e?Uu(Bu(e)).deep_link_id:null,r=Uu(Bu(t)).deep_link_id;return(r?Uu(Bu(r)).link:null)||r||n||e||t}class L1{constructor(e){var n,r,s,i,o,u;const h=Uu(Bu(e)),f=(n=h.apiKey)!==null&&n!==void 0?n:null,m=(r=h.oobCode)!==null&&r!==void 0?r:null,x=dM((s=h.mode)!==null&&s!==void 0?s:null);ht(f&&m&&x,"argument-error"),this.apiKey=f,this.operation=x,this.code=m,this.continueUrl=(i=h.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=h.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=fM(e);try{return new L1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(){this.providerId=Gc.PROVIDER_ID}static credential(e,n){return Eh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=L1.parseLink(n);return ht(r,"argument-error"),Eh._fromEmailAndCode(e,r.code,r.tenantId)}}Gc.PROVIDER_ID="password";Gc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Gc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends V1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends Kh{constructor(){super("facebook.com")}static credential(e){return il._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ka.credentialFromTaggedObject(e)}static credentialFromError(e){return Ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ka.credential(e.oauthAccessToken)}catch{return null}}}Ka.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ka.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Kh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return il._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ki.credential(n,r)}catch{return null}}}Ki.GOOGLE_SIGN_IN_METHOD="google.com";Ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends Kh{constructor(){super("github.com")}static credential(e){return il._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qa.credentialFromTaggedObject(e)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qa.credential(e.oauthAccessToken)}catch{return null}}}qa.GITHUB_SIGN_IN_METHOD="github.com";qa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends Kh{constructor(){super("twitter.com")}static credential(e,n){return il._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xa.credential(n,r)}catch{return null}}}Xa.TWITTER_SIGN_IN_METHOD="twitter.com";Xa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mM(t,e){return Gh(t,"POST","/v1/accounts:signUp",fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Xi._fromIdTokenResponse(e,r,s),o=iE(r);return new al({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=iE(r);return new al({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function iE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0 extends Ai{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,f0.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new f0(e,n,r,s)}}function RN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?f0._fromErrorAndOperation(t,i,e,r):i})}async function pM(t,e,n=!1){const r=await kc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return al._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM(t,e,n=!1){const{auth:r}=t;if(Es(r.app))return Promise.reject(wi(r));const s="reauthenticate";try{const i=await kc(t,RN(r,s,e,t),n);ht(i.idToken,r,"internal-error");const o=O1(i.idToken);ht(o,r,"internal-error");const{sub:u}=o;return ht(t.uid===u,r,"user-mismatch"),al._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&bs(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(t,e,n=!1){if(Es(t.app))return Promise.reject(wi(t));const r="signIn",s=await RN(t,r,e),i=await al._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function xM(t,e){return DN(ma(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(t){const e=ma(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ON(t,e,n){const r=ma(t);await d0(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",lM)}async function vM(t,e,n){if(Es(t.app))return Promise.reject(wi(t));const r=ma(t),o=await d0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mM).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&jN(t),h}),u=await al._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(u.user),u}function yM(t,e,n){return Es(t.app)?Promise.reject(wi(t)):xM(rn(t),Gc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&jN(t),r})}function _M(t,e){const n=rn(t);return Es(n.auth.app)?Promise.reject(wi(n.auth)):wM(n,e)}async function wM(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(i.email=e);const o=await kc(t,sM(r,i));await t._updateTokensIfNecessary(o,!0)}function EM(t,e,n,r){return rn(t).onIdTokenChanged(e,n,r)}function TM(t,e,n){return rn(t).beforeAuthStateChanged(e,n)}function SM(t,e,n,r){return rn(t).onAuthStateChanged(e,n,r)}function Rc(t){return rn(t).signOut()}const m0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(m0,"1"),this.storage.removeItem(m0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=1e3,NM=10;class MN extends FN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,u,h)=>{this.notifyListeners(o,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);UF()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,NM):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},bM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}MN.type="LOCAL";const AM=MN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN extends FN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LN.type="SESSION";const VN=LN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Z0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(o).map(async f=>f(n.origin,i)),h=await CM(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Z0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((u,h)=>{const f=U1("",20);s.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(x){const v=x;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(m),i=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(v.data.response);break;default:clearTimeout(m),clearTimeout(i),h(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(){return window}function PM(t){Ei().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function kM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RM(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function DM(){return UN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="firebaseLocalStorageDb",jM=1,p0="firebaseLocalStorage",zN="fbase_key";class qh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function em(t,e){return t.transaction([p0],e?"readwrite":"readonly").objectStore(p0)}function OM(){const t=indexedDB.deleteDatabase(BN);return new qh(t).toPromise()}function vx(){const t=indexedDB.open(BN,jM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(p0,{keyPath:zN})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(p0)?e(r):(r.close(),await OM(),e(await vx()))})})}async function aE(t,e,n){const r=em(t,!0).put({[zN]:e,value:n});return new qh(r).toPromise()}async function FM(t,e){const n=em(t,!1).get(e),r=await new qh(n).toPromise();return r===void 0?null:r.value}function oE(t,e){const n=em(t,!0).delete(e);return new qh(n).toPromise()}const MM=800,LM=3;class HN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>LM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Z0._getInstance(DM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await kM(),!this.activeServiceWorker)return;this.sender=new IM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vx();return await aE(e,m0,"1"),await oE(e,m0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>aE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>FM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>oE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=em(s,!1).getAll();return new qh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HN.type="LOCAL";const VM=HN;new Wh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(t,e){return e?Yi(e):(ht(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1 extends M1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function UM(t){return DN(t.auth,new B1(t),t.bypassAuthState)}function BM(t){const{auth:e,user:n}=t;return ht(n,e,"internal-error"),gM(n,new B1(t),t.bypassAuthState)}async function zM(t){const{auth:e,user:n}=t;return ht(n,e,"internal-error"),pM(n,new B1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:u}=e;if(o){this.reject(o);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UM;case"linkViaPopup":case"linkViaRedirect":return zM;case"reauthViaPopup":case"reauthViaRedirect":return BM;default:bs(this.auth,"internal-error")}}resolve(e){oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=new Wh(2e3,1e4);async function $M(t,e,n){if(Es(t.app))return Promise.reject(Xs(t,"operation-not-supported-in-this-environment"));const r=ma(t);wF(t,e,V1);const s=$N(r,n);return new qo(r,"signInViaPopup",e,s).executeNotNull()}class qo extends WN{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,qo.currentPopupAction&&qo.currentPopupAction.cancel(),qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ht(e,this.auth,"internal-error"),e}async onExecution(){oa(this.filter.length===1,"Popup operations only handle one event");const e=U1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HM.get())};e()}}qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM="pendingRedirect",Wf=new Map;class GM extends WN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wf.get(this.auth._key());if(!e){try{const r=await KM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wf.set(this.auth._key(),e)}return this.bypassAuthState||Wf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KM(t,e){const n=YM(e),r=XM(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function qM(t,e){Wf.set(t._key(),e)}function XM(t){return Yi(t._redirectPersistence)}function YM(t){return $f(WM,t.config.apiKey,t.name)}async function QM(t,e,n=!1){if(Es(t.app))return Promise.reject(wi(t));const r=ma(t),s=$N(r,e),o=await new GM(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=10*60*1e3;class ZM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!GN(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JM&&this.cachedEventUids.clear(),this.cachedEventUids.has(lE(e))}saveEventToCache(e){this.cachedEventUids.add(lE(e)),this.lastProcessedEventTime=Date.now()}}function lE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function eL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tL(t,e={}){return Ci(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rL=/^https?/;async function sL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tL(t);for(const n of e)try{if(iL(n))return}catch{}bs(t,"unauthorized-domain")}function iL(t){const e=gx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!rL.test(n))return!1;if(nL.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=new Wh(3e4,6e4);function cE(){const t=Ei().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function oL(t){return new Promise((e,n)=>{var r,s,i;function o(){cE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cE(),n(Xs(t,"network-request-failed"))},timeout:aL.get()})}if(!((s=(r=Ei().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Ei().gapi)===null||i===void 0)&&i.load)o();else{const u=XF("iframefcb");return Ei()[u]=()=>{gapi.load?o():n(Xs(t,"network-request-failed"))},PN(`${qF()}?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw Gf=null,e})}let Gf=null;function lL(t){return Gf=Gf||oL(t),Gf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=new Wh(5e3,15e3),uL="__/auth/iframe",hL="emulator/auth/iframe",dL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mL(t){const e=t.config;ht(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?j1(e,hL):`https://${t.config.authDomain}/${uL}`,r={apiKey:e.apiKey,appName:t.name,v:ml},s=fL.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${$h(r).slice(1)}`}async function pL(t){const e=await lL(t),n=Ei().gapi;return ht(n,t,"internal-error"),e.open({where:document.body,url:mL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dL,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Xs(t,"network-request-failed"),u=Ei().setTimeout(()=>{i(o)},cL.get());function h(){Ei().clearTimeout(u),s(r)}r.ping(h).then(h,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xL=500,vL=600,yL="_blank",_L="http://localhost";class uE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wL(t,e,n,r=xL,s=vL){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h=Object.assign(Object.assign({},gL),{width:r.toString(),height:s.toString(),top:i,left:o}),f=yr().toLowerCase();n&&(u=TN(f)?yL:n),wN(f)&&(e=e||_L,h.scrollbars="yes");const m=Object.entries(h).reduce((v,[_,A])=>`${v}${_}=${A},`,"");if(VF(f)&&u!=="_self")return EL(e||"",u),new uE(null);const x=window.open(e||"",u,m);ht(x,t,"popup-blocked");try{x.focus()}catch{}return new uE(x)}function EL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL="__/auth/handler",SL="emulator/auth/handler",bL=encodeURIComponent("fac");async function hE(t,e,n,r,s,i){ht(t.config.authDomain,t,"auth-domain-config-required"),ht(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ml,eventId:s};if(e instanceof V1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",aO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,x]of Object.entries({}))o[m]=x}if(e instanceof Kh){const m=e.getScopes().filter(x=>x!=="");m.length>0&&(o.scopes=m.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await t._getAppCheckToken(),f=h?`#${bL}=${encodeURIComponent(h)}`:"";return`${NL(t)}?${$h(u).slice(1)}${f}`}function NL({config:t}){return t.emulator?j1(t,SL):`https://${t.authDomain}/${TL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="webStorageSupport";class AL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VN,this._completeRedirectFn=QM,this._overrideRedirectResult=qM}async _openPopup(e,n,r,s){var i;oa((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await hE(e,n,r,gx(),s);return wL(e,o,U1())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await hE(e,n,r,gx(),s);return PM(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(oa(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await pL(e),r=new ZM(e);return n.register("authEvent",s=>(ht(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sg,{type:Sg},s=>{var i;const o=(i=s?.[0])===null||i===void 0?void 0:i[Sg];o!==void 0&&n(!!o),bs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CN()||EN()||F1()}}const CL=AL;var dE="@firebase/auth",fE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kL(t){sl(new oo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;ht(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IN(t)},f=new WF(r,s,i,h);return eM(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sl(new oo("auth-internal",e=>{const n=ma(e.getProvider("auth").getImmediate());return(r=>new IL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(dE,fE,PL(t)),_i(dE,fE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=5*60,DL=aN("authIdTokenMaxAge")||RL;let mE=null;const jL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>DL)return;const s=n?.token;mE!==s&&(mE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function OL(t=P1()){const e=Q0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ZF(t,{popupRedirectResolver:CL,persistence:[VM,AM,VN]}),r=aN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=jL(i.toString());TM(n,o,()=>o(n.currentUser)),EM(n,u=>o(u))}}const s=rN("auth");return s&&tM(n,`http://${s}`),n}function FL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}GF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Xs("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",FL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kL("Browser");var pE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tl,KN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,T){function b(){}b.prototype=T.prototype,P.D=T.prototype,P.prototype=new b,P.prototype.constructor=P,P.C=function(R,I,L){for(var k=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)k[Ae-2]=arguments[Ae];return T.prototype[I].apply(R,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,T,b){b||(b=0);var R=Array(16);if(typeof T=="string")for(var I=0;16>I;++I)R[I]=T.charCodeAt(b++)|T.charCodeAt(b++)<<8|T.charCodeAt(b++)<<16|T.charCodeAt(b++)<<24;else for(I=0;16>I;++I)R[I]=T[b++]|T[b++]<<8|T[b++]<<16|T[b++]<<24;T=P.g[0],b=P.g[1],I=P.g[2];var L=P.g[3],k=T+(L^b&(I^L))+R[0]+3614090360&4294967295;T=b+(k<<7&4294967295|k>>>25),k=L+(I^T&(b^I))+R[1]+3905402710&4294967295,L=T+(k<<12&4294967295|k>>>20),k=I+(b^L&(T^b))+R[2]+606105819&4294967295,I=L+(k<<17&4294967295|k>>>15),k=b+(T^I&(L^T))+R[3]+3250441966&4294967295,b=I+(k<<22&4294967295|k>>>10),k=T+(L^b&(I^L))+R[4]+4118548399&4294967295,T=b+(k<<7&4294967295|k>>>25),k=L+(I^T&(b^I))+R[5]+1200080426&4294967295,L=T+(k<<12&4294967295|k>>>20),k=I+(b^L&(T^b))+R[6]+2821735955&4294967295,I=L+(k<<17&4294967295|k>>>15),k=b+(T^I&(L^T))+R[7]+4249261313&4294967295,b=I+(k<<22&4294967295|k>>>10),k=T+(L^b&(I^L))+R[8]+1770035416&4294967295,T=b+(k<<7&4294967295|k>>>25),k=L+(I^T&(b^I))+R[9]+2336552879&4294967295,L=T+(k<<12&4294967295|k>>>20),k=I+(b^L&(T^b))+R[10]+4294925233&4294967295,I=L+(k<<17&4294967295|k>>>15),k=b+(T^I&(L^T))+R[11]+2304563134&4294967295,b=I+(k<<22&4294967295|k>>>10),k=T+(L^b&(I^L))+R[12]+1804603682&4294967295,T=b+(k<<7&4294967295|k>>>25),k=L+(I^T&(b^I))+R[13]+4254626195&4294967295,L=T+(k<<12&4294967295|k>>>20),k=I+(b^L&(T^b))+R[14]+2792965006&4294967295,I=L+(k<<17&4294967295|k>>>15),k=b+(T^I&(L^T))+R[15]+1236535329&4294967295,b=I+(k<<22&4294967295|k>>>10),k=T+(I^L&(b^I))+R[1]+4129170786&4294967295,T=b+(k<<5&4294967295|k>>>27),k=L+(b^I&(T^b))+R[6]+3225465664&4294967295,L=T+(k<<9&4294967295|k>>>23),k=I+(T^b&(L^T))+R[11]+643717713&4294967295,I=L+(k<<14&4294967295|k>>>18),k=b+(L^T&(I^L))+R[0]+3921069994&4294967295,b=I+(k<<20&4294967295|k>>>12),k=T+(I^L&(b^I))+R[5]+3593408605&4294967295,T=b+(k<<5&4294967295|k>>>27),k=L+(b^I&(T^b))+R[10]+38016083&4294967295,L=T+(k<<9&4294967295|k>>>23),k=I+(T^b&(L^T))+R[15]+3634488961&4294967295,I=L+(k<<14&4294967295|k>>>18),k=b+(L^T&(I^L))+R[4]+3889429448&4294967295,b=I+(k<<20&4294967295|k>>>12),k=T+(I^L&(b^I))+R[9]+568446438&4294967295,T=b+(k<<5&4294967295|k>>>27),k=L+(b^I&(T^b))+R[14]+3275163606&4294967295,L=T+(k<<9&4294967295|k>>>23),k=I+(T^b&(L^T))+R[3]+4107603335&4294967295,I=L+(k<<14&4294967295|k>>>18),k=b+(L^T&(I^L))+R[8]+1163531501&4294967295,b=I+(k<<20&4294967295|k>>>12),k=T+(I^L&(b^I))+R[13]+2850285829&4294967295,T=b+(k<<5&4294967295|k>>>27),k=L+(b^I&(T^b))+R[2]+4243563512&4294967295,L=T+(k<<9&4294967295|k>>>23),k=I+(T^b&(L^T))+R[7]+1735328473&4294967295,I=L+(k<<14&4294967295|k>>>18),k=b+(L^T&(I^L))+R[12]+2368359562&4294967295,b=I+(k<<20&4294967295|k>>>12),k=T+(b^I^L)+R[5]+4294588738&4294967295,T=b+(k<<4&4294967295|k>>>28),k=L+(T^b^I)+R[8]+2272392833&4294967295,L=T+(k<<11&4294967295|k>>>21),k=I+(L^T^b)+R[11]+1839030562&4294967295,I=L+(k<<16&4294967295|k>>>16),k=b+(I^L^T)+R[14]+4259657740&4294967295,b=I+(k<<23&4294967295|k>>>9),k=T+(b^I^L)+R[1]+2763975236&4294967295,T=b+(k<<4&4294967295|k>>>28),k=L+(T^b^I)+R[4]+1272893353&4294967295,L=T+(k<<11&4294967295|k>>>21),k=I+(L^T^b)+R[7]+4139469664&4294967295,I=L+(k<<16&4294967295|k>>>16),k=b+(I^L^T)+R[10]+3200236656&4294967295,b=I+(k<<23&4294967295|k>>>9),k=T+(b^I^L)+R[13]+681279174&4294967295,T=b+(k<<4&4294967295|k>>>28),k=L+(T^b^I)+R[0]+3936430074&4294967295,L=T+(k<<11&4294967295|k>>>21),k=I+(L^T^b)+R[3]+3572445317&4294967295,I=L+(k<<16&4294967295|k>>>16),k=b+(I^L^T)+R[6]+76029189&4294967295,b=I+(k<<23&4294967295|k>>>9),k=T+(b^I^L)+R[9]+3654602809&4294967295,T=b+(k<<4&4294967295|k>>>28),k=L+(T^b^I)+R[12]+3873151461&4294967295,L=T+(k<<11&4294967295|k>>>21),k=I+(L^T^b)+R[15]+530742520&4294967295,I=L+(k<<16&4294967295|k>>>16),k=b+(I^L^T)+R[2]+3299628645&4294967295,b=I+(k<<23&4294967295|k>>>9),k=T+(I^(b|~L))+R[0]+4096336452&4294967295,T=b+(k<<6&4294967295|k>>>26),k=L+(b^(T|~I))+R[7]+1126891415&4294967295,L=T+(k<<10&4294967295|k>>>22),k=I+(T^(L|~b))+R[14]+2878612391&4294967295,I=L+(k<<15&4294967295|k>>>17),k=b+(L^(I|~T))+R[5]+4237533241&4294967295,b=I+(k<<21&4294967295|k>>>11),k=T+(I^(b|~L))+R[12]+1700485571&4294967295,T=b+(k<<6&4294967295|k>>>26),k=L+(b^(T|~I))+R[3]+2399980690&4294967295,L=T+(k<<10&4294967295|k>>>22),k=I+(T^(L|~b))+R[10]+4293915773&4294967295,I=L+(k<<15&4294967295|k>>>17),k=b+(L^(I|~T))+R[1]+2240044497&4294967295,b=I+(k<<21&4294967295|k>>>11),k=T+(I^(b|~L))+R[8]+1873313359&4294967295,T=b+(k<<6&4294967295|k>>>26),k=L+(b^(T|~I))+R[15]+4264355552&4294967295,L=T+(k<<10&4294967295|k>>>22),k=I+(T^(L|~b))+R[6]+2734768916&4294967295,I=L+(k<<15&4294967295|k>>>17),k=b+(L^(I|~T))+R[13]+1309151649&4294967295,b=I+(k<<21&4294967295|k>>>11),k=T+(I^(b|~L))+R[4]+4149444226&4294967295,T=b+(k<<6&4294967295|k>>>26),k=L+(b^(T|~I))+R[11]+3174756917&4294967295,L=T+(k<<10&4294967295|k>>>22),k=I+(T^(L|~b))+R[2]+718787259&4294967295,I=L+(k<<15&4294967295|k>>>17),k=b+(L^(I|~T))+R[9]+3951481745&4294967295,P.g[0]=P.g[0]+T&4294967295,P.g[1]=P.g[1]+(I+(k<<21&4294967295|k>>>11))&4294967295,P.g[2]=P.g[2]+I&4294967295,P.g[3]=P.g[3]+L&4294967295}r.prototype.u=function(P,T){T===void 0&&(T=P.length);for(var b=T-this.blockSize,R=this.B,I=this.h,L=0;L<T;){if(I==0)for(;L<=b;)s(this,P,L),L+=this.blockSize;if(typeof P=="string"){for(;L<T;)if(R[I++]=P.charCodeAt(L++),I==this.blockSize){s(this,R),I=0;break}}else for(;L<T;)if(R[I++]=P[L++],I==this.blockSize){s(this,R),I=0;break}}this.h=I,this.o+=T},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var T=1;T<P.length-8;++T)P[T]=0;var b=8*this.o;for(T=P.length-8;T<P.length;++T)P[T]=b&255,b/=256;for(this.u(P),P=Array(16),T=b=0;4>T;++T)for(var R=0;32>R;R+=8)P[b++]=this.g[T]>>>R&255;return P};function i(P,T){var b=u;return Object.prototype.hasOwnProperty.call(b,P)?b[P]:b[P]=T(P)}function o(P,T){this.h=T;for(var b=[],R=!0,I=P.length-1;0<=I;I--){var L=P[I]|0;R&&L==T||(b[I]=L,R=!1)}this.g=b}var u={};function h(P){return-128<=P&&128>P?i(P,function(T){return new o([T|0],0>T?-1:0)}):new o([P|0],0>P?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return x;if(0>P)return N(f(-P));for(var T=[],b=1,R=0;P>=b;R++)T[R]=P/b|0,b*=4294967296;return new o(T,0)}function m(P,T){if(P.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(P.charAt(0)=="-")return N(m(P.substring(1),T));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=f(Math.pow(T,8)),R=x,I=0;I<P.length;I+=8){var L=Math.min(8,P.length-I),k=parseInt(P.substring(I,I+L),T);8>L?(L=f(Math.pow(T,L)),R=R.j(L).add(f(k))):(R=R.j(b),R=R.add(f(k)))}return R}var x=h(0),v=h(1),_=h(16777216);t=o.prototype,t.m=function(){if(w(this))return-N(this).m();for(var P=0,T=1,b=0;b<this.g.length;b++){var R=this.i(b);P+=(0<=R?R:4294967296+R)*T,T*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(A(this))return"0";if(w(this))return"-"+N(this).toString(P);for(var T=f(Math.pow(P,6)),b=this,R="";;){var I=z(b,T).g;b=M(b,I.j(T));var L=((0<b.g.length?b.g[0]:b.h)>>>0).toString(P);if(b=I,A(b))return L+R;for(;6>L.length;)L="0"+L;R=L+R}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function A(P){if(P.h!=0)return!1;for(var T=0;T<P.g.length;T++)if(P.g[T]!=0)return!1;return!0}function w(P){return P.h==-1}t.l=function(P){return P=M(this,P),w(P)?-1:A(P)?0:1};function N(P){for(var T=P.g.length,b=[],R=0;R<T;R++)b[R]=~P.g[R];return new o(b,~P.h).add(v)}t.abs=function(){return w(this)?N(this):this},t.add=function(P){for(var T=Math.max(this.g.length,P.g.length),b=[],R=0,I=0;I<=T;I++){var L=R+(this.i(I)&65535)+(P.i(I)&65535),k=(L>>>16)+(this.i(I)>>>16)+(P.i(I)>>>16);R=k>>>16,L&=65535,k&=65535,b[I]=k<<16|L}return new o(b,b[b.length-1]&-2147483648?-1:0)};function M(P,T){return P.add(N(T))}t.j=function(P){if(A(this)||A(P))return x;if(w(this))return w(P)?N(this).j(N(P)):N(N(this).j(P));if(w(P))return N(this.j(N(P)));if(0>this.l(_)&&0>P.l(_))return f(this.m()*P.m());for(var T=this.g.length+P.g.length,b=[],R=0;R<2*T;R++)b[R]=0;for(R=0;R<this.g.length;R++)for(var I=0;I<P.g.length;I++){var L=this.i(R)>>>16,k=this.i(R)&65535,Ae=P.i(I)>>>16,Ce=P.i(I)&65535;b[2*R+2*I]+=k*Ce,j(b,2*R+2*I),b[2*R+2*I+1]+=L*Ce,j(b,2*R+2*I+1),b[2*R+2*I+1]+=k*Ae,j(b,2*R+2*I+1),b[2*R+2*I+2]+=L*Ae,j(b,2*R+2*I+2)}for(R=0;R<T;R++)b[R]=b[2*R+1]<<16|b[2*R];for(R=T;R<2*T;R++)b[R]=0;return new o(b,0)};function j(P,T){for(;(P[T]&65535)!=P[T];)P[T+1]+=P[T]>>>16,P[T]&=65535,T++}function O(P,T){this.g=P,this.h=T}function z(P,T){if(A(T))throw Error("division by zero");if(A(P))return new O(x,x);if(w(P))return T=z(N(P),T),new O(N(T.g),N(T.h));if(w(T))return T=z(P,N(T)),new O(N(T.g),T.h);if(30<P.g.length){if(w(P)||w(T))throw Error("slowDivide_ only works with positive integers.");for(var b=v,R=T;0>=R.l(P);)b=ne(b),R=ne(R);var I=re(b,1),L=re(R,1);for(R=re(R,2),b=re(b,2);!A(R);){var k=L.add(R);0>=k.l(P)&&(I=I.add(b),L=k),R=re(R,1),b=re(b,1)}return T=M(P,I.j(T)),new O(I,T)}for(I=x;0<=P.l(T);){for(b=Math.max(1,Math.floor(P.m()/T.m())),R=Math.ceil(Math.log(b)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),L=f(b),k=L.j(T);w(k)||0<k.l(P);)b-=R,L=f(b),k=L.j(T);A(L)&&(L=v),I=I.add(L),P=M(P,k)}return new O(I,P)}t.A=function(P){return z(this,P).h},t.and=function(P){for(var T=Math.max(this.g.length,P.g.length),b=[],R=0;R<T;R++)b[R]=this.i(R)&P.i(R);return new o(b,this.h&P.h)},t.or=function(P){for(var T=Math.max(this.g.length,P.g.length),b=[],R=0;R<T;R++)b[R]=this.i(R)|P.i(R);return new o(b,this.h|P.h)},t.xor=function(P){for(var T=Math.max(this.g.length,P.g.length),b=[],R=0;R<T;R++)b[R]=this.i(R)^P.i(R);return new o(b,this.h^P.h)};function ne(P){for(var T=P.g.length+1,b=[],R=0;R<T;R++)b[R]=P.i(R)<<1|P.i(R-1)>>>31;return new o(b,P.h)}function re(P,T){var b=T>>5;T%=32;for(var R=P.g.length-b,I=[],L=0;L<R;L++)I[L]=0<T?P.i(L+b)>>>T|P.i(L+b+1)<<32-T:P.i(L+b);return new o(I,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,KN=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=m,tl=o}).apply(typeof pE<"u"?pE:typeof self<"u"?self:typeof window<"u"?window:{});var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qN,zu,XN,Kf,yx,YN,QN,JN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,C){return p==Array.prototype||p==Object.prototype||(p[E]=C.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tf=="object"&&Tf];for(var E=0;E<p.length;++E){var C=p[E];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function s(p,E){if(E)e:{var C=r;p=p.split(".");for(var U=0;U<p.length-1;U++){var oe=p[U];if(!(oe in C))break e;C=C[oe]}p=p[p.length-1],U=C[p],E=E(U),E!=U&&E!=null&&e(C,p,{configurable:!0,writable:!0,value:E})}}function i(p,E){p instanceof String&&(p+="");var C=0,U=!1,oe={next:function(){if(!U&&C<p.length){var ve=C++;return{value:E(ve,p[ve]),done:!1}}return U=!0,{done:!0,value:void 0}}};return oe[Symbol.iterator]=function(){return oe},oe}s("Array.prototype.values",function(p){return p||function(){return i(this,function(E,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function h(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function f(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function m(p,E,C){return p.call.apply(p.bind,arguments)}function x(p,E,C){if(!p)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(oe,U),p.apply(E,oe)}}return function(){return p.apply(E,arguments)}}function v(p,E,C){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:x,v.apply(null,arguments)}function _(p,E){var C=Array.prototype.slice.call(arguments,1);return function(){var U=C.slice();return U.push.apply(U,arguments),p.apply(this,U)}}function A(p,E){function C(){}C.prototype=E.prototype,p.aa=E.prototype,p.prototype=new C,p.prototype.constructor=p,p.Qb=function(U,oe,ve){for(var $e=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)$e[jt-2]=arguments[jt];return E.prototype[oe].apply(U,$e)}}function w(p){const E=p.length;if(0<E){const C=Array(E);for(let U=0;U<E;U++)C[U]=p[U];return C}return[]}function N(p,E){for(let C=1;C<arguments.length;C++){const U=arguments[C];if(h(U)){const oe=p.length||0,ve=U.length||0;p.length=oe+ve;for(let $e=0;$e<ve;$e++)p[oe+$e]=U[$e]}else p.push(U)}}class M{constructor(E,C){this.i=E,this.j=C,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function j(p){return/^[\s\xa0]*$/.test(p)}function O(){var p=u.navigator;return p&&(p=p.userAgent)?p:""}function z(p){return z[" "](p),p}z[" "]=function(){};var ne=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function re(p,E,C){for(const U in p)E.call(C,p[U],U,p)}function P(p,E){for(const C in p)E.call(void 0,p[C],C,p)}function T(p){const E={};for(const C in p)E[C]=p[C];return E}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(p,E){let C,U;for(let oe=1;oe<arguments.length;oe++){U=arguments[oe];for(C in U)p[C]=U[C];for(let ve=0;ve<b.length;ve++)C=b[ve],Object.prototype.hasOwnProperty.call(U,C)&&(p[C]=U[C])}}function I(p){var E=1;p=p.split(":");const C=[];for(;0<E&&p.length;)C.push(p.shift()),E--;return p.length&&C.push(p.join(":")),C}function L(p){u.setTimeout(()=>{throw p},0)}function k(){var p=_e;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class Ae{constructor(){this.h=this.g=null}add(E,C){const U=Ce.get();U.set(E,C),this.h?this.h.next=U:this.g=U,this.h=U}}var Ce=new M(()=>new Ue,p=>p.reset());class Ue{constructor(){this.next=this.g=this.h=null}set(E,C){this.h=E,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let Re,ae=!1,_e=new Ae,Ee=()=>{const p=u.Promise.resolve(void 0);Re=()=>{p.then(W)}};var W=()=>{for(var p;p=k();){try{p.h.call(p.g)}catch(C){L(C)}var E=Ce;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}ae=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const C=()=>{};u.addEventListener("test",C,E),u.removeEventListener("test",C,E)}catch{}return p}();function J(p,E){if(Y.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var C=this.type=p.type,U=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if(ne){e:{try{z(E.nodeName);var oe=!0;break e}catch{}oe=!1}oe||(E=null)}}else C=="mouseover"?E=p.fromElement:C=="mouseout"&&(E=p.toElement);this.relatedTarget=E,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:fe[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&J.aa.h.call(this)}}A(J,Y);var fe={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),Z=0;function ge(p,E,C,U,oe){this.listener=p,this.proxy=null,this.src=E,this.type=C,this.capture=!!U,this.ha=oe,this.key=++Z,this.da=this.fa=!1}function pe(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Se(p){this.src=p,this.g={},this.h=0}Se.prototype.add=function(p,E,C,U,oe){var ve=p.toString();p=this.g[ve],p||(p=this.g[ve]=[],this.h++);var $e=xt(p,E,U,oe);return-1<$e?(E=p[$e],C||(E.fa=!1)):(E=new ge(E,this.src,ve,!!U,oe),E.fa=C,p.push(E)),E};function Qe(p,E){var C=E.type;if(C in p.g){var U=p.g[C],oe=Array.prototype.indexOf.call(U,E,void 0),ve;(ve=0<=oe)&&Array.prototype.splice.call(U,oe,1),ve&&(pe(E),p.g[C].length==0&&(delete p.g[C],p.h--))}}function xt(p,E,C,U){for(var oe=0;oe<p.length;++oe){var ve=p[oe];if(!ve.da&&ve.listener==E&&ve.capture==!!C&&ve.ha==U)return oe}return-1}var lt="closure_lm_"+(1e6*Math.random()|0),Kt={};function dt(p,E,C,U,oe){if(Array.isArray(E)){for(var ve=0;ve<E.length;ve++)dt(p,E[ve],C,U,oe);return null}return C=os(C),p&&p[Ie]?p.K(E,C,f(U)?!!U.capture:!1,oe):te(p,E,C,!1,U,oe)}function te(p,E,C,U,oe,ve){if(!E)throw Error("Invalid event type");var $e=f(oe)?!!oe.capture:!!oe,jt=as(p);if(jt||(p[lt]=jt=new Se(p)),C=jt.add(E,C,U,$e,ve),C.proxy)return C;if(U=Le(),C.proxy=U,U.src=p,U.listener=C,p.addEventListener)X||(oe=$e),oe===void 0&&(oe=!1),p.addEventListener(E.toString(),U,oe);else if(p.attachEvent)p.attachEvent(ot(E.toString()),U);else if(p.addListener&&p.removeListener)p.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Le(){function p(C){return E.call(p.src,p.listener,C)}const E=Rt;return p}function Ke(p,E,C,U,oe){if(Array.isArray(E))for(var ve=0;ve<E.length;ve++)Ke(p,E[ve],C,U,oe);else U=f(U)?!!U.capture:!!U,C=os(C),p&&p[Ie]?(p=p.i,E=String(E).toString(),E in p.g&&(ve=p.g[E],C=xt(ve,C,U,oe),-1<C&&(pe(ve[C]),Array.prototype.splice.call(ve,C,1),ve.length==0&&(delete p.g[E],p.h--)))):p&&(p=as(p))&&(E=p.g[E.toString()],p=-1,E&&(p=xt(E,C,U,oe)),(C=-1<p?E[p]:null)&&nt(C))}function nt(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[Ie])Qe(E.i,p);else{var C=p.type,U=p.proxy;E.removeEventListener?E.removeEventListener(C,U,p.capture):E.detachEvent?E.detachEvent(ot(C),U):E.addListener&&E.removeListener&&E.removeListener(U),(C=as(E))?(Qe(C,p),C.h==0&&(C.src=null,E[lt]=null)):pe(p)}}}function ot(p){return p in Kt?Kt[p]:Kt[p]="on"+p}function Rt(p,E){if(p.da)p=!0;else{E=new J(E,this);var C=p.listener,U=p.ha||p.src;p.fa&&nt(p),p=C.call(U,E)}return p}function as(p){return p=p[lt],p instanceof Se?p:null}var Pn="__closure_events_fn_"+(1e9*Math.random()>>>0);function os(p){return typeof p=="function"?p:(p[Pn]||(p[Pn]=function(E){return p.handleEvent(E)}),p[Pn])}function qt(){V.call(this),this.i=new Se(this),this.M=this,this.F=null}A(qt,V),qt.prototype[Ie]=!0,qt.prototype.removeEventListener=function(p,E,C,U){Ke(this,p,E,C,U)};function sn(p,E){var C,U=p.F;if(U)for(C=[];U;U=U.F)C.push(U);if(p=p.M,U=E.type||E,typeof E=="string")E=new Y(E,p);else if(E instanceof Y)E.target=E.target||p;else{var oe=E;E=new Y(U,p),R(E,oe)}if(oe=!0,C)for(var ve=C.length-1;0<=ve;ve--){var $e=E.g=C[ve];oe=Gn($e,U,!0,E)&&oe}if($e=E.g=p,oe=Gn($e,U,!0,E)&&oe,oe=Gn($e,U,!1,E)&&oe,C)for(ve=0;ve<C.length;ve++)$e=E.g=C[ve],oe=Gn($e,U,!1,E)&&oe}qt.prototype.N=function(){if(qt.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var C=p.g[E],U=0;U<C.length;U++)pe(C[U]);delete p.g[E],p.h--}}this.F=null},qt.prototype.K=function(p,E,C,U){return this.i.add(String(p),E,!1,C,U)},qt.prototype.L=function(p,E,C,U){return this.i.add(String(p),E,!0,C,U)};function Gn(p,E,C,U){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var oe=!0,ve=0;ve<E.length;++ve){var $e=E[ve];if($e&&!$e.da&&$e.capture==C){var jt=$e.listener,kn=$e.ha||$e.src;$e.fa&&Qe(p.i,$e),oe=jt.call(kn,U)!==!1&&oe}}return oe&&!U.defaultPrevented}function vo(p,E,C){if(typeof p=="function")C&&(p=v(p,C));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:u.setTimeout(p,E||0)}function As(p){p.g=vo(()=>{p.g=null,p.i&&(p.i=!1,As(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class ei extends V{constructor(E,C){super(),this.m=E,this.l=C,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:As(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ti(p){V.call(this),this.h=p,this.g={}}A(ti,V);var ga=[];function xa(p){re(p.g,function(E,C){this.g.hasOwnProperty(C)&&nt(E)},p),p.g={}}ti.prototype.N=function(){ti.aa.N.call(this),xa(this)},ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var va=u.JSON.stringify,yo=u.JSON.parse,_o=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function ni(){}ni.prototype.h=null;function Ii(p){return p.h||(p.h=p.i())}function Pi(){}var Pr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ls(){Y.call(this,"d")}A(ls,Y);function Cs(){Y.call(this,"c")}A(Cs,Y);var cs={},wo=null;function ki(){return wo=wo||new qt}cs.La="serverreachability";function Eo(p){Y.call(this,cs.La,p)}A(Eo,Y);function Is(p){const E=ki();sn(E,new Eo(E))}cs.STAT_EVENT="statevent";function To(p,E){Y.call(this,cs.STAT_EVENT,p),this.stat=E}A(To,Y);function an(p){const E=ki();sn(E,new To(E,p))}cs.Ma="timingevent";function ya(p,E){Y.call(this,cs.Ma,p),this.size=E}A(ya,Y);function _r(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},E)}function Ri(){this.g=!0}Ri.prototype.xa=function(){this.g=!1};function Di(p,E,C,U,oe,ve){p.info(function(){if(p.g)if(ve)for(var $e="",jt=ve.split("&"),kn=0;kn<jt.length;kn++){var Tt=jt[kn].split("=");if(1<Tt.length){var Ln=Tt[0];Tt=Tt[1];var En=Ln.split("_");$e=2<=En.length&&En[1]=="type"?$e+(Ln+"="+Tt+"&"):$e+(Ln+"=redacted&")}}else $e=null;else $e=ve;return"XMLHTTP REQ ("+U+") [attempt "+oe+"]: "+E+`
`+C+`
`+$e})}function _a(p,E,C,U,oe,ve,$e){p.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+oe+"]: "+E+`
`+C+`
`+ve+" "+$e})}function F(p,E,C,U){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+B(p,C)+(U?" "+U:"")})}function G(p,E){p.info(function(){return"TIMEOUT: "+E})}Ri.prototype.info=function(){};function B(p,E){if(!p.g)return E;if(!E)return null;try{var C=JSON.parse(E);if(C){for(p=0;p<C.length;p++)if(Array.isArray(C[p])){var U=C[p];if(!(2>U.length)){var oe=U[1];if(Array.isArray(oe)&&!(1>oe.length)){var ve=oe[0];if(ve!="noop"&&ve!="stop"&&ve!="close")for(var $e=1;$e<oe.length;$e++)oe[$e]=""}}}}return va(C)}catch{return E}}var H={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},K={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},q;function ce(){}A(ce,ni),ce.prototype.g=function(){return new XMLHttpRequest},ce.prototype.i=function(){return{}},q=new ce;function ye(p,E,C,U){this.j=p,this.i=E,this.l=C,this.R=U||1,this.U=new ti(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var de={},me={};function De(p,E,C){p.L=1,p.v=ba(Gr(E)),p.m=C,p.P=!0,ze(p,null)}function ze(p,E){p.F=Date.now(),Oe(p),p.A=Gr(p.v);var C=p.A,U=p.R;Array.isArray(U)||(U=[String(U)]),Aa(C.i,"t",U),p.C=0,C=p.j.J,p.h=new ue,p.g=Ed(p.j,C?E:null,!p.m),0<p.O&&(p.M=new ei(v(p.Y,p,p.g),p.O)),E=p.U,C=p.g,U=p.ca;var oe="readystatechange";Array.isArray(oe)||(oe&&(ga[0]=oe.toString()),oe=ga);for(var ve=0;ve<oe.length;ve++){var $e=dt(C,oe[ve],U||E.handleEvent,!1,E.h||E);if(!$e)break;E.g[$e.key]=$e}E=p.H?T(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),Is(),Di(p.i,p.u,p.A,p.l,p.R,p.m)}ye.prototype.ca=function(p){p=p.target;const E=this.M;E&&Rr(p)==3?E.j():this.Y(p)},ye.prototype.Y=function(p){try{if(p==this.g)e:{const En=Rr(this.g);var E=this.g.Ba();const hs=this.g.Z();if(!(3>En)&&(En!=3||this.g&&(this.h.h||this.g.oa()||au(this.g)))){this.J||En!=4||E==7||(E==8||0>=hs?Is(3):Is(2)),Pt(this);var C=this.g.Z();this.X=C;t:if(We(this)){var U=au(this.g);p="";var oe=U.length,ve=Rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dt(this),Nt(this);var $e="";break t}this.h.i=new u.TextDecoder}for(E=0;E<oe;E++)this.h.h=!0,p+=this.h.i.decode(U[E],{stream:!(ve&&E==oe-1)});U.length=0,this.h.g+=p,this.C=0,$e=this.h.g}else $e=this.g.oa();if(this.o=C==200,_a(this.i,this.u,this.A,this.l,this.R,En,C),this.o){if(this.T&&!this.K){t:{if(this.g){var jt,kn=this.g;if((jt=kn.g?kn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(jt)){var Tt=jt;break t}}Tt=null}if(C=Tt)F(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ps(this,C);else{this.o=!1,this.s=3,an(12),Dt(this),Nt(this);break e}}if(this.P){C=!0;let qr;for(;!this.J&&this.C<$e.length;)if(qr=Me(this,$e),qr==me){En==4&&(this.s=4,an(14),C=!1),F(this.i,this.l,null,"[Incomplete Response]");break}else if(qr==de){this.s=4,an(15),F(this.i,this.l,$e,"[Invalid Chunk]"),C=!1;break}else F(this.i,this.l,qr,null),Ps(this,qr);if(We(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),En!=4||$e.length!=0||this.h.h||(this.s=1,an(16),C=!1),this.o=this.o&&C,!C)F(this.i,this.l,$e,"[Invalid Chunked Response]"),Dt(this),Nt(this);else if(0<$e.length&&!this.W){this.W=!0;var Ln=this.j;Ln.g==this&&Ln.ba&&!Ln.M&&(Ln.j.info("Great, no buffering proxy detected. Bytes received: "+$e.length),lu(Ln),Ln.M=!0,an(11))}}else F(this.i,this.l,$e,null),Ps(this,$e);En==4&&Dt(this),this.o&&!this.J&&(En==4?Rl(this.j,this):(this.o=!1,Oe(this)))}else Al(this.g),C==400&&0<$e.indexOf("Unknown SID")?(this.s=3,an(12)):(this.s=0,an(13)),Dt(this),Nt(this)}}}catch{}finally{}};function We(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Me(p,E){var C=p.C,U=E.indexOf(`
`,C);return U==-1?me:(C=Number(E.substring(C,U)),isNaN(C)?de:(U+=1,U+C>E.length?me:(E=E.slice(U,U+C),p.C=U+C,E)))}ye.prototype.cancel=function(){this.J=!0,Dt(this)};function Oe(p){p.S=Date.now()+p.I,ct(p,p.I)}function ct(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=_r(v(p.ba,p),E)}function Pt(p){p.B&&(u.clearTimeout(p.B),p.B=null)}ye.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(G(this.i,this.A),this.L!=2&&(Is(),an(17)),Dt(this),this.s=2,Nt(this)):ct(this,this.S-p)};function Nt(p){p.j.G==0||p.J||Rl(p.j,p)}function Dt(p){Pt(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,xa(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function Ps(p,E){try{var C=p.j;if(C.G!=0&&(C.g==p||Xt(C.h,p))){if(!p.K&&Xt(C.h,p)&&C.G==3){try{var U=C.Da.g.parse(E)}catch{U=null}if(Array.isArray(U)&&U.length==3){var oe=U;if(oe[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<p.F)kl(C),Os(C);else break e;Pl(C),an(18)}}else C.za=oe[1],0<C.za-C.T&&37500>oe[2]&&C.F&&C.v==0&&!C.C&&(C.C=_r(v(C.Za,C),6e3));if(1>=wa(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Li(C,11)}else if((p.K||C.g==p)&&kl(C),!j(E))for(oe=C.Da.g.parse(E),E=0;E<oe.length;E++){let Tt=oe[E];if(C.T=Tt[0],Tt=Tt[1],C.G==2)if(Tt[0]=="c"){C.K=Tt[1],C.ia=Tt[2];const Ln=Tt[3];Ln!=null&&(C.la=Ln,C.j.info("VER="+C.la));const En=Tt[4];En!=null&&(C.Aa=En,C.j.info("SVER="+C.Aa));const hs=Tt[5];hs!=null&&typeof hs=="number"&&0<hs&&(U=1.5*hs,C.L=U,C.j.info("backChannelRequestTimeoutMs_="+U)),U=C;const qr=p.g;if(qr){const Io=qr.g?qr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Io){var ve=U.h;ve.g||Io.indexOf("spdy")==-1&&Io.indexOf("quic")==-1&&Io.indexOf("h2")==-1||(ve.j=ve.l,ve.g=new Set,ve.h&&(nu(ve,ve.h),ve.h=null))}if(U.D){const jl=qr.g?qr.g.getResponseHeader("X-HTTP-Session-Id"):null;jl&&(U.ya=jl,Ht(U.I,U.D,jl))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-p.F,C.j.info("Handshake RTT: "+C.R+"ms")),U=C;var $e=p;if(U.qa=wd(U,U.J?U.ia:null,U.W),$e.K){cd(U.h,$e);var jt=$e,kn=U.L;kn&&(jt.I=kn),jt.B&&(Pt(jt),Oe(jt)),U.g=$e}else Co(U);0<C.i.length&&oi(C)}else Tt[0]!="stop"&&Tt[0]!="close"||Li(C,7);else C.G==3&&(Tt[0]=="stop"||Tt[0]=="close"?Tt[0]=="stop"?Li(C,7):qn(C):Tt[0]!="noop"&&C.l&&C.l.ta(Tt),C.v=0)}}Is(4)}catch{}}var ri=class{constructor(p,E){this.g=p,this.map=E}};function Wr(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vn(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function wa(p){return p.h?1:p.g?p.g.size:0}function Xt(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function nu(p,E){p.g?p.g.add(E):p.h=E}function cd(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}Wr.prototype.cancel=function(){if(this.i=ud(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function ud(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const C of p.g.values())E=E.concat(C.D);return E}return w(p.i)}function El(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(h(p)){for(var E=[],C=p.length,U=0;U<C;U++)E.push(p[U]);return E}E=[],C=0;for(U in p)E[C++]=p[U];return E}function Tl(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(h(p)||typeof p=="string"){var E=[];p=p.length;for(var C=0;C<p;C++)E.push(C);return E}E=[],C=0;for(const U in p)E[C++]=U;return E}}}function Ea(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(h(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var C=Tl(p),U=El(p),oe=U.length,ve=0;ve<oe;ve++)E.call(void 0,U[ve],C&&C[ve],p)}var So=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nm(p,E){if(p){p=p.split("&");for(var C=0;C<p.length;C++){var U=p[C].indexOf("="),oe=null;if(0<=U){var ve=p[C].substring(0,U);oe=p[C].substring(U+1)}else ve=p[C];E(ve,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function ji(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof ji){this.h=p.h,bo(this,p.j),this.o=p.o,this.g=p.g,Ta(this,p.s),this.l=p.l;var E=p.i,C=new si;C.i=E.i,E.g&&(C.g=new Map(E.g),C.h=E.h),Sa(this,C),this.m=p.m}else p&&(E=String(p).match(So))?(this.h=!1,bo(this,E[1]||"",!0),this.o=wt(E[2]||""),this.g=wt(E[3]||"",!0),Ta(this,E[4]),this.l=wt(E[5]||"",!0),Sa(this,E[6]||"",!0),this.m=wt(E[7]||"")):(this.h=!1,this.i=new si(null,this.h))}ji.prototype.toString=function(){var p=[],E=this.j;E&&p.push(Na(E,Sl,!0),":");var C=this.g;return(C||E=="file")&&(p.push("//"),(E=this.o)&&p.push(Na(E,Sl,!0),"@"),p.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&p.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&p.push("/"),p.push(Na(C,C.charAt(0)=="/"?fd:dd,!0))),(C=this.i.toString())&&p.push("?",C),(C=this.m)&&p.push("#",Na(C,ru)),p.join("")};function Gr(p){return new ji(p)}function bo(p,E,C){p.j=C?wt(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function Ta(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function Sa(p,E,C){E instanceof si?(p.i=E,ii(p.i,p.h)):(C||(E=Na(E,md)),p.i=new si(E,p.h))}function Ht(p,E,C){p.i.set(E,C)}function ba(p){return Ht(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function wt(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Na(p,E,C){return typeof p=="string"?(p=encodeURI(p).replace(E,hd),C&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function hd(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Sl=/[#\/\?@]/g,dd=/[#\?:]/g,fd=/[#\?]/g,md=/[#\?@]/g,ru=/#/g;function si(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function Kn(p){p.g||(p.g=new Map,p.h=0,p.i&&Nm(p.i,function(E,C){p.add(decodeURIComponent(E.replace(/\+/g," ")),C)}))}t=si.prototype,t.add=function(p,E){Kn(this),this.i=null,p=us(this,p);var C=this.g.get(p);return C||this.g.set(p,C=[]),C.push(E),this.h+=1,this};function ks(p,E){Kn(p),E=us(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function Rs(p,E){return Kn(p),E=us(p,E),p.g.has(E)}t.forEach=function(p,E){Kn(this),this.g.forEach(function(C,U){C.forEach(function(oe){p.call(E,oe,U,this)},this)},this)},t.na=function(){Kn(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),C=[];for(let U=0;U<E.length;U++){const oe=p[U];for(let ve=0;ve<oe.length;ve++)C.push(E[U])}return C},t.V=function(p){Kn(this);let E=[];if(typeof p=="string")Rs(this,p)&&(E=E.concat(this.g.get(us(this,p))));else{p=Array.from(this.g.values());for(let C=0;C<p.length;C++)E=E.concat(p[C])}return E},t.set=function(p,E){return Kn(this),this.i=null,p=us(this,p),Rs(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},t.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function Aa(p,E,C){ks(p,E),0<C.length&&(p.i=null,p.g.set(us(p,E),w(C)),p.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var C=0;C<E.length;C++){var U=E[C];const ve=encodeURIComponent(String(U)),$e=this.V(U);for(U=0;U<$e.length;U++){var oe=ve;$e[U]!==""&&(oe+="="+encodeURIComponent(String($e[U]))),p.push(oe)}}return this.i=p.join("&")};function us(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function ii(p,E){E&&!p.j&&(Kn(p),p.i=null,p.g.forEach(function(C,U){var oe=U.toLowerCase();U!=oe&&(ks(this,U),Aa(this,oe,C))},p)),p.j=E}function Am(p,E){const C=new Ri;if(u.Image){const U=new Image;U.onload=_(kr,C,"TestLoadImage: loaded",!0,E,U),U.onerror=_(kr,C,"TestLoadImage: error",!1,E,U),U.onabort=_(kr,C,"TestLoadImage: abort",!1,E,U),U.ontimeout=_(kr,C,"TestLoadImage: timeout",!1,E,U),u.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=p}else E(!1)}function pd(p,E){const C=new Ri,U=new AbortController,oe=setTimeout(()=>{U.abort(),kr(C,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:U.signal}).then(ve=>{clearTimeout(oe),ve.ok?kr(C,"TestPingServer: ok",!0,E):kr(C,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(oe),kr(C,"TestPingServer: error",!1,E)})}function kr(p,E,C,U,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),U(C)}catch{}}function Cm(){this.g=new _o}function gd(p,E,C){const U=C||"";try{Ea(p,function(oe,ve){let $e=oe;f(oe)&&($e=va(oe)),E.push(U+ve+"="+encodeURIComponent($e))})}catch(oe){throw E.push(U+"type="+encodeURIComponent("_badmap")),oe}}function Oi(p){this.l=p.Ub||null,this.j=p.eb||!1}A(Oi,ni),Oi.prototype.g=function(){return new No(this.l,this.j)},Oi.prototype.i=function(p){return function(){return p}}({});function No(p,E){qt.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(No,qt),t=No.prototype,t.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,js(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||u).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ds(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,js(this)),this.g&&(this.readyState=3,js(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xd(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function xd(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?Ds(this):js(this),this.readyState==3&&xd(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,Ds(this))},t.Qa=function(p){this.g&&(this.response=p,Ds(this))},t.ga=function(){this.g&&Ds(this)};function Ds(p){p.readyState=4,p.l=null,p.j=null,p.v=null,js(p)}t.setRequestHeader=function(p,E){this.u.append(p,E)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var C=E.next();!C.done;)C=C.value,p.push(C[0]+": "+C[1]),C=E.next();return p.join(`\r
`)};function js(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(No.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Fi(p){let E="";return re(p,function(C,U){E+=U,E+=":",E+=C,E+=`\r
`}),E}function Ca(p,E,C){e:{for(U in C){var U=!1;break e}U=!0}U||(C=Fi(C),typeof p=="string"?C!=null&&encodeURIComponent(String(C)):Ht(p,E,C))}function en(p){qt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(en,qt);var Im=/^https?$/i,su=["POST","PUT"];t=en.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,E,C,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():q.g(),this.v=this.o?Ii(this.o):Ii(q),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(ve){Ao(this,ve);return}if(p=C||"",C=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var oe in U)C.set(oe,U[oe]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ve of U.keys())C.set(ve,U.get(ve));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(C.keys()).find(ve=>ve.toLowerCase()=="content-type"),oe=u.FormData&&p instanceof u.FormData,!(0<=Array.prototype.indexOf.call(su,E,void 0))||U||oe||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ve,$e]of C)this.g.setRequestHeader(ve,$e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Nl(this),this.u=!0,this.g.send(p),this.u=!1}catch(ve){Ao(this,ve)}};function Ao(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,bl(p),Kr(p)}function bl(p){p.A||(p.A=!0,sn(p,"complete"),sn(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,sn(this,"complete"),sn(this,"abort"),Kr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kr(this,!0)),en.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?iu(this):this.bb())},t.bb=function(){iu(this)};function iu(p){if(p.h&&typeof o<"u"&&(!p.v[1]||Rr(p)!=4||p.Z()!=2)){if(p.u&&Rr(p)==4)vo(p.Ea,0,p);else if(sn(p,"readystatechange"),Rr(p)==4){p.h=!1;try{const $e=p.Z();e:switch($e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var C;if(!(C=E)){var U;if(U=$e===0){var oe=String(p.D).match(So)[1]||null;!oe&&u.self&&u.self.location&&(oe=u.self.location.protocol.slice(0,-1)),U=!Im.test(oe?oe.toLowerCase():"")}C=U}if(C)sn(p,"complete"),sn(p,"success");else{p.m=6;try{var ve=2<Rr(p)?p.g.statusText:""}catch{ve=""}p.l=ve+" ["+p.Z()+"]",bl(p)}}finally{Kr(p)}}}}function Kr(p,E){if(p.g){Nl(p);const C=p.g,U=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||sn(p,"ready");try{C.onreadystatechange=U}catch{}}}function Nl(p){p.I&&(u.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function Rr(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<Rr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),yo(E)}};function au(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Al(p){const E={};p=(p.g&&2<=Rr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<p.length;U++){if(j(p[U]))continue;var C=I(p[U]);const oe=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ve=E[oe]||[];E[oe]=ve,ve.push(C)}P(E,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ai(p,E,C){return C&&C.internalChannelParams&&C.internalChannelParams[p]||E}function ou(p){this.Aa=0,this.i=[],this.j=new Ri,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ai("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ai("baseRetryDelayMs",5e3,p),this.cb=ai("retryDelaySeedMs",1e4,p),this.Wa=ai("forwardChannelMaxRetries",2,p),this.wa=ai("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Wr(p&&p.concurrentRequestLimit),this.Da=new Cm,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ou.prototype,t.la=8,t.G=1,t.connect=function(p,E,C,U){an(0),this.W=p,this.H=E||{},C&&U!==void 0&&(this.H.OSID=C,this.H.OAID=U),this.F=this.X,this.I=wd(this,null,this.W),oi(this)};function qn(p){if(Cl(p),p.G==3){var E=p.U++,C=Gr(p.I);if(Ht(C,"SID",p.K),Ht(C,"RID",E),Ht(C,"TYPE","terminate"),Mi(p,C),E=new ye(p,p.j,E),E.L=2,E.v=ba(Gr(C)),C=!1,u.navigator&&u.navigator.sendBeacon)try{C=u.navigator.sendBeacon(E.v.toString(),"")}catch{}!C&&u.Image&&(new Image().src=E.v,C=!0),C||(E.g=Ed(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Oe(E)}_d(p)}function Os(p){p.g&&(lu(p),p.g.cancel(),p.g=null)}function Cl(p){Os(p),p.u&&(u.clearTimeout(p.u),p.u=null),kl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&u.clearTimeout(p.s),p.s=null)}function oi(p){if(!vn(p.h)&&!p.s){p.s=!0;var E=p.Ga;Re||Ee(),ae||(Re(),ae=!0),_e.add(E,p),p.B=0}}function Pm(p,E){return wa(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=_r(v(p.Ga,p,E),yd(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const oe=new ye(this,this.j,p);let ve=this.o;if(this.S&&(ve?(ve=T(ve),R(ve,this.S)):ve=this.S),this.m!==null||this.O||(oe.H=ve,ve=null),this.P)e:{for(var E=0,C=0;C<this.i.length;C++){t:{var U=this.i[C];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(E+=U,4096<E){E=C;break e}if(E===4096||C===this.i.length-1){E=C+1;break e}}E=1e3}else E=1e3;E=Ia(this,oe,E),C=Gr(this.I),Ht(C,"RID",p),Ht(C,"CVER",22),this.D&&Ht(C,"X-HTTP-Session-Id",this.D),Mi(this,C),ve&&(this.O?E="headers="+encodeURIComponent(String(Fi(ve)))+"&"+E:this.m&&Ca(C,this.m,ve)),nu(this.h,oe),this.Ua&&Ht(C,"TYPE","init"),this.P?(Ht(C,"$req",E),Ht(C,"SID","null"),oe.T=!0,De(oe,C,null)):De(oe,C,E),this.G=2}}else this.G==3&&(p?Il(this,p):this.i.length==0||vn(this.h)||Il(this))};function Il(p,E){var C;E?C=E.l:C=p.U++;const U=Gr(p.I);Ht(U,"SID",p.K),Ht(U,"RID",C),Ht(U,"AID",p.T),Mi(p,U),p.m&&p.o&&Ca(U,p.m,p.o),C=new ye(p,p.j,C,p.B+1),p.m===null&&(C.H=p.o),E&&(p.i=E.D.concat(p.i)),E=Ia(p,C,1e3),C.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),nu(p.h,C),De(C,U,E)}function Mi(p,E){p.H&&re(p.H,function(C,U){Ht(E,U,C)}),p.l&&Ea({},function(C,U){Ht(E,U,C)})}function Ia(p,E,C){C=Math.min(p.i.length,C);var U=p.l?v(p.l.Na,p.l,p):null;e:{var oe=p.i;let ve=-1;for(;;){const $e=["count="+C];ve==-1?0<C?(ve=oe[0].g,$e.push("ofs="+ve)):ve=0:$e.push("ofs="+ve);let jt=!0;for(let kn=0;kn<C;kn++){let Tt=oe[kn].g;const Ln=oe[kn].map;if(Tt-=ve,0>Tt)ve=Math.max(0,oe[kn].g-100),jt=!1;else try{gd(Ln,$e,"req"+Tt+"_")}catch{U&&U(Ln)}}if(jt){U=$e.join("&");break e}}}return p=p.i.splice(0,C),E.D=p,U}function Co(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;Re||Ee(),ae||(Re(),ae=!0),_e.add(E,p),p.v=0}}function Pl(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=_r(v(p.Fa,p),yd(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,vd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=_r(v(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,an(10),Os(this),vd(this))};function lu(p){p.A!=null&&(u.clearTimeout(p.A),p.A=null)}function vd(p){p.g=new ye(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=Gr(p.qa);Ht(E,"RID","rpc"),Ht(E,"SID",p.K),Ht(E,"AID",p.T),Ht(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&Ht(E,"TO",p.ja),Ht(E,"TYPE","xmlhttp"),Mi(p,E),p.m&&p.o&&Ca(E,p.m,p.o),p.L&&(p.g.I=p.L);var C=p.g;p=p.ia,C.L=1,C.v=ba(Gr(E)),C.m=null,C.P=!0,ze(C,p)}t.Za=function(){this.C!=null&&(this.C=null,Os(this),Pl(this),an(19))};function kl(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function Rl(p,E){var C=null;if(p.g==E){kl(p),lu(p),p.g=null;var U=2}else if(Xt(p.h,E))C=E.D,cd(p.h,E),U=1;else return;if(p.G!=0){if(E.o)if(U==1){C=E.m?E.m.length:0,E=Date.now()-E.F;var oe=p.B;U=ki(),sn(U,new ya(U,C)),oi(p)}else Co(p);else if(oe=E.s,oe==3||oe==0&&0<E.X||!(U==1&&Pm(p,E)||U==2&&Pl(p)))switch(C&&0<C.length&&(E=p.h,E.i=E.i.concat(C)),oe){case 1:Li(p,5);break;case 4:Li(p,10);break;case 3:Li(p,6);break;default:Li(p,2)}}}function yd(p,E){let C=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(C*=2),C*E}function Li(p,E){if(p.j.info("Error code "+E),E==2){var C=v(p.fb,p),U=p.Xa;const oe=!U;U=new ji(U||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||bo(U,"https"),ba(U),oe?Am(U.toString(),C):pd(U.toString(),C)}else an(2);p.G=0,p.l&&p.l.sa(E),_d(p),Cl(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),an(2)):(this.j.info("Failed to ping google.com"),an(1))};function _d(p){if(p.G=0,p.ka=[],p.l){const E=ud(p.h);(E.length!=0||p.i.length!=0)&&(N(p.ka,E),N(p.ka,p.i),p.h.i.length=0,w(p.i),p.i.length=0),p.l.ra()}}function wd(p,E,C){var U=C instanceof ji?Gr(C):new ji(C);if(U.g!="")E&&(U.g=E+"."+U.g),Ta(U,U.s);else{var oe=u.location;U=oe.protocol,E=E?E+"."+oe.hostname:oe.hostname,oe=+oe.port;var ve=new ji(null);U&&bo(ve,U),E&&(ve.g=E),oe&&Ta(ve,oe),C&&(ve.l=C),U=ve}return C=p.D,E=p.ya,C&&E&&Ht(U,C,E),Ht(U,"VER",p.la),Mi(p,U),U}function Ed(p,E,C){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new en(new Oi({eb:C})):new en(p.pa),E.Ha(p.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cu(){}t=cu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Dl(){}Dl.prototype.g=function(p,E){return new wr(p,E)};function wr(p,E){qt.call(this),this.g=new ou(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!j(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!j(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new li(this)}A(wr,qt),wr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wr.prototype.close=function(){qn(this.g)},wr.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var C={};C.__data__=p,p=C}else this.u&&(C={},C.__data__=va(p),p=C);E.i.push(new ri(E.Ya++,p)),E.G==3&&oi(E)},wr.prototype.N=function(){this.g.l=null,delete this.j,qn(this.g),delete this.g,wr.aa.N.call(this)};function Td(p){ls.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const C in E){p=C;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}A(Td,ls);function Sd(){Cs.call(this),this.status=1}A(Sd,Cs);function li(p){this.g=p}A(li,cu),li.prototype.ua=function(){sn(this.g,"a")},li.prototype.ta=function(p){sn(this.g,new Td(p))},li.prototype.sa=function(p){sn(this.g,new Sd)},li.prototype.ra=function(){sn(this.g,"b")},Dl.prototype.createWebChannel=Dl.prototype.g,wr.prototype.send=wr.prototype.o,wr.prototype.open=wr.prototype.m,wr.prototype.close=wr.prototype.close,JN=function(){return new Dl},QN=function(){return ki()},YN=cs,yx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},H.NO_ERROR=0,H.TIMEOUT=8,H.HTTP_ERROR=6,Kf=H,K.COMPLETE="complete",XN=K,Pi.EventType=Pr,Pr.OPEN="a",Pr.CLOSE="b",Pr.ERROR="c",Pr.MESSAGE="d",qt.prototype.listen=qt.prototype.K,zu=Pi,en.prototype.listenOnce=en.prototype.L,en.prototype.getLastError=en.prototype.Ka,en.prototype.getLastErrorCode=en.prototype.Ba,en.prototype.getStatus=en.prototype.Z,en.prototype.getResponseJson=en.prototype.Oa,en.prototype.getResponseText=en.prototype.oa,en.prototype.send=en.prototype.ea,en.prototype.setWithCredentials=en.prototype.Ha,qN=en}).apply(typeof Tf<"u"?Tf:typeof self<"u"?self:typeof window<"u"?window:{});const gE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fr.UNAUTHENTICATED=new fr(null),fr.GOOGLE_CREDENTIALS=new fr("google-credentials-uid"),fr.FIRST_PARTY=new fr("first-party-uid"),fr.MOCK_USER=new fr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=new C1("@firebase/firestore");function Ou(){return ol.logLevel}function et(t,...e){if(ol.logLevel<=Et.DEBUG){const n=e.map(z1);ol.debug(`Firestore (${Kc}): ${t}`,...n)}}function la(t,...e){if(ol.logLevel<=Et.ERROR){const n=e.map(z1);ol.error(`Firestore (${Kc}): ${t}`,...n)}}function Dc(t,...e){if(ol.logLevel<=Et.WARN){const n=e.map(z1);ol.warn(`Firestore (${Kc}): ${t}`,...n)}}function z1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t="Unexpected state"){const e=`FIRESTORE (${Kc}) INTERNAL ASSERTION FAILED: `+t;throw la(e),new Error(e)}function Vt(t,e){t||mt()}function gt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ye extends Ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ML{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(fr.UNAUTHENTICATED))}shutdown(){}}class LL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class VL{constructor(e){this.t=e,this.currentUser=fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Vt(this.o===void 0);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let i=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Zi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const h=i;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},u=h=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Zi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Vt(typeof r.accessToken=="string"),new ZN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Vt(e===null||typeof e=="string"),new fr(e)}}class UL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=fr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class BL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new UL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Vt(this.o===void 0);const r=i=>{i.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,et("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Vt(typeof n.token=="string"),this.R=n.token,new zL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=$L(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function It(t,e){return t<e?-1:t>e?1:0}function jc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ye(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ye(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ye(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ye(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pt(e)}static min(){return new pt(new Mt(0,0))}static max(){return new pt(new Mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,r){n===void 0?n=0:n>e.length&&mt(),r===void 0?r=e.length-n:r>e.length-n&&mt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Th.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Th?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Jt extends Th{construct(e,n,r){return new Jt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ye(be.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Jt(n)}static emptyPath(){return new Jt([])}}const WL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends Th{construct(e,n,r){return new tr(e,n,r)}static isValidIdentifier(e){return WL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tr(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Ye(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new Ye(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ye(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else u==="`"?(o=!o,s++):u!=="."||o?(r+=u,s++):(i(),s++)}if(i(),o)throw new Ye(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tr(n)}static emptyPath(){return new tr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.path=e}static fromPath(e){return new rt(Jt.fromString(e))}static fromName(e){return new rt(Jt.fromString(e).popFirst(5))}static empty(){return new rt(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Jt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new Jt(e.slice()))}}function GL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=pt.fromTimestamp(r===1e9?new Mt(n+1,0):new Mt(n,r));return new lo(s,rt.empty(),e)}function KL(t){return new lo(t.readTime,t.key,-1)}class lo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new lo(pt.min(),rt.empty(),-1)}static max(){return new lo(pt.max(),rt.empty(),-1)}}function qL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=rt.comparator(t.documentKey,e.documentKey),n!==0?n:It(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(t){if(t.code!==be.FAILED_PRECONDITION||t.message!==XL)throw t;et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new je((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof je?n:je.resolve(n)}catch(n){return je.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):je.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):je.reject(n)}static resolve(e){return new je((n,r)=>{n(e)})}static reject(e){return new je((n,r)=>{r(e)})}static waitFor(e){return new je((n,r)=>{let s=0,i=0,o=!1;e.forEach(u=>{++s,u.next(()=>{++i,o&&i===s&&n()},h=>r(h))}),o=!0,i===s&&n()})}static or(e){let n=je.resolve(!1);for(const r of e)n=n.next(s=>s?je.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new je((r,s)=>{const i=e.length,o=new Array(i);let u=0;for(let h=0;h<i;h++){const f=h;n(e[f]).next(m=>{o[f]=m,++u,u===i&&r(o)},m=>s(m))}})}static doWhile(e,n){return new je((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function QL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}H1.oe=-1;function tm(t){return t==null}function g0(t){return t===0&&1/t==-1/0}function JL(t){return typeof t=="number"&&Number.isInteger(t)&&!g0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n){this.comparator=e,this.root=n||er.EMPTY}insert(e,n){return new hn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,er.BLACK,null,null))}remove(e){return new hn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,er.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sf(this.root,e,this.comparator,!0)}}class Sf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class er{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??er.RED,this.left=s??er.EMPTY,this.right=i??er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new er(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return er.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)}}er.EMPTY=null,er.RED=!0,er.BLACK=!1;er.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(e,n,r,s,i){return this}insert(e,n,r){return new er(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.comparator=e,this.data=new hn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vE(this.data.getIterator())}getIteratorFrom(e){return new vE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof sr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new sr(this.comparator);return n.data=e,n}}class vE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.fields=e,e.sort(tr.comparator)}static empty(){return new rs([])}unionWith(e){let n=new sr(tr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new nA("Invalid base64 string: "+i):i}}(e);return new ar(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new ar(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ar.EMPTY_BYTE_STRING=new ar("");const ZL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function co(t){if(Vt(!!t),typeof t=="string"){let e=0;const n=ZL.exec(t);if(Vt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wn(t.seconds),nanos:wn(t.nanos)}}function wn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ll(t){return typeof t=="string"?ar.fromBase64String(t):ar.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function W1(t){const e=t.mapValue.fields.__previous_value__;return $1(e)?W1(e):e}function Sh(t){const e=co(t.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e,n,r,s,i,o,u,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f}}class bh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new bh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof bh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf={mapValue:{}};function cl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$1(t)?4:n8(t)?9007199254740991:t8(t)?10:11:mt()}function bi(t,e){if(t===e)return!0;const n=cl(t);if(n!==cl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sh(t).isEqual(Sh(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=co(s.timestampValue),u=co(i.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ll(s.bytesValue).isEqual(ll(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return wn(s.geoPointValue.latitude)===wn(i.geoPointValue.latitude)&&wn(s.geoPointValue.longitude)===wn(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return wn(s.integerValue)===wn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=wn(s.doubleValue),u=wn(i.doubleValue);return o===u?g0(o)===g0(u):isNaN(o)&&isNaN(u)}return!1}(t,e);case 9:return jc(t.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},u=i.mapValue.fields||{};if(xE(o)!==xE(u))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(u[h]===void 0||!bi(o[h],u[h])))return!1;return!0}(t,e);default:return mt()}}function Nh(t,e){return(t.values||[]).find(n=>bi(n,e))!==void 0}function Oc(t,e){if(t===e)return 0;const n=cl(t),r=cl(e);if(n!==r)return It(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return It(t.booleanValue,e.booleanValue);case 2:return function(i,o){const u=wn(i.integerValue||i.doubleValue),h=wn(o.integerValue||o.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(t,e);case 3:return yE(t.timestampValue,e.timestampValue);case 4:return yE(Sh(t),Sh(e));case 5:return It(t.stringValue,e.stringValue);case 6:return function(i,o){const u=ll(i),h=ll(o);return u.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const u=i.split("/"),h=o.split("/");for(let f=0;f<u.length&&f<h.length;f++){const m=It(u[f],h[f]);if(m!==0)return m}return It(u.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const u=It(wn(i.latitude),wn(o.latitude));return u!==0?u:It(wn(i.longitude),wn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return _E(t.arrayValue,e.arrayValue);case 10:return function(i,o){var u,h,f,m;const x=i.fields||{},v=o.fields||{},_=(u=x.value)===null||u===void 0?void 0:u.arrayValue,A=(h=v.value)===null||h===void 0?void 0:h.arrayValue,w=It(((f=_?.values)===null||f===void 0?void 0:f.length)||0,((m=A?.values)===null||m===void 0?void 0:m.length)||0);return w!==0?w:_E(_,A)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===bf.mapValue&&o===bf.mapValue)return 0;if(i===bf.mapValue)return 1;if(o===bf.mapValue)return-1;const u=i.fields||{},h=Object.keys(u),f=o.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let x=0;x<h.length&&x<m.length;++x){const v=It(h[x],m[x]);if(v!==0)return v;const _=Oc(u[h[x]],f[m[x]]);if(_!==0)return _}return It(h.length,m.length)}(t.mapValue,e.mapValue);default:throw mt()}}function yE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return It(t,e);const n=co(t),r=co(e),s=It(n.seconds,r.seconds);return s!==0?s:It(n.nanos,r.nanos)}function _E(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Oc(n[s],r[s]);if(i)return i}return It(n.length,r.length)}function Fc(t){return _x(t)}function _x(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=co(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ll(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return rt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=_x(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${_x(n.fields[o])}`;return s+"}"}(t.mapValue):mt()}function wE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wx(t){return!!t&&"integerValue"in t}function G1(t){return!!t&&"arrayValue"in t}function EE(t){return!!t&&"nullValue"in t}function TE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qf(t){return!!t&&"mapValue"in t}function t8(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function eh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return pl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=eh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=eh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function n8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.value=e}static empty(){return new Vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=eh(n)}setAll(e){let n=tr.emptyPath(),r={},s=[];e.forEach((o,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=u.popLast()}o?r[u.lastSegment()]=eh(o):s.push(u.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());qf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];qf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){pl(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Vr(eh(this.value))}}function rA(t){const e=[];return pl(t.fields,(n,r)=>{const s=new tr([n]);if(qf(r)){const i=rA(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new rs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n,r,s,i,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=u}static newInvalidDocument(e){return new mr(e,0,pt.min(),pt.min(),pt.min(),Vr.empty(),0)}static newFoundDocument(e,n,r,s){return new mr(e,1,n,pt.min(),r,s,0)}static newNoDocument(e,n){return new mr(e,2,n,pt.min(),pt.min(),Vr.empty(),0)}static newUnknownDocument(e,n){return new mr(e,3,n,pt.min(),pt.min(),Vr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n){this.position=e,this.inclusive=n}}function SE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=rt.comparator(rt.fromName(o.referenceValue),n.key):r=Oc(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function bE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n="asc"){this.field=e,this.dir=n}}function r8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{}class An extends sA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new i8(e,n,r):n==="array-contains"?new l8(e,r):n==="in"?new c8(e,r):n==="not-in"?new u8(e,r):n==="array-contains-any"?new h8(e,r):new An(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new a8(e,r):new o8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Oc(n,this.value)):n!==null&&cl(this.value)===cl(n)&&this.matchesComparison(Oc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Js extends sA{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Js(e,n)}matches(e){return iA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function iA(t){return t.op==="and"}function aA(t){return s8(t)&&iA(t)}function s8(t){for(const e of t.filters)if(e instanceof Js)return!1;return!0}function Ex(t){if(t instanceof An)return t.field.canonicalString()+t.op.toString()+Fc(t.value);if(aA(t))return t.filters.map(e=>Ex(e)).join(",");{const e=t.filters.map(n=>Ex(n)).join(",");return`${t.op}(${e})`}}function oA(t,e){return t instanceof An?function(r,s){return s instanceof An&&r.op===s.op&&r.field.isEqual(s.field)&&bi(r.value,s.value)}(t,e):t instanceof Js?function(r,s){return s instanceof Js&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,u)=>i&&oA(o,s.filters[u]),!0):!1}(t,e):void mt()}function lA(t){return t instanceof An?function(n){return`${n.field.canonicalString()} ${n.op} ${Fc(n.value)}`}(t):t instanceof Js?function(n){return n.op.toString()+" {"+n.getFilters().map(lA).join(" ,")+"}"}(t):"Filter"}class i8 extends An{constructor(e,n,r){super(e,n,r),this.key=rt.fromName(r.referenceValue)}matches(e){const n=rt.comparator(e.key,this.key);return this.matchesComparison(n)}}class a8 extends An{constructor(e,n){super(e,"in",n),this.keys=cA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class o8 extends An{constructor(e,n){super(e,"not-in",n),this.keys=cA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>rt.fromName(r.referenceValue))}class l8 extends An{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return G1(n)&&Nh(n.arrayValue,this.value)}}class c8 extends An{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nh(this.value.arrayValue,n)}}class u8 extends An{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Nh(this.value.arrayValue,n)}}class h8 extends An{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!G1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Nh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e,n=null,r=[],s=[],i=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=u,this.ue=null}}function NE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new d8(t,e,n,r,s,i,o)}function K1(t){const e=gt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ex(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),tm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fc(r)).join(",")),e.ue=n}return e.ue}function q1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!r8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bE(t.startAt,e.startAt)&&bE(t.endAt,e.endAt)}function Tx(t){return rt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n=null,r=[],s=[],i=null,o="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=u,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function f8(t,e,n,r,s,i,o,u){return new Qh(t,e,n,r,s,i,o,u)}function X1(t){return new Qh(t)}function AE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uA(t){return t.collectionGroup!==null}function th(t){const e=gt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new sr(tr.comparator);return o.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new v0(i,r))}),n.has(tr.keyField().canonicalString())||e.ce.push(new v0(tr.keyField(),r))}return e.ce}function Ti(t){const e=gt(t);return e.le||(e.le=m8(e,th(t))),e.le}function m8(t,e){if(t.limitType==="F")return NE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new v0(s.field,i)});const n=t.endAt?new x0(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new x0(t.startAt.position,t.startAt.inclusive):null;return NE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Sx(t,e){const n=t.filters.concat([e]);return new Qh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function bx(t,e,n){return new Qh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nm(t,e){return q1(Ti(t),Ti(e))&&t.limitType===e.limitType}function hA(t){return`${K1(Ti(t))}|lt:${t.limitType}`}function sc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>lA(s)).join(", ")}]`),tm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Fc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Fc(s)).join(",")),`Target(${r})`}(Ti(t))}; limitType=${t.limitType})`}function rm(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):rt.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of th(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,u,h){const f=SE(o,u,h);return o.inclusive?f<=0:f<0}(r.startAt,th(r),s)||r.endAt&&!function(o,u,h){const f=SE(o,u,h);return o.inclusive?f>=0:f>0}(r.endAt,th(r),s))}(t,e)}function p8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dA(t){return(e,n)=>{let r=!1;for(const s of th(t)){const i=g8(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function g8(t,e,n){const r=t.field.isKeyField()?rt.comparator(e.key,n.key):function(i,o,u){const h=o.data.field(i),f=u.data.field(i);return h!==null&&f!==null?Oc(h,f):mt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return mt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){pl(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return tA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8=new hn(rt.comparator);function ca(){return x8}const fA=new hn(rt.comparator);function Hu(...t){let e=fA;for(const n of t)e=e.insert(n.key,n);return e}function mA(t){let e=fA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xo(){return nh()}function pA(){return nh()}function nh(){return new qc(t=>t.toString(),(t,e)=>t.isEqual(e))}const v8=new hn(rt.comparator),y8=new sr(rt.comparator);function _t(...t){let e=y8;for(const n of t)e=e.add(n);return e}const _8=new sr(It);function w8(){return _8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:g0(e)?"-0":e}}function gA(t){return{integerValue:""+t}}function E8(t,e){return JL(e)?gA(e):Y1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this._=void 0}}function T8(t,e,n){return t instanceof Ah?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&$1(i)&&(i=W1(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Ch?vA(t,e):t instanceof Ih?yA(t,e):function(s,i){const o=xA(s,i),u=CE(o)+CE(s.Pe);return wx(o)&&wx(s.Pe)?gA(u):Y1(s.serializer,u)}(t,e)}function S8(t,e,n){return t instanceof Ch?vA(t,e):t instanceof Ih?yA(t,e):n}function xA(t,e){return t instanceof y0?function(r){return wx(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Ah extends sm{}class Ch extends sm{constructor(e){super(),this.elements=e}}function vA(t,e){const n=_A(e);for(const r of t.elements)n.some(s=>bi(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ih extends sm{constructor(e){super(),this.elements=e}}function yA(t,e){let n=_A(e);for(const r of t.elements)n=n.filter(s=>!bi(s,r));return{arrayValue:{values:n}}}class y0 extends sm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function CE(t){return wn(t.integerValue||t.doubleValue)}function _A(t){return G1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e,n){this.field=e,this.transform=n}}function N8(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ch&&s instanceof Ch||r instanceof Ih&&s instanceof Ih?jc(r.elements,s.elements,bi):r instanceof y0&&s instanceof y0?bi(r.Pe,s.Pe):r instanceof Ah&&s instanceof Ah}(t.transform,e.transform)}class A8{constructor(e,n){this.version=e,this.transformResults=n}}class Ys{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ys}static exists(e){return new Ys(void 0,e)}static updateTime(e){return new Ys(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class im{}function wA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Q1(t.key,Ys.none()):new Jh(t.key,t.data,Ys.none());{const n=t.data,r=Vr.empty();let s=new sr(tr.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new go(t.key,r,new rs(s.toArray()),Ys.none())}}function C8(t,e,n){t instanceof Jh?function(s,i,o){const u=s.value.clone(),h=PE(s.fieldTransforms,i,o.transformResults);u.setAll(h),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):t instanceof go?function(s,i,o){if(!Xf(s.precondition,i))return void i.convertToUnknownDocument(o.version);const u=PE(s.fieldTransforms,i,o.transformResults),h=i.data;h.setAll(EA(s)),h.setAll(u),i.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function rh(t,e,n,r){return t instanceof Jh?function(i,o,u,h){if(!Xf(i.precondition,o))return u;const f=i.value.clone(),m=kE(i.fieldTransforms,h,o);return f.setAll(m),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof go?function(i,o,u,h){if(!Xf(i.precondition,o))return u;const f=kE(i.fieldTransforms,h,o),m=o.data;return m.setAll(EA(i)),m.setAll(f),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),u===null?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(x=>x.field))}(t,e,n,r):function(i,o,u){return Xf(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(t,e,n)}function I8(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=xA(r.transform,s||null);i!=null&&(n===null&&(n=Vr.empty()),n.set(r.field,i))}return n||null}function IE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&jc(r,s,(i,o)=>N8(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jh extends im{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class go extends im{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function EA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function PE(t,e,n){const r=new Map;Vt(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,u=e.data.field(i.field);r.set(i.field,S8(o,u,n[s]))}return r}function kE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,T8(i,o,e))}return r}class Q1 extends im{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class P8 extends im{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&C8(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pA();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let u=this.applyToLocalView(o,i.mutatedFields);u=n.has(s.key)?null:u;const h=wA(o,u);h!==null&&r.set(s.key,h),o.isValidDocument()||o.convertToNoDocument(pt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_t())}isEqual(e){return this.batchId===e.batchId&&jc(this.mutations,e.mutations,(n,r)=>IE(n,r))&&jc(this.baseMutations,e.baseMutations,(n,r)=>IE(n,r))}}class J1{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Vt(e.mutations.length===r.length);let s=function(){return v8}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new J1(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bn,St;function j8(t){switch(t){default:return mt();case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0}}function TA(t){if(t===void 0)return la("GRPC error has no .code"),be.UNKNOWN;switch(t){case bn.OK:return be.OK;case bn.CANCELLED:return be.CANCELLED;case bn.UNKNOWN:return be.UNKNOWN;case bn.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case bn.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case bn.INTERNAL:return be.INTERNAL;case bn.UNAVAILABLE:return be.UNAVAILABLE;case bn.UNAUTHENTICATED:return be.UNAUTHENTICATED;case bn.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case bn.NOT_FOUND:return be.NOT_FOUND;case bn.ALREADY_EXISTS:return be.ALREADY_EXISTS;case bn.PERMISSION_DENIED:return be.PERMISSION_DENIED;case bn.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case bn.ABORTED:return be.ABORTED;case bn.OUT_OF_RANGE:return be.OUT_OF_RANGE;case bn.UNIMPLEMENTED:return be.UNIMPLEMENTED;case bn.DATA_LOSS:return be.DATA_LOSS;default:return mt()}}(St=bn||(bn={}))[St.OK=0]="OK",St[St.CANCELLED=1]="CANCELLED",St[St.UNKNOWN=2]="UNKNOWN",St[St.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",St[St.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",St[St.NOT_FOUND=5]="NOT_FOUND",St[St.ALREADY_EXISTS=6]="ALREADY_EXISTS",St[St.PERMISSION_DENIED=7]="PERMISSION_DENIED",St[St.UNAUTHENTICATED=16]="UNAUTHENTICATED",St[St.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",St[St.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",St[St.ABORTED=10]="ABORTED",St[St.OUT_OF_RANGE=11]="OUT_OF_RANGE",St[St.UNIMPLEMENTED=12]="UNIMPLEMENTED",St[St.INTERNAL=13]="INTERNAL",St[St.UNAVAILABLE=14]="UNAVAILABLE",St[St.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8=new tl([4294967295,4294967295],0);function RE(t){const e=O8().encode(t),n=new KN;return n.update(e),new Uint8Array(n.digest())}function DE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new tl([n,r],0),new tl([s,i],0)]}class Z1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $u(`Invalid padding: ${n}`);if(r<0)throw new $u(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $u(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $u(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=tl.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(tl.fromNumber(r)));return s.compare(F8)===1&&(s=new tl([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=RE(e),[r,s]=DE(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Z1(i,s,n);return r.forEach(u=>o.insert(u)),o}insert(e){if(this.Ie===0)return;const n=RE(e),[r,s]=DE(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Zh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new am(pt.min(),s,new hn(It),ca(),_t())}}class Zh{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zh(r,n,_t(),_t(),_t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class SA{constructor(e,n){this.targetId=e,this.me=n}}class bA{constructor(e,n,r=ar.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class jE{constructor(){this.fe=0,this.ge=FE(),this.pe=ar.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_t(),n=_t(),r=_t();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:mt()}}),new Zh(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=FE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Vt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class M8{constructor(e){this.Le=e,this.Be=new Map,this.ke=ca(),this.qe=OE(),this.Qe=new hn(It)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:mt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Tx(i))if(r===0){const o=new rt(i.path);this.Ue(n,o,mr.newNoDocument(o,pt.min()))}else Vt(r===1);else{const o=this.Ye(n);if(o!==r){const u=this.Ze(e),h=u?this.Xe(u,e,o):1;if(h!==0){this.je(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,f)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,u;try{o=ll(r).toUint8Array()}catch(h){if(h instanceof nA)return Dc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Z1(o,s,i)}catch(h){return Dc(h instanceof $u?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.Ie===0?null:u}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),u=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const u=this.Je(o);if(u){if(i.current&&Tx(u.target)){const h=new rt(u.target.path);this.ke.get(h)!==null||this.it(o,h)||this.Ue(o,h,mr.newNoDocument(h,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=_t();this.qe.forEach((i,o)=>{let u=!0;o.forEachWhile(h=>{const f=this.Je(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new am(e,n,this.Qe,this.ke,r);return this.ke=ca(),this.qe=OE(),this.Qe=new hn(It),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new jE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new sr(It),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||et("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new jE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function OE(){return new hn(rt.comparator)}function FE(){return new hn(rt.comparator)}const L8={asc:"ASCENDING",desc:"DESCENDING"},V8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U8={and:"AND",or:"OR"};class B8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Nx(t,e){return t.useProto3Json||tm(e)?e:{value:e}}function _0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function z8(t,e){return _0(t,e.toTimestamp())}function Si(t){return Vt(!!t),pt.fromTimestamp(function(n){const r=co(n);return new Mt(r.seconds,r.nanos)}(t))}function ev(t,e){return Ax(t,e).canonicalString()}function Ax(t,e){const n=function(s){return new Jt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function AA(t){const e=Jt.fromString(t);return Vt(RA(e)),e}function Cx(t,e){return ev(t.databaseId,e.path)}function bg(t,e){const n=AA(e);if(n.get(1)!==t.databaseId.projectId)throw new Ye(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ye(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new rt(IA(n))}function CA(t,e){return ev(t.databaseId,e)}function H8(t){const e=AA(t);return e.length===4?Jt.emptyPath():IA(e)}function Ix(t){return new Jt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IA(t){return Vt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ME(t,e,n){return{name:Cx(t,e),fields:n.value.mapValue.fields}}function $8(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:mt()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(f,m){return f.useProto3Json?(Vt(m===void 0||typeof m=="string"),ar.fromBase64String(m||"")):(Vt(m===void 0||m instanceof Buffer||m instanceof Uint8Array),ar.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(f){const m=f.code===void 0?be.UNKNOWN:TA(f.code);return new Ye(m,f.message||"")}(o);n=new bA(r,s,i,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=bg(t,r.document.name),i=Si(r.document.updateTime),o=r.document.createTime?Si(r.document.createTime):pt.min(),u=new Vr({mapValue:{fields:r.document.fields}}),h=mr.newFoundDocument(s,i,o,u),f=r.targetIds||[],m=r.removedTargetIds||[];n=new Yf(f,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=bg(t,r.document),i=r.readTime?Si(r.readTime):pt.min(),o=mr.newNoDocument(s,i),u=r.removedTargetIds||[];n=new Yf([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=bg(t,r.document),i=r.removedTargetIds||[];n=new Yf([],i,s,null)}else{if(!("filter"in e))return mt();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new D8(s,i),u=r.targetId;n=new SA(u,o)}}return n}function W8(t,e){let n;if(e instanceof Jh)n={update:ME(t,e.key,e.value)};else if(e instanceof Q1)n={delete:Cx(t,e.key)};else if(e instanceof go)n={update:ME(t,e.key,e.data),updateMask:e9(e.fieldMask)};else{if(!(e instanceof P8))return mt();n={verify:Cx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const u=o.transform;if(u instanceof Ah)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ch)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ih)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof y0)return{fieldPath:o.field.canonicalString(),increment:u.Pe};throw mt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:z8(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:mt()}(t,e.precondition)),n}function G8(t,e){return t&&t.length>0?(Vt(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Si(s.updateTime):Si(i);return o.isEqual(pt.min())&&(o=Si(i)),new A8(o,s.transformResults||[])}(n,e))):[]}function K8(t,e){return{documents:[CA(t,e.path)]}}function q8(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=CA(t,s);const i=function(f){if(f.length!==0)return kA(Js.create(f,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(f){if(f.length!==0)return f.map(m=>function(v){return{field:ic(v.field),direction:Q8(v.dir)}}(m))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const u=Nx(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:n,parent:s}}function X8(t){let e=H8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Vt(r===1);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let i=[];n.where&&(i=function(x){const v=PA(x);return v instanceof Js&&aA(v)?v.getFilters():[v]}(n.where));let o=[];n.orderBy&&(o=function(x){return x.map(v=>function(A){return new v0(ac(A.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(v))}(n.orderBy));let u=null;n.limit&&(u=function(x){let v;return v=typeof x=="object"?x.value:x,tm(v)?null:v}(n.limit));let h=null;n.startAt&&(h=function(x){const v=!!x.before,_=x.values||[];return new x0(_,v)}(n.startAt));let f=null;return n.endAt&&(f=function(x){const v=!x.before,_=x.values||[];return new x0(_,v)}(n.endAt)),f8(e,s,o,i,u,"F",h,f)}function Y8(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ac(n.unaryFilter.field);return An.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ac(n.unaryFilter.field);return An.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ac(n.unaryFilter.field);return An.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ac(n.unaryFilter.field);return An.create(o,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(t):t.fieldFilter!==void 0?function(n){return An.create(ac(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Js.create(n.compositeFilter.filters.map(r=>PA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return mt()}}(n.compositeFilter.op))}(t):mt()}function Q8(t){return L8[t]}function J8(t){return V8[t]}function Z8(t){return U8[t]}function ic(t){return{fieldPath:t.canonicalString()}}function ac(t){return tr.fromServerFormat(t.fieldPath)}function kA(t){return t instanceof An?function(n){if(n.op==="=="){if(TE(n.value))return{unaryFilter:{field:ic(n.field),op:"IS_NAN"}};if(EE(n.value))return{unaryFilter:{field:ic(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(TE(n.value))return{unaryFilter:{field:ic(n.field),op:"IS_NOT_NAN"}};if(EE(n.value))return{unaryFilter:{field:ic(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ic(n.field),op:J8(n.op),value:n.value}}}(t):t instanceof Js?function(n){const r=n.getFilters().map(s=>kA(s));return r.length===1?r[0]:{compositeFilter:{op:Z8(n.op),filters:r}}}(t):mt()}function e9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function RA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n,r,s,i=pt.min(),o=pt.min(),u=ar.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Ja(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e){this.ct=e}}function n9(t){const e=X8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(){this.un=new s9}addToCollectionParentIndex(e,n){return this.un.add(n),je.resolve()}getCollectionParents(e,n){return je.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return je.resolve()}deleteFieldIndex(e,n){return je.resolve()}deleteAllFieldIndexes(e){return je.resolve()}createTargetIndexes(e,n){return je.resolve()}getDocumentsMatchingTarget(e,n){return je.resolve(null)}getIndexType(e,n){return je.resolve(0)}getFieldIndexes(e,n){return je.resolve([])}getNextCollectionGroupToUpdate(e){return je.resolve(null)}getMinOffset(e,n){return je.resolve(lo.min())}getMinOffsetFromCollectionGroup(e,n){return je.resolve(lo.min())}updateCollectionGroup(e,n,r){return je.resolve()}updateIndexEntries(e,n){return je.resolve()}}class s9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new sr(Jt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new sr(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Mc(0)}static kn(){return new Mc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(){this.changes=new qc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?je.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&rh(r.mutation,s,rs.empty(),Mt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_t()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_t()){const s=Xo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Hu();return i.forEach((u,h)=>{o=o.insert(u,h.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Xo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_t()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,u)=>{n.set(o,u)})})}computeViews(e,n,r,s){let i=ca();const o=nh(),u=function(){return nh()}();return n.forEach((h,f)=>{const m=r.get(f.key);s.has(f.key)&&(m===void 0||m.mutation instanceof go)?i=i.insert(f.key,f):m!==void 0?(o.set(f.key,m.mutation.getFieldMask()),rh(m.mutation,f,m.mutation.getFieldMask(),Mt.now())):o.set(f.key,rs.empty())}),this.recalculateAndSaveOverlays(e,i).next(h=>(h.forEach((f,m)=>o.set(f,m)),n.forEach((f,m)=>{var x;return u.set(f,new a9(m,(x=o.get(f))!==null&&x!==void 0?x:null))}),u))}recalculateAndSaveOverlays(e,n){const r=nh();let s=new hn((o,u)=>o-u),i=_t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const u of o)u.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let m=r.get(h)||rs.empty();m=u.applyToLocalView(f,m),r.set(h,m);const x=(s.get(u.batchId)||_t()).add(h);s=s.insert(u.batchId,x)})}).next(()=>{const o=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,m=h.value,x=pA();m.forEach(v=>{if(!i.has(v)){const _=wA(n.get(v),r.get(v));_!==null&&x.set(v,_),i=i.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,x))}return je.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return rt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):je.resolve(Xo());let u=-1,h=i;return o.next(f=>je.forEach(f,(m,x)=>(u<x.largestBatchId&&(u=x.largestBatchId),i.get(m)?je.resolve():this.remoteDocumentCache.getEntry(e,m).next(v=>{h=h.insert(m,v)}))).next(()=>this.populateOverlays(e,f,i)).next(()=>this.computeViews(e,h,f,_t())).next(m=>({batchId:u,changes:mA(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new rt(n)).next(r=>{let s=Hu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Hu();return this.indexManager.getCollectionParents(e,i).next(u=>je.forEach(u,h=>{const f=function(x,v){return new Qh(v,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(n,h.child(i));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next(m=>{m.forEach((x,v)=>{o=o.insert(x,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((h,f)=>{const m=f.getKey();o.get(m)===null&&(o=o.insert(m,mr.newInvalidDocument(m)))});let u=Hu();return o.forEach((h,f)=>{const m=i.get(h);m!==void 0&&rh(m.mutation,f,rs.empty(),Mt.now()),rm(n,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return je.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Si(s.createTime)}}(n)),je.resolve()}getNamedQuery(e,n){return je.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:n9(s.bundledQuery),readTime:Si(s.readTime)}}(n)),je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(){this.overlays=new hn(rt.comparator),this.Ir=new Map}getOverlay(e,n){return je.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xo();return je.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),je.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),je.resolve()}getOverlaysForCollection(e,n,r){const s=Xo(),i=n.length+1,o=new rt(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===i&&h.largestBatchId>r&&s.set(h.getKey(),h)}return je.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new hn((f,m)=>f-m);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=i.get(f.largestBatchId);m===null&&(m=Xo(),i=i.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const u=Xo(),h=i.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,m)=>u.set(f,m)),!(u.size()>=s)););return je.resolve(u)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new R8(n,r));let i=this.Ir.get(n);i===void 0&&(i=_t(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(){this.sessionToken=ar.EMPTY_BYTE_STRING}getSessionToken(e){return je.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,je.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(){this.Tr=new sr(zn.Er),this.dr=new sr(zn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new zn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new zn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new rt(new Jt([])),r=new zn(n,e),s=new zn(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new rt(new Jt([])),r=new zn(n,e),s=new zn(n,e+1);let i=_t();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new zn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return rt.comparator(e.key,n.key)||It(e.wr,n.wr)}static Ar(e,n){return It(e.wr,n.wr)||rt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new sr(zn.Er)}checkEmpty(e){return je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new k8(i,n,r,s);this.mutationQueue.push(o);for(const u of s)this.br=this.br.add(new zn(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return je.resolve(o)}lookupMutationBatch(e,n){return je.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return je.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zn(n,0),s=new zn(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const u=this.Dr(o.wr);i.push(u)}),je.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new sr(It);return n.forEach(s=>{const i=new zn(s,0),o=new zn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],u=>{r=r.add(u.wr)})}),je.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;rt.isDocumentKey(i)||(i=i.child(""));const o=new zn(new rt(i),0);let u=new sr(It);return this.br.forEachWhile(h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(u=u.add(h.wr)),!0)},o),je.resolve(this.Cr(u))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Vt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return je.forEach(n.mutations,s=>{const i=new zn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new zn(n,0),s=this.br.firstAfterOrEqual(r);return je.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,je.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.Mr=e,this.docs=function(){return new hn(rt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return je.resolve(r?r.document.mutableCopy():mr.newInvalidDocument(n))}getEntries(e,n){let r=ca();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():mr.newInvalidDocument(s))}),je.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ca();const o=n.path,u=new rt(o.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||qL(KL(m),r)<=0||(s.has(m.key)||rm(n,m))&&(i=i.insert(m.key,m.mutableCopy()))}return je.resolve(i)}getAllFromCollectionGroup(e,n,r,s){mt()}Or(e,n){return je.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new f9(this)}getSize(e){return je.resolve(this.size)}}class f9 extends i9{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),je.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e){this.persistence=e,this.Nr=new qc(n=>K1(n),q1),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new tv,this.targetCount=0,this.kr=Mc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),je.resolve()}getLastRemoteSnapshotVersion(e){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return je.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),je.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Mc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,je.resolve()}updateTargetData(e,n){return this.Kn(n),je.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,je.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)}),je.waitFor(i).next(()=>s)}getTargetCount(e){return je.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return je.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),je.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),je.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),je.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return je.resolve(r)}containsKey(e,n){return je.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,n){this.qr={},this.overlays={},this.Qr=new H1(0),this.Kr=!1,this.Kr=!0,this.$r=new u9,this.referenceDelegate=e(this),this.Ur=new m9(this),this.indexManager=new r9,this.remoteDocumentCache=function(s){return new d9(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new t9(n),this.Gr=new l9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new c9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new h9(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){et("MemoryPersistence","Starting transaction:",e);const s=new g9(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return je.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class g9 extends YL{constructor(e){super(),this.currentSequenceNumber=e}}class nv{constructor(e){this.persistence=e,this.Jr=new tv,this.Yr=null}static Zr(e){return new nv(e)}get Xr(){if(this.Yr)return this.Yr;throw mt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),je.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),je.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),je.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.Xr,r=>{const s=rt.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,pt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return je.or([()=>je.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=_t(),s=_t();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new rv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return eO()?8:QL(yr())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new x9;return this.Xi(e,n,o).next(u=>{if(i.result=u,this.zi)return this.es(e,n,o,u.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Ou()<=Et.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",sc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),je.resolve()):(Ou()<=Et.DEBUG&&et("QueryEngine","Query:",sc(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Ou()<=Et.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",sc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(n))):je.resolve())}Yi(e,n){if(AE(n))return je.resolve(null);let r=Ti(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=bx(n,null,"F"),r=Ti(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=_t(...i);return this.Ji.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{const f=this.ts(n,u);return this.ns(n,f,o,h.readTime)?this.Yi(e,bx(n,null,"F")):this.rs(e,f,n,h)}))})))}Zi(e,n,r,s){return AE(n)||s.isEqual(pt.min())?je.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?je.resolve(null):(Ou()<=Et.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),sc(n)),this.rs(e,o,n,GL(s,-1)).next(u=>u))})}ts(e,n){let r=new sr(dA(e));return n.forEach((s,i)=>{rm(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Ou()<=Et.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",sc(n)),this.Ji.getDocumentsMatchingQuery(e,n,lo.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new hn(It),this._s=new qc(i=>K1(i),q1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new o9(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function _9(t,e,n,r){return new y9(t,e,n,r)}async function DA(t,e){const n=gt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],u=[];let h=_t();for(const f of s){o.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of i){u.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next(f=>({hs:f,removedBatchIds:o,addedBatchIds:u}))})})}function w9(t,e){const n=gt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(u,h,f,m){const x=f.batch,v=x.keys();let _=je.resolve();return v.forEach(A=>{_=_.next(()=>m.getEntry(h,A)).next(w=>{const N=f.docVersions.get(A);Vt(N!==null),w.version.compareTo(N)<0&&(x.applyToRemoteDocument(w,f),w.isValidDocument()&&(w.setReadTime(f.commitVersion),m.addEntry(w)))})}),_.next(()=>u.mutationQueue.removeMutationBatch(h,x))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=_t();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function jA(t){const e=gt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function E9(t,e){const n=gt(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const u=[];e.targetChanges.forEach((m,x)=>{const v=s.get(x);if(!v)return;u.push(n.Ur.removeMatchingKeys(i,m.removedDocuments,x).next(()=>n.Ur.addMatchingKeys(i,m.addedDocuments,x)));let _=v.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(x)!==null?_=_.withResumeToken(ar.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):m.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(m.resumeToken,r)),s=s.insert(x,_),function(w,N,M){return w.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(v,_,m)&&u.push(n.Ur.updateTargetData(i,_))});let h=ca(),f=_t();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(i,m))}),u.push(T9(i,o,e.documentUpdates).next(m=>{h=m.Ps,f=m.Is})),!r.isEqual(pt.min())){const m=n.Ur.getLastRemoteSnapshotVersion(i).next(x=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));u.push(m)}return je.waitFor(u).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,h,f)).next(()=>h)}).then(i=>(n.os=s,i))}function T9(t,e,n){let r=_t(),s=_t();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ca();return n.forEach((u,h)=>{const f=i.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(pt.min())?(e.removeEntry(u,h.readTime),o=o.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),o=o.insert(u,h)):et("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{Ps:o,Is:s}})}function S9(t,e){const n=gt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function b9(t,e){const n=gt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,je.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Ja(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Px(t,e,n){const r=gt(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Yh(o))throw o;et("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function LE(t,e,n){const r=gt(t);let s=pt.min(),i=_t();return r.persistence.runTransaction("Execute query","readwrite",o=>function(h,f,m){const x=gt(h),v=x._s.get(m);return v!==void 0?je.resolve(x.os.get(v)):x.Ur.getTargetData(f,m)}(r,o,Ti(e)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,u.targetId).next(h=>{i=h})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:pt.min(),n?i:_t())).next(u=>(N9(r,p8(e),u),{documents:u,Ts:i})))}function N9(t,e,n){let r=t.us.get(e)||pt.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class VE{constructor(){this.activeTargetIds=w8()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A9{constructor(){this.so=new VE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new VE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nf=null;function Ng(){return Nf===null?Nf=function(){return 268435456+Math.round(2147483648*Math.random())}():Nf++,"0x"+Nf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="WebChannelConnection";class k9 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const u=Ng(),h=this.xo(n,r.toUriEncodedString());et("RestConnection",`Sending RPC '${n}' ${u}:`,h,s);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,i,o),this.No(n,h,f,s).then(m=>(et("RestConnection",`Received RPC '${n}' ${u}: `,m),m),m=>{throw Dc("RestConnection",`RPC '${n}' ${u} failed with error: `,m,"url: ",h,"request:",s),m})}Lo(n,r,s,i,o,u){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Kc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=I9[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Ng();return new Promise((o,u)=>{const h=new qN;h.setWithCredentials(!0),h.listenOnce(XN.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Kf.NO_ERROR:const m=h.getResponseJson();et(dr,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(m)),o(m);break;case Kf.TIMEOUT:et(dr,`RPC '${e}' ${i} timed out`),u(new Ye(be.DEADLINE_EXCEEDED,"Request time out"));break;case Kf.HTTP_ERROR:const x=h.getStatus();if(et(dr,`RPC '${e}' ${i} failed with status:`,x,"response text:",h.getResponseText()),x>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const _=v?.error;if(_&&_.status&&_.message){const A=function(N){const M=N.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(M)>=0?M:be.UNKNOWN}(_.status);u(new Ye(A,_.message))}else u(new Ye(be.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Ye(be.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{et(dr,`RPC '${e}' ${i} completed.`)}});const f=JSON.stringify(s);et(dr,`RPC '${e}' ${i} sending request:`,s),h.send(n,"POST",f,r,15)})}Bo(e,n,r){const s=Ng(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=JN(),u=QN(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Oo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=i.join("");et(dr,`Creating RPC '${e}' stream ${s}: ${m}`,h);const x=o.createWebChannel(m,h);let v=!1,_=!1;const A=new P9({Io:N=>{_?et(dr,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(v||(et(dr,`Opening RPC '${e}' stream ${s} transport.`),x.open(),v=!0),et(dr,`RPC '${e}' stream ${s} sending:`,N),x.send(N))},To:()=>x.close()}),w=(N,M,j)=>{N.listen(M,O=>{try{j(O)}catch(z){setTimeout(()=>{throw z},0)}})};return w(x,zu.EventType.OPEN,()=>{_||(et(dr,`RPC '${e}' stream ${s} transport opened.`),A.yo())}),w(x,zu.EventType.CLOSE,()=>{_||(_=!0,et(dr,`RPC '${e}' stream ${s} transport closed`),A.So())}),w(x,zu.EventType.ERROR,N=>{_||(_=!0,Dc(dr,`RPC '${e}' stream ${s} transport errored:`,N),A.So(new Ye(be.UNAVAILABLE,"The operation could not be completed")))}),w(x,zu.EventType.MESSAGE,N=>{var M;if(!_){const j=N.data[0];Vt(!!j);const O=j,z=O.error||((M=O[0])===null||M===void 0?void 0:M.error);if(z){et(dr,`RPC '${e}' stream ${s} received error:`,z);const ne=z.status;let re=function(b){const R=bn[b];if(R!==void 0)return TA(R)}(ne),P=z.message;re===void 0&&(re=be.INTERNAL,P="Unknown error status: "+ne+" with message "+z.message),_=!0,A.So(new Ye(re,P)),x.close()}else et(dr,`RPC '${e}' stream ${s} received:`,j),A.bo(j)}}),w(u,YN.STAT_EVENT,N=>{N.stat===yx.PROXY?et(dr,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===yx.NOPROXY&&et(dr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}}function Ag(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(t){return new B8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&et("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n,r,s,i,o,u,h){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new OA(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===be.RESOURCE_EXHAUSTED?(la(n.toString()),la("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new Ye(be.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return et("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class R9 extends FA{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=$8(this.serializer,e),r=function(i){if(!("targetChange"in i))return pt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?pt.min():o.readTime?Si(o.readTime):pt.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Ix(this.serializer),n.addTarget=function(i,o){let u;const h=o.target;if(u=Tx(h)?{documents:K8(i,h)}:{query:q8(i,h)._t},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=NA(i,o.resumeToken);const f=Nx(i,o.expectedCount);f!==null&&(u.expectedCount=f)}else if(o.snapshotVersion.compareTo(pt.min())>0){u.readTime=_0(i,o.snapshotVersion.toTimestamp());const f=Nx(i,o.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const r=Y8(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Ix(this.serializer),n.removeTarget=e,this.a_(n)}}class D9 extends FA{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,Vt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=G8(e.writeResults,e.commitTime),r=Si(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Ix(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>W8(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Ye(be.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,Ax(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ye(be.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Lo(e,Ax(n,r),s,o,u,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ye(be.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class O9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(la(n),this.D_=!1):et("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{gl(this)&&(et("RemoteStore","Restarting streams for network reachability change."),await async function(h){const f=gt(h);f.L_.add(4),await ed(f),f.q_.set("Unknown"),f.L_.delete(4),await lm(f)}(this))})}),this.q_=new O9(r,s)}}async function lm(t){if(gl(t))for(const e of t.B_)await e(!0)}async function ed(t){for(const e of t.B_)await e(!1)}function MA(t,e){const n=gt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ov(n)?av(n):Xc(n).r_()&&iv(n,e))}function sv(t,e){const n=gt(t),r=Xc(n);n.N_.delete(e),r.r_()&&LA(n,e),n.N_.size===0&&(r.r_()?r.o_():gl(n)&&n.q_.set("Unknown"))}function iv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xc(t).A_(e)}function LA(t,e){t.Q_.xe(e),Xc(t).R_(e)}function av(t){t.Q_=new M8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Xc(t).start(),t.q_.v_()}function ov(t){return gl(t)&&!Xc(t).n_()&&t.N_.size>0}function gl(t){return gt(t).L_.size===0}function VA(t){t.Q_=void 0}async function M9(t){t.q_.set("Online")}async function L9(t){t.N_.forEach((e,n)=>{iv(t,e)})}async function V9(t,e){VA(t),ov(t)?(t.q_.M_(e),av(t)):t.q_.set("Unknown")}async function U9(t,e,n){if(t.q_.set("Online"),e instanceof bA&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const u of i.targetIds)s.N_.has(u)&&(await s.remoteSyncer.rejectListen(u,o),s.N_.delete(u),s.Q_.removeTarget(u))}(t,e)}catch(r){et("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await w0(t,r)}else if(e instanceof Yf?t.Q_.Ke(e):e instanceof SA?t.Q_.He(e):t.Q_.We(e),!n.isEqual(pt.min()))try{const r=await jA(t.localStore);n.compareTo(r)>=0&&await function(i,o){const u=i.Q_.rt(o);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const m=i.N_.get(f);m&&i.N_.set(f,m.withResumeToken(h.resumeToken,o))}}),u.targetMismatches.forEach((h,f)=>{const m=i.N_.get(h);if(!m)return;i.N_.set(h,m.withResumeToken(ar.EMPTY_BYTE_STRING,m.snapshotVersion)),LA(i,h);const x=new Ja(m.target,h,f,m.sequenceNumber);iv(i,x)}),i.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){et("RemoteStore","Failed to raise snapshot:",r),await w0(t,r)}}async function w0(t,e,n){if(!Yh(e))throw e;t.L_.add(1),await ed(t),t.q_.set("Offline"),n||(n=()=>jA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{et("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await lm(t)})}function UA(t,e){return e().catch(n=>w0(t,n,e))}async function cm(t){const e=gt(t),n=uo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;B9(e);)try{const s=await S9(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,z9(e,s)}catch(s){await w0(e,s)}BA(e)&&zA(e)}function B9(t){return gl(t)&&t.O_.length<10}function z9(t,e){t.O_.push(e);const n=uo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function BA(t){return gl(t)&&!uo(t).n_()&&t.O_.length>0}function zA(t){uo(t).start()}async function H9(t){uo(t).p_()}async function $9(t){const e=uo(t);for(const n of t.O_)e.m_(n.mutations)}async function W9(t,e,n){const r=t.O_.shift(),s=J1.from(r,e,n);await UA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await cm(t)}async function G9(t,e){e&&uo(t).V_&&await async function(r,s){if(function(o){return j8(o)&&o!==be.ABORTED}(s.code)){const i=r.O_.shift();uo(r).s_(),await UA(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await cm(r)}}(t,e),BA(t)&&zA(t)}async function BE(t,e){const n=gt(t);n.asyncQueue.verifyOperationInProgress(),et("RemoteStore","RemoteStore received new credentials");const r=gl(n);n.L_.add(3),await ed(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await lm(n)}async function K9(t,e){const n=gt(t);e?(n.L_.delete(2),await lm(n)):e||(n.L_.add(2),await ed(n),n.q_.set("Unknown"))}function Xc(t){return t.K_||(t.K_=function(n,r,s){const i=gt(n);return i.w_(),new R9(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:M9.bind(null,t),Ro:L9.bind(null,t),mo:V9.bind(null,t),d_:U9.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),ov(t)?av(t):t.q_.set("Unknown")):(await t.K_.stop(),VA(t))})),t.K_}function uo(t){return t.U_||(t.U_=function(n,r,s){const i=gt(n);return i.w_(),new D9(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:H9.bind(null,t),mo:G9.bind(null,t),f_:$9.bind(null,t),g_:W9.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await cm(t)):(await t.U_.stop(),t.O_.length>0&&(et("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,u=new lv(e,n,o,s,i);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ye(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cv(t,e){if(la("AsyncQueue",`${e}: ${t}`),Yh(t))return new Ye(be.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||rt.comparator(n.key,r.key):(n,r)=>rt.comparator(n.key,r.key),this.keyedMap=Hu(),this.sortedSet=new hn(this.comparator)}static emptySet(e){return new vc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.W_=new hn(rt.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):mt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Lc{constructor(e,n,r,s,i,o,u,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(u=>{o.push({type:0,doc:u})}),new Lc(e,n,vc.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class X9{constructor(){this.queries=HE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=gt(n),i=s.queries;s.queries=HE(),i.forEach((o,u)=>{for(const h of u.j_)h.onError(r)})})(this,new Ye(be.ABORTED,"Firestore shutting down"))}}function HE(){return new qc(t=>hA(t),nm)}async function HA(t,e){const n=gt(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new q9,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const u=cv(o,`Initialization of query '${sc(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&uv(n)}async function $A(t,e){const n=gt(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Y9(t,e){const n=gt(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const u of o.j_)u.X_(s)&&(r=!0);o.z_=s}}r&&uv(n)}function Q9(t,e,n){const r=gt(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function uv(t){t.Y_.forEach(e=>{e.next()})}var kx,$E;($E=kx||(kx={})).ea="default",$E.Cache="cache";class WA{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Lc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Lc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==kx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.key=e}}class KA{constructor(e){this.key=e}}class J9{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_t(),this.mutatedKeys=_t(),this.Aa=dA(e),this.Ra=new vc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new zE,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,x)=>{const v=s.get(m),_=rm(this.query,x)?x:null,A=!!v&&this.mutatedKeys.has(v.key),w=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let N=!1;v&&_?v.data.isEqual(_.data)?A!==w&&(r.track({type:3,doc:_}),N=!0):this.ga(v,_)||(r.track({type:2,doc:_}),N=!0,(h&&this.Aa(_,h)>0||f&&this.Aa(_,f)<0)&&(u=!0)):!v&&_?(r.track({type:0,doc:_}),N=!0):v&&!_&&(r.track({type:1,doc:v}),N=!0,(h||f)&&(u=!0)),N&&(_?(o=o.add(_),i=w?i.add(m):i.delete(m)):(o=o.delete(m),i=i.delete(m)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),i=i.delete(m.key),r.track({type:1,doc:m})}return{Ra:o,fa:r,ns:u,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((m,x)=>function(_,A){const w=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return w(_)-w(A)}(m.type,x.type)||this.Aa(m.doc,x.doc)),this.pa(r),s=s!=null&&s;const u=n&&!s?this.ya():[],h=this.da.size===0&&this.current&&!s?1:0,f=h!==this.Ea;return this.Ea=h,o.length!==0||f?{snapshot:new Lc(this.query,e.Ra,i,o,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new zE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=_t(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new KA(r))}),this.da.forEach(r=>{e.has(r)||n.push(new GA(r))}),n}ba(e){this.Ta=e.Ts,this.da=_t();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Lc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Z9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class eV{constructor(e){this.key=e,this.va=!1}}class tV{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new qc(u=>hA(u),nm),this.Ma=new Map,this.xa=new Set,this.Oa=new hn(rt.comparator),this.Na=new Map,this.La=new tv,this.Ba={},this.ka=new Map,this.qa=Mc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function nV(t,e,n=!0){const r=ZA(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await qA(r,e,n,!0),s}async function rV(t,e){const n=ZA(t);await qA(n,e,!0,!1)}async function qA(t,e,n,r){const s=await b9(t.localStore,Ti(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let u;return r&&(u=await sV(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&MA(t.remoteStore,s),u}async function sV(t,e,n,r,s){t.Ka=(x,v,_)=>async function(w,N,M,j){let O=N.view.ma(M);O.ns&&(O=await LE(w.localStore,N.query,!1).then(({documents:P})=>N.view.ma(P,O)));const z=j&&j.targetChanges.get(N.targetId),ne=j&&j.targetMismatches.get(N.targetId)!=null,re=N.view.applyChanges(O,w.isPrimaryClient,z,ne);return GE(w,N.targetId,re.wa),re.snapshot}(t,x,v,_);const i=await LE(t.localStore,e,!0),o=new J9(e,i.Ts),u=o.ma(i.documents),h=Zh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),f=o.applyChanges(u,t.isPrimaryClient,h);GE(t,n,f.wa);const m=new Z9(e,n,o);return t.Fa.set(e,m),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),f.snapshot}async function iV(t,e,n){const r=gt(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!nm(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Px(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&sv(r.remoteStore,s.targetId),Rx(r,s.targetId)}).catch(Xh)):(Rx(r,s.targetId),await Px(r.localStore,s.targetId,!0))}async function aV(t,e){const n=gt(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sv(n.remoteStore,r.targetId))}async function oV(t,e,n){const r=mV(t);try{const s=await function(o,u){const h=gt(o),f=Mt.now(),m=u.reduce((_,A)=>_.add(A.key),_t());let x,v;return h.persistence.runTransaction("Locally write mutations","readwrite",_=>{let A=ca(),w=_t();return h.cs.getEntries(_,m).next(N=>{A=N,A.forEach((M,j)=>{j.isValidDocument()||(w=w.add(M))})}).next(()=>h.localDocuments.getOverlayedDocuments(_,A)).next(N=>{x=N;const M=[];for(const j of u){const O=I8(j,x.get(j.key).overlayedDocument);O!=null&&M.push(new go(j.key,O,rA(O.value.mapValue),Ys.exists(!0)))}return h.mutationQueue.addMutationBatch(_,f,M,u)}).next(N=>{v=N;const M=N.applyToLocalDocumentSet(x,w);return h.documentOverlayCache.saveOverlays(_,N.batchId,M)})}).then(()=>({batchId:v.batchId,changes:mA(x)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,u,h){let f=o.Ba[o.currentUser.toKey()];f||(f=new hn(It)),f=f.insert(u,h),o.Ba[o.currentUser.toKey()]=f}(r,s.batchId,n),await td(r,s.changes),await cm(r.remoteStore)}catch(s){const i=cv(s,"Failed to persist write");n.reject(i)}}async function XA(t,e){const n=gt(t);try{const r=await E9(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(Vt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Vt(o.va):s.removedDocuments.size>0&&(Vt(o.va),o.va=!1))}),await td(n,r,e)}catch(r){await Xh(r)}}function WE(t,e,n){const r=gt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const u=o.view.Z_(e);u.snapshot&&s.push(u.snapshot)}),function(o,u){const h=gt(o);h.onlineState=u;let f=!1;h.queries.forEach((m,x)=>{for(const v of x.j_)v.Z_(u)&&(f=!0)}),f&&uv(h)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lV(t,e,n){const r=gt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new hn(rt.comparator);o=o.insert(i,mr.newNoDocument(i,pt.min()));const u=_t().add(i),h=new am(pt.min(),new Map,new hn(It),o,u);await XA(r,h),r.Oa=r.Oa.remove(i),r.Na.delete(e),hv(r)}else await Px(r.localStore,e,!1).then(()=>Rx(r,e,n)).catch(Xh)}async function cV(t,e){const n=gt(t),r=e.batch.batchId;try{const s=await w9(n.localStore,e);QA(n,r,null),YA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await td(n,s)}catch(s){await Xh(s)}}async function uV(t,e,n){const r=gt(t);try{const s=await function(o,u){const h=gt(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return h.mutationQueue.lookupMutationBatch(f,u).next(x=>(Vt(x!==null),m=x.keys(),h.mutationQueue.removeMutationBatch(f,x))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>h.localDocuments.getDocuments(f,m))})}(r.localStore,e);QA(r,e,n),YA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await td(r,s)}catch(s){await Xh(s)}}function YA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function QA(t,e,n){const r=gt(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Rx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||JA(t,r)})}function JA(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(sv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),hv(t))}function GE(t,e,n){for(const r of n)r instanceof GA?(t.La.addReference(r.key,e),hV(t,r)):r instanceof KA?(et("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||JA(t,r.key)):mt()}function hV(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(et("SyncEngine","New document in limbo: "+n),t.xa.add(r),hv(t))}function hv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new rt(Jt.fromString(e)),r=t.qa.next();t.Na.set(r,new eV(n)),t.Oa=t.Oa.insert(n,r),MA(t.remoteStore,new Ja(Ti(X1(n.path)),r,"TargetPurposeLimboResolution",H1.oe))}}async function td(t,e,n){const r=gt(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((u,h)=>{o.push(r.Ka(h,e,n).then(f=>{var m;if((f||n)&&r.isPrimaryClient){const x=f?!f.fromCache:(m=n?.targetChanges.get(h.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,x?"current":"not-current")}if(f){s.push(f);const x=rv.Wi(h.targetId,f);i.push(x)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(h,f){const m=gt(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>je.forEach(f,v=>je.forEach(v.$i,_=>m.persistence.referenceDelegate.addReference(x,v.targetId,_)).next(()=>je.forEach(v.Ui,_=>m.persistence.referenceDelegate.removeReference(x,v.targetId,_)))))}catch(x){if(!Yh(x))throw x;et("LocalStore","Failed to update sequence numbers: "+x)}for(const x of f){const v=x.targetId;if(!x.fromCache){const _=m.os.get(v),A=_.snapshotVersion,w=_.withLastLimboFreeSnapshotVersion(A);m.os=m.os.insert(v,w)}}}(r.localStore,i))}async function dV(t,e){const n=gt(t);if(!n.currentUser.isEqual(e)){et("SyncEngine","User change. New user:",e.toKey());const r=await DA(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(u=>{u.forEach(h=>{h.reject(new Ye(be.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await td(n,r.hs)}}function fV(t,e){const n=gt(t),r=n.Na.get(e);if(r&&r.va)return _t().add(r.key);{let s=_t();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const u=n.Fa.get(o);s=s.unionWith(u.view.Va)}return s}}function ZA(t){const e=gt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lV.bind(null,e),e.Ca.d_=Y9.bind(null,e.eventManager),e.Ca.$a=Q9.bind(null,e.eventManager),e}function mV(t){const e=gt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uV.bind(null,e),e}class E0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=om(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return _9(this.persistence,new v9,e.initialUser,this.serializer)}Ga(e){return new p9(nv.Zr,this.serializer)}Wa(e){return new A9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}E0.provider={build:()=>new E0};class Dx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>WE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dV.bind(null,this.syncEngine),await K9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new X9}()}createDatastore(e){const n=om(e.databaseInfo.databaseId),r=function(i){return new k9(i)}(e.databaseInfo);return function(i,o,u,h){return new j9(i,o,u,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,u){return new F9(r,s,i,o,u)}(this.localStore,this.datastore,e.asyncQueue,n=>WE(this.syncEngine,n,0),function(){return UE.D()?new UE:new C9}())}createSyncEngine(e,n){return function(s,i,o,u,h,f,m){const x=new tV(s,i,o,u,h,f);return m&&(x.Qa=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=gt(s);et("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await ed(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Dx.provider={build:()=>new Dx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):la("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=fr.UNAUTHENTICATED,this.clientId=eA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{et("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(et("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=cv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cg(t,e){t.asyncQueue.verifyOperationInProgress(),et("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await DA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function KE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gV(t);et("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>BE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>BE(e.remoteStore,s)),t._onlineComponents=e}async function gV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){et("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===be.FAILED_PRECONDITION||s.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Dc("Error using user provided cache. Falling back to memory cache: "+n),await Cg(t,new E0)}}else et("FirestoreClient","Using default OfflineComponentProvider"),await Cg(t,new E0);return t._offlineComponents}async function t4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(et("FirestoreClient","Using user provided OnlineComponentProvider"),await KE(t,t._uninitializedComponentsProvider._online)):(et("FirestoreClient","Using default OnlineComponentProvider"),await KE(t,new Dx))),t._onlineComponents}function xV(t){return t4(t).then(e=>e.syncEngine)}async function n4(t){const e=await t4(t),n=e.eventManager;return n.onListen=nV.bind(null,e.syncEngine),n.onUnlisten=iV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aV.bind(null,e.syncEngine),n}function vV(t,e,n={}){const r=new Zi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,u,h,f){const m=new e4({next:v=>{m.Za(),o.enqueueAndForget(()=>$A(i,x));const _=v.docs.has(u);!_&&v.fromCache?f.reject(new Ye(be.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&v.fromCache&&h&&h.source==="server"?f.reject(new Ye(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),x=new WA(X1(u.path),m,{includeMetadataChanges:!0,_a:!0});return HA(i,x)}(await n4(t),t.asyncQueue,e,n,r)),r.promise}function yV(t,e,n={}){const r=new Zi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,u,h,f){const m=new e4({next:v=>{m.Za(),o.enqueueAndForget(()=>$A(i,x)),v.fromCache&&h.source==="server"?f.reject(new Ye(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),x=new WA(u,m,{includeMetadataChanges:!0,_a:!0});return HA(i,x)}(await n4(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t,e,n){if(!n)throw new Ye(be.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _V(t,e,n,r){if(e===!0&&r===!0)throw new Ye(be.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function XE(t){if(!rt.isDocumentKey(t))throw new Ye(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function YE(t){if(rt.isDocumentKey(t))throw new Ye(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function um(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":mt()}function ua(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ye(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=um(t);throw new Ye(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ye(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ye(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_V("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=r4((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ye(be.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ye(be.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ye(be.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ye(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ye(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ML;switch(r.type){case"firstParty":return new BL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ye(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=qE.get(n);r&&(et("ComponentProvider","Removing Datastore"),qE.delete(n),r.terminate())}(this),Promise.resolve()}}function wV(t,e,n,r={}){var s;const i=(t=ua(t,hm))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Dc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=fr.MOCK_USER;else{u=oN(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Ye(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new fr(f)}t._authCredentials=new LL(new ZN(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yc(this.firestore,e,this._query)}}class Br{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Br(this.firestore,e,this._key)}}class so extends Yc{constructor(e,n,r){super(e,n,X1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Br(this.firestore,null,new rt(e))}withConverter(e){return new so(this.firestore,e,this._path)}}function zt(t,e,...n){if(t=rn(t),s4("collection","path",e),t instanceof hm){const r=Jt.fromString(e,...n);return YE(r),new so(t,null,r)}{if(!(t instanceof Br||t instanceof so))throw new Ye(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Jt.fromString(e,...n));return YE(r),new so(t.firestore,null,r)}}function $t(t,e,...n){if(t=rn(t),arguments.length===1&&(e=eA.newId()),s4("doc","path",e),t instanceof hm){const r=Jt.fromString(e,...n);return XE(r),new Br(t,null,new rt(r))}{if(!(t instanceof Br||t instanceof so))throw new Ye(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Jt.fromString(e,...n));return XE(r),new Br(t.firestore,t instanceof so?t.converter:null,new rt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new OA(this,"async_queue_retry"),this.Vu=()=>{const r=Ag();r&&et("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Ag();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Ag();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Zi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Yh(e))throw e;et("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),u}(r);throw la("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=lv.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&mt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Qc extends hm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new JE,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JE(e),this._firestoreClient=void 0,await e}}}function i4(t,e){const n=typeof t=="object"?t:P1(),r=typeof t=="string"?t:"(default)",s=Q0(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=sN("firestore");i&&wV(s,...i)}return s}function dv(t){if(t._terminated)throw new Ye(be.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||EV(t),t._firestoreClient}function EV(t){var e,n,r;const s=t._freezeSettings(),i=function(u,h,f,m){return new e8(u,h,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,r4(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new pV(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vc(ar.fromBase64String(e))}catch(n){throw new Ye(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vc(ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ye(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ye(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ye(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=/^__.*__$/;class SV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new go(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jh(e,this.data,n,this.fieldTransforms)}}class a4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new go(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function o4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class pv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new pv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return T0(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(o4(this.Cu)&&TV.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class bV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||om(e)}Qu(e,n,r,s=!1){return new pv({Cu:e,methodName:n,qu:r,path:tr.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gv(t){const e=t._freezeSettings(),n=om(t._databaseId);return new bV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NV(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);vv("Data must be an object, but it was:",o,r);const u=l4(r,o);let h,f;if(i.merge)h=new rs(o.fieldMask),f=o.fieldTransforms;else if(i.mergeFields){const m=[];for(const x of i.mergeFields){const v=jx(e,x,n);if(!o.contains(v))throw new Ye(be.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);u4(m,v)||m.push(v)}h=new rs(m),f=o.fieldTransforms.filter(x=>h.covers(x.field))}else h=null,f=o.fieldTransforms;return new SV(new Vr(u),h,f)}class mm extends fm{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mm}}class xv extends fm{_toFieldTransform(e){return new b8(e.path,new Ah)}isEqual(e){return e instanceof xv}}function AV(t,e,n,r){const s=t.Qu(1,e,n);vv("Data must be an object, but it was:",s,r);const i=[],o=Vr.empty();pl(r,(h,f)=>{const m=yv(e,h,n);f=rn(f);const x=s.Nu(m);if(f instanceof mm)i.push(m);else{const v=nd(f,x);v!=null&&(i.push(m),o.set(m,v))}});const u=new rs(i);return new a4(o,u,s.fieldTransforms)}function CV(t,e,n,r,s,i){const o=t.Qu(1,e,n),u=[jx(e,r,n)],h=[s];if(i.length%2!=0)throw new Ye(be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<i.length;v+=2)u.push(jx(e,i[v])),h.push(i[v+1]);const f=[],m=Vr.empty();for(let v=u.length-1;v>=0;--v)if(!u4(f,u[v])){const _=u[v];let A=h[v];A=rn(A);const w=o.Nu(_);if(A instanceof mm)f.push(_);else{const N=nd(A,w);N!=null&&(f.push(_),m.set(_,N))}}const x=new rs(f);return new a4(m,x,o.fieldTransforms)}function IV(t,e,n,r=!1){return nd(n,t.Qu(r?4:3,e))}function nd(t,e){if(c4(t=rn(t)))return vv("Unsupported field value:",e,t),l4(t,e);if(t instanceof fm)return function(r,s){if(!o4(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const u of r){let h=nd(u,s.Lu(o));h==null&&(h={nullValue:"NULL_VALUE"}),i.push(h),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return E8(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Mt.fromDate(r);return{timestampValue:_0(s.serializer,i)}}if(r instanceof Mt){const i=new Mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_0(s.serializer,i)}}if(r instanceof fv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vc)return{bytesValue:NA(s.serializer,r._byteString)};if(r instanceof Br){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ev(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof mv)return function(o,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw u.Bu("VectorValues must only contain numeric values.");return Y1(u.serializer,h)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${um(r)}`)}(t,e)}function l4(t,e){const n={};return tA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pl(t,(r,s)=>{const i=nd(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function c4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof fv||t instanceof Vc||t instanceof Br||t instanceof fm||t instanceof mv)}function vv(t,e,n){if(!c4(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=um(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function jx(t,e,n){if((e=rn(e))instanceof dm)return e._internalPath;if(typeof e=="string")return yv(t,e);throw T0("Field path arguments must be of type string or ",t,!1,void 0,n)}const PV=new RegExp("[~\\*/\\[\\]]");function yv(t,e,n){if(e.search(PV)>=0)throw T0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dm(...e.split("."))._internalPath}catch{throw T0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function T0(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(i||o)&&(h+=" (found",i&&(h+=` in field ${r}`),o&&(h+=` in document ${s}`),h+=")"),new Ye(be.INVALID_ARGUMENT,u+t+h)}function u4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Br(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_v("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kV extends h4{data(){return super.data()}}function _v(t,e){return typeof e=="string"?yv(t,e):e instanceof dm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ye(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wv{}class DV extends wv{}function Zs(t,e,...n){let r=[];e instanceof wv&&r.push(e),r=r.concat(n),function(i){const o=i.filter(h=>h instanceof Ev).length,u=i.filter(h=>h instanceof pm).length;if(o>1||o>0&&u>0)throw new Ye(be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class pm extends DV{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new pm(e,n,r)}_apply(e){const n=this._parse(e);return d4(e._query,n),new Yc(e.firestore,e.converter,Sx(e._query,n))}_parse(e){const n=gv(e.firestore);return function(i,o,u,h,f,m,x){let v;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Ye(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){eT(x,m);const _=[];for(const A of x)_.push(ZE(h,i,A));v={arrayValue:{values:_}}}else v=ZE(h,i,x)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||eT(x,m),v=IV(u,o,x,m==="in"||m==="not-in");return An.create(f,m,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ss(t,e,n){const r=e,s=_v("where",t);return pm._create(s,r,n)}class Ev extends wv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ev(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Js.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const u=i.getFlattenedFilters();for(const h of u)d4(o,h),o=Sx(o,h)}(e._query,n),new Yc(e.firestore,e.converter,Sx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function ZE(t,e,n){if(typeof(n=rn(n))=="string"){if(n==="")throw new Ye(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uA(e)&&n.indexOf("/")!==-1)throw new Ye(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Jt.fromString(n));if(!rt.isDocumentKey(r))throw new Ye(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wE(t,new rt(r))}if(n instanceof Br)return wE(t,n._key);throw new Ye(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${um(n)}.`)}function eT(t,e){if(!Array.isArray(t)||t.length===0)throw new Ye(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function d4(t,e){const n=function(s,i){for(const o of s)for(const u of o.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ye(be.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ye(be.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jV{convertValue(e,n="none"){switch(cl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ll(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw mt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pl(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>wn(o.doubleValue));return new mv(i)}convertGeoPoint(e){return new fv(wn(e.latitude),wn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=W1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sh(e));default:return null}}convertTimestamp(e){const n=co(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Jt.fromString(e);Vt(RA(r));const s=new bh(r.get(1),r.get(3)),i=new rt(r.popFirst(5));return s.isEqual(n)||la(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class f4 extends h4{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_v("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Qf extends f4{data(e={}){return super.data(e)}}class FV{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Wu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qf(this._firestore,this._userDataWriter,r.key,r,new Wu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ye(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(u=>{const h=new Qf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Wu(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>i||u.type!==3).map(u=>{const h=new Qf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Wu(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,m=-1;return u.type!==0&&(f=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),m=o.indexOf(u.doc.key)),{type:MV(u.type),doc:h,oldIndex:f,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function MV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(t){t=ua(t,Br);const e=ua(t.firestore,Qc);return vV(dv(e),t._key).then(n=>LV(e,t,n))}class m4 extends jV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Br(this.firestore,null,n)}}function Wt(t){t=ua(t,Yc);const e=ua(t.firestore,Qc),n=dv(e),r=new m4(e);return RV(t._query),yV(n,t._query).then(s=>new FV(e,r,t,s))}function Fn(t,e,n,...r){t=ua(t,Br);const s=ua(t.firestore,Qc),i=gv(s);let o;return o=typeof(e=rn(e))=="string"||e instanceof dm?CV(i,"updateDoc",t._key,e,n,r):AV(i,"updateDoc",t._key,e),Tv(s,[o.toMutation(t._key,Ys.exists(!0))])}function S0(t){return Tv(ua(t.firestore,Qc),[new Q1(t._key,Ys.none())])}function gm(t,e){const n=ua(t.firestore,Qc),r=$t(t),s=OV(t.converter,e);return Tv(n,[NV(gv(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ys.exists(!1))]).then(()=>r)}function Tv(t,e){return function(r,s){const i=new Zi;return r.asyncQueue.enqueueAndForget(async()=>oV(await xV(r),s,i)),i.promise}(dv(t),e)}function LV(t,e,n){const r=n.docs.get(e._key),s=new m4(t);return new f4(t,s,e._key,r,new Wu(n.hasPendingWrites,n.fromCache),e.converter)}function Jf(){return new xv("serverTimestamp")}(function(e,n=!0){(function(s){Kc=s})(ml),sl(new oo("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),u=new Qc(new VL(r.getProvider("auth-internal")),new HL(r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ye(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bh(f.options.projectId,m)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),_i(gE,"4.7.3",e),_i(gE,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4="firebasestorage.googleapis.com",g4="storageBucket",VV=2*60*1e3,UV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn extends Ai{constructor(e,n,r=0){super(Ig(e),`Firebase Storage: ${n} (${Ig(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ig(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gn||(gn={}));function Ig(t){return"storage/"+t}function Sv(){const t="An unknown error occurred, please check the error payload for server response.";return new xn(gn.UNKNOWN,t)}function BV(t){return new xn(gn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function zV(t){return new xn(gn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function HV(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xn(gn.UNAUTHENTICATED,t)}function $V(){return new xn(gn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function WV(t){return new xn(gn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function GV(){return new xn(gn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KV(){return new xn(gn.CANCELED,"User canceled the upload/download.")}function qV(t){return new xn(gn.INVALID_URL,"Invalid URL '"+t+"'.")}function XV(t){return new xn(gn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function YV(){return new xn(gn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+g4+"' property when initializing the app?")}function QV(){return new xn(gn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function JV(){return new xn(gn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ZV(t){return new xn(gn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ox(t){return new xn(gn.INVALID_ARGUMENT,t)}function x4(){return new xn(gn.APP_DELETED,"The Firebase app was deleted.")}function eU(t){return new xn(gn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function sh(t,e){return new xn(gn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Fu(t){throw new xn(gn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ss.makeFromUrl(e,n)}catch{return new ss(e,"")}if(r.path==="")return r;throw XV(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+s+o,"i"),h={bucket:1,path:3};function f(z){z.path_=decodeURIComponent(z.path)}const m="v[A-Za-z0-9_]+",x=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",_=new RegExp(`^https?://${x}/${m}/b/${s}/o${v}`,"i"),A={bucket:1,path:3},w=n===p4?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",M=new RegExp(`^https?://${w}/${s}/${N}`,"i"),O=[{regex:u,indices:h,postModify:i},{regex:_,indices:A,postModify:f},{regex:M,indices:{bucket:1,path:2},postModify:f}];for(let z=0;z<O.length;z++){const ne=O[z],re=ne.regex.exec(e);if(re){const P=re[ne.indices.bucket];let T=re[ne.indices.path];T||(T=""),r=new ss(P,T),ne.postModify(r);break}}if(r==null)throw qV(e);return r}}class tU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(t,e,n){let r=1,s=null,i=null,o=!1,u=0;function h(){return u===2}let f=!1;function m(...N){f||(f=!0,e.apply(null,N))}function x(N){s=setTimeout(()=>{s=null,t(_,h())},N)}function v(){i&&clearTimeout(i)}function _(N,...M){if(f){v();return}if(N){v(),m.call(null,N,...M);return}if(h()||o){v(),m.call(null,N,...M);return}r<64&&(r*=2);let O;u===1?(u=2,O=0):O=(r+Math.random())*1e3,x(O)}let A=!1;function w(N){A||(A=!0,v(),!f&&(s!==null?(N||(u=2),clearTimeout(s),x(0)):N||(u=1)))}return x(0),i=setTimeout(()=>{o=!0,w(!0)},n),w}function rU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(t){return t!==void 0}function iU(t){return typeof t=="object"&&!Array.isArray(t)}function bv(t){return typeof t=="string"||t instanceof String}function tT(t){return Nv()&&t instanceof Blob}function Nv(){return typeof Blob<"u"}function nT(t,e,n,r){if(r<e)throw Ox(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ox(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function v4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var nl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(nl||(nl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e,n,r,s,i,o,u,h,f,m,x,v=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=x,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,A)=>{this.resolve_=_,this.reject_=A,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Af(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=u=>{const h=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const u=i.getErrorCode()===nl.NO_ERROR,h=i.getStatus();if(!u||aU(h,this.additionalRetryCodes_)&&this.retry){const m=i.getErrorCode()===nl.ABORT;r(!1,new Af(!1,null,m));return}const f=this.successCodes_.indexOf(h)!==-1;r(!0,new Af(f,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());sU(h)?i(h):i()}catch(h){o(h)}else if(u!==null){const h=Sv();h.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,h)):o(h)}else if(s.canceled){const h=this.appDelete_?x4():KV();o(h)}else{const h=GV();o(h)}};this.canceled_?n(!1,new Af(!1,null,!0)):this.backoffId_=nU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&rU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Af{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function lU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function cU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function uU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function hU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function dU(t,e,n,r,s,i,o=!0){const u=v4(t.urlParams),h=t.url+u,f=Object.assign({},t.headers);return uU(f,e),lU(f,n),cU(f,i),hU(f,r),new oU(h,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function mU(...t){const e=fU();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Nv())return new Blob(t);throw new xn(gn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function pU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(t){if(typeof atob>"u")throw ZV("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Pg{constructor(e,n){this.data=e,this.contentType=n||null}}function xU(t,e){switch(t){case pi.RAW:return new Pg(y4(e));case pi.BASE64:case pi.BASE64URL:return new Pg(_4(t,e));case pi.DATA_URL:return new Pg(yU(e),_U(e))}throw Sv()}function y4(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function vU(t){let e;try{e=decodeURIComponent(t)}catch{throw sh(pi.DATA_URL,"Malformed data URL.")}return y4(e)}function _4(t,e){switch(t){case pi.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw sh(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case pi.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw sh(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=gU(e)}catch(s){throw s.message.includes("polyfill")?s:sh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class w4{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw sh(pi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=wU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function yU(t){const e=new w4(t);return e.base64?_4(pi.BASE64,e.rest):vU(e.rest)}function _U(t){return new w4(t).contentType}function wU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n){let r=0,s="";tT(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(tT(this.data_)){const r=this.data_,s=pU(r,e,n);return s===null?null:new Ya(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ya(r,!0)}}static getBlob(...e){if(Nv()){const n=e.map(r=>r instanceof Ya?r.data_:r);return new Ya(mU.apply(null,n))}else{const n=e.map(o=>bv(o)?xU(pi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let u=0;u<o.length;u++)s[i++]=o[u]}),new Ya(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t){let e;try{e=JSON.parse(t)}catch{return null}return iU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function TU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function T4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(t,e){return e}class Sr{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||SU}}let Cf=null;function bU(t){return!bv(t)||t.length<2?t:T4(t)}function S4(){if(Cf)return Cf;const t=[];t.push(new Sr("bucket")),t.push(new Sr("generation")),t.push(new Sr("metageneration")),t.push(new Sr("name","fullPath",!0));function e(i,o){return bU(o)}const n=new Sr("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Sr("size");return s.xform=r,t.push(s),t.push(new Sr("timeCreated")),t.push(new Sr("updated")),t.push(new Sr("md5Hash",null,!0)),t.push(new Sr("cacheControl",null,!0)),t.push(new Sr("contentDisposition",null,!0)),t.push(new Sr("contentEncoding",null,!0)),t.push(new Sr("contentLanguage",null,!0)),t.push(new Sr("contentType",null,!0)),t.push(new Sr("metadata","customMetadata",!0)),Cf=t,Cf}function NU(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new ss(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function AU(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return NU(r,t),r}function b4(t,e,n){const r=E4(e);return r===null?null:AU(t,r,n)}function CU(t,e,n,r){const s=E4(e);if(s===null||!bv(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(f=>{const m=t.bucket,x=t.fullPath,v="/b/"+o(m)+"/o/"+o(x),_=xm(v,n,r),A=v4({alt:"media",token:f});return _+A})[0]}function IU(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Av{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(t){if(!t)throw Sv()}function PU(t,e){function n(r,s){const i=b4(t,s,e);return N4(i!==null),i}return n}function kU(t,e){function n(r,s){const i=b4(t,s,e);return N4(i!==null),CU(i,s,t.host,t._protocol)}return n}function A4(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=$V():s=HV():n.getStatus()===402?s=zV(t.bucket):n.getStatus()===403?s=WV(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function C4(t){const e=A4(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=BV(t.path)),i.serverResponse=s.serverResponse,i}return n}function RU(t,e,n){const r=e.fullServerUrl(),s=xm(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,u=new Av(s,i,kU(t,n),o);return u.errorHandler=C4(e),u}function DU(t,e){const n=e.fullServerUrl(),r=xm(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(h,f){}const u=new Av(r,s,o,i);return u.successCodes=[200,204],u.errorHandler=C4(e),u}function jU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function OU(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=jU(null,e)),r}function FU(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function u(){let O="";for(let z=0;z<2;z++)O=O+Math.random().toString().slice(2);return O}const h=u();o["Content-Type"]="multipart/related; boundary="+h;const f=OU(e,r,s),m=IU(f,n),x="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+h+"--",_=Ya.getBlob(x,r,v);if(_===null)throw QV();const A={name:f.fullPath},w=xm(i,t.host,t._protocol),N="POST",M=t.maxUploadRetryTime,j=new Av(w,N,PU(t,n),M);return j.urlParams=A,j.headers=o,j.body=_.uploadData(),j.errorHandler=A4(e),j}class MU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=nl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=nl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=nl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Fu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class LU extends MU{initXhr(){this.xhr_.responseType="text"}}function Cv(){return new LU}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n){this._service=e,n instanceof ss?this._location=n:this._location=ss.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ul(e,n)}get root(){const e=new ss(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return T4(this._location.path)}get storage(){return this._service}get parent(){const e=EU(this._location.path);if(e===null)return null;const n=new ss(this._location.bucket,e);return new ul(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw eU(e)}}function VU(t,e,n){t._throwIfRoot("uploadBytes");const r=FU(t.storage,t._location,S4(),new Ya(e,!0),n);return t.storage.makeRequestWithTokens(r,Cv).then(s=>({metadata:s,ref:t}))}function UU(t){t._throwIfRoot("getDownloadURL");const e=RU(t.storage,t._location,S4());return t.storage.makeRequestWithTokens(e,Cv).then(n=>{if(n===null)throw JV();return n})}function BU(t){t._throwIfRoot("deleteObject");const e=DU(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Cv)}function zU(t,e){const n=TU(t._location.path,e),r=new ss(t._location.bucket,n);return new ul(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(t){return/^[A-Za-z]+:\/\//.test(t)}function $U(t,e){return new ul(t,e)}function I4(t,e){if(t instanceof Iv){const n=t;if(n._bucket==null)throw YV();const r=new ul(n,n._bucket);return e!=null?I4(r,e):r}else return e!==void 0?zU(t,e):t}function WU(t,e){if(e&&HU(e)){if(t instanceof Iv)return $U(t,e);throw Ox("To use ref(service, url), the first argument must be a Storage instance.")}else return I4(t,e)}function rT(t,e){const n=e?.[g4];return n==null?null:ss.makeFromBucketSpec(n,t)}function GU(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:oN(s,t.app.options.projectId))}class Iv{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=p4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=VV,this._maxUploadRetryTime=UV,this._requests=new Set,s!=null?this._bucket=ss.makeFromBucketSpec(s,this._host):this._bucket=rT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ss.makeFromBucketSpec(this._url,e):this._bucket=rT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ul(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new tU(x4());{const o=dU(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const sT="@firebase/storage",iT="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4="storage";function KU(t,e,n){return t=rn(t),VU(t,e,n)}function qU(t){return t=rn(t),UU(t)}function aT(t){return t=rn(t),BU(t)}function kg(t,e){return t=rn(t),WU(t,e)}function XU(t=P1(),e){t=rn(t);const r=Q0(t,P4).getImmediate({identifier:e}),s=sN("storage");return s&&YU(r,...s),r}function YU(t,e,n,r={}){GU(t,e,n,r)}function QU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Iv(n,r,s,e,ml)}function JU(){sl(new oo(P4,QU,"PUBLIC").setMultipleInstances(!0)),_i(sT,iT,""),_i(sT,iT,"esm2017")}JU();const ZU={apiKey:import.meta.env.VITE_Maps_API_KEY,authDomain:"tentcowork-estudiantes-v2.firebaseapp.com",projectId:"tentcowork-estudiantes-v2",storageBucket:"tentcowork-estudiantes-v2.firebasestorage.app",messagingSenderId:"136926815624",appId:"1:136926815624:web:3ed318eceb43e9f18cc63d",measurementId:"G-BY0ZWGM09W"},Pv=uN(ZU),On=OL(Pv),st=i4(Pv),Rg=XU(Pv),Mu=Sc.memo(({icon:t,type:e="text",name:n,placeholder:r,value:s,onChange:i,required:o=!1,autoComplete:u,children:h})=>c.jsx("div",{className:"relative",children:c.jsx("div",{className:"bg-gray-50 rounded-2xl p-4 border-2 border-gray-200 focus-within:border-tent-orange transition-all duration-200",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(t,{className:"text-gray-400",size:20}),h&&Sc.Children.count(h)>0?h:c.jsx("input",{type:e,name:n,value:s,onChange:i,placeholder:r,required:o,autoComplete:u,className:"bg-transparent text-lg flex-1 focus:outline-none text-gray-800 placeholder-gray-500"})]})})})),e7=Sc.memo(({universities:t,selectedValue:e,onSelect:n})=>{const[r,s]=ee.useState(!1),[i,o]=ee.useState(""),u=ee.useRef(null),h=t.filter(x=>x.label.toLowerCase().includes(i.toLowerCase()));ee.useEffect(()=>{const x=v=>{u.current&&!u.current.contains(v.target)&&(s(!1),o(""))};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const f=x=>{n(x),s(!1),o("")},m=t.find(x=>x.value===e);return c.jsxs("div",{className:"relative",ref:u,children:[c.jsx("div",{className:"bg-gray-50 rounded-2xl p-4 border-2 border-gray-200 focus-within:border-tent-orange transition-all duration-200",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Hb,{className:"text-gray-400",size:20}),c.jsx("button",{type:"button",onClick:()=>s(!r),className:"bg-transparent text-lg flex-1 focus:outline-none text-left",children:c.jsx("span",{className:m?"text-gray-800":"text-gray-500",children:m?m.label:"Seleccioná tu universidad"})}),c.jsx(Te.div,{animate:{rotate:r?180:0},transition:{duration:.2},children:c.jsx(K0,{className:"text-gray-400",size:20})})]})}),c.jsx(un,{children:r&&c.jsxs(Te.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute z-50 w-full mt-2 bg-white border-2 border-gray-200 rounded-2xl shadow-2xl max-h-80 overflow-hidden",children:[c.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(X0,{className:"text-gray-400",size:18}),c.jsx("input",{type:"text",placeholder:"Buscar universidad...",value:i,onChange:x=>o(x.target.value),className:"bg-transparent text-sm flex-1 focus:outline-none text-gray-800 placeholder-gray-500"})]})}),c.jsx("div",{className:"overflow-y-auto max-h-60 custom-scrollbar",children:h.length===0?c.jsx("div",{className:"p-4 text-center text-gray-500",children:"No se encontraron universidades"}):h.map(x=>c.jsxs(Te.button,{type:"button",onClick:()=>f(x),className:"w-full p-4 text-left hover:bg-tent-orange hover:bg-opacity-10 transition-all duration-200 flex items-center justify-between group",whileHover:{x:4},children:[c.jsx("span",{className:"text-gray-800 text-sm font-medium group-hover:text-tent-orange",children:x.label}),e===x.value&&c.jsx(A5,{className:"text-tent-orange",size:16})]},x.value))})]})})]})});function t7(){const t=Lh(),[e,n]=ee.useState({nombre:"",universidad:"",carrera:"",telefono:"",email:"",password:""}),[r,s]=ee.useState(null),[i,o]=ee.useState(!1),[u,h]=ee.useState(""),f=Sc.useMemo(()=>[{value:"UNCUYO",label:"Universidad Nacional de Cuyo (UNCUYO)"},{value:"UTN",label:"Universidad Tecnológica Nacional (UTN)"},{value:"UM",label:"Universidad de Mendoza (UM)"},{value:"UDA",label:"Universidad del Aconcagua (UDA)"},{value:"UCH",label:"Universidad Champagnat (UCH)"},{value:"Ucongreso",label:"Universidad de Congreso"},{value:"UMaza",label:"Universidad Juan Agustín Maza (UMaza)"},{value:"UCA",label:"Universidad Católica Argentina (UCA)"},{value:"Siglo21",label:"Universidad Siglo 21"},{value:"ITU",label:"Instituto Tecnológico Universitario (ITU - UNCUYO)"},{value:"ESTIM",label:"Instituto de Educación Superior N°9–021 (ESTIM)"},{value:"ITES",label:"Instituto Tecnológico de Educación Superior (ITES)"},{value:"ISEP",label:"Instituto de Seguridad Pública (ISEP)"},{value:"Otra",label:"Otra"}],[]),m=ee.useCallback(A=>{const{name:w,value:N}=A.target;n(M=>({...M,[w]:N})),u&&h("")},[u]),x=ee.useCallback(A=>{n(w=>({...w,universidad:A.value})),u&&h("")},[u]),v=ee.useCallback(()=>Math.floor(1e4+Math.random()*9e4).toString(),[]),_=async A=>{A.preventDefault(),o(!0),h("");try{console.log("Iniciando registro..."),console.log("Form data:",e),console.log("Creando usuario en Firebase Auth...");const N=(await vM(On,e.email,e.password)).user.uid;console.log("Usuario creado con UID:",N);const M=v();console.log("Código generado:",M);const j={uid:N,fullName:e.nombre,university:e.universidad,carrera:e.carrera,phone:e.telefono,email:e.email,accessCode:M,isCheckedIn:!1,plan:null,activo:!1,role:"student",createdAt:Jf(),lastCheckInTimestamp:null};console.log("Datos a guardar en Firestore:",j),console.log("Guardando en Firestore...");const O=await gm(zt(st,"students"),j);console.log("Documento creado con ID:",O.id),s(M),console.log("Registro completado exitosamente")}catch(w){console.error("Error completo:",w),console.error("Error code:",w.code),console.error("Error message:",w.message),w.code==="auth/email-already-in-use"?h("Este email ya está registrado."):w.code==="auth/weak-password"?h("La contraseña debe tener al menos 6 caracteres."):w.code==="auth/invalid-email"?h("El formato del email no es válido."):w.code==="permission-denied"?h("Error de permisos. Revisa las reglas de Firebase."):h(`Error: ${w.message}`)}o(!1)};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4",children:[i&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:"w-16 h-16 border-4 border-tent-orange border-dashed rounded-full animate-spin mb-4"}),c.jsx("p",{className:"text-white text-lg font-medium",children:"Registrando..."})]})}),c.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-28 h-28 rounded-full overflow-hidden bg-white shadow-lg mx-auto mb-6",children:c.jsx("img",{src:"public/logorecortadoo.jpg",alt:"Logo Tent",className:"object-cover w-full h-full"})}),c.jsx("h1",{className:"text-3xl font-bold text-tent-orange mb-2",children:"Cowork Estudiantes"}),c.jsx("p",{className:"text-gray-600 text-base",children:"Completa tus datos para comenzar"})]}),c.jsx(un,{mode:"wait",children:r?c.jsxs(Te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center space-y-6",children:[c.jsx("div",{className:"w-20 h-20 rounded-full bg-tent-green flex items-center justify-center mx-auto mb-4",children:c.jsx(gr,{className:"text-white",size:32})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"¡Registro exitoso!"}),c.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[c.jsx("p",{className:"text-gray-600 mb-2",children:"Tu código de acceso es:"}),c.jsx("p",{className:"text-3xl font-bold text-tent-orange font-mono tracking-wider",children:r})]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Guarda este código, lo necesitarás para hacer check-in"})]}),c.jsx(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t("/Profile"),className:"w-full py-3 bg-tent-orange text-white rounded-xl font-medium hover:bg-yellow-600 transition-all duration-200",children:"Ir al perfil"})]},"success"):c.jsxs(Te.form,{initial:{opacity:0},animate:{opacity:1},onSubmit:_,className:"space-y-4",children:[u&&c.jsx(Te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-xl p-3 text-red-700 text-sm",children:u}),c.jsx(Mu,{icon:to,name:"nombre",placeholder:"Nombre completo",value:e.nombre,onChange:m,required:!0,autoComplete:"name"}),c.jsx(e7,{universities:f,selectedValue:e.universidad,onSelect:x}),c.jsx(Mu,{icon:s0,name:"carrera",placeholder:"Carrera",value:e.carrera,onChange:m,required:!0,autoComplete:"off"}),c.jsx(Mu,{icon:_h,type:"tel",name:"telefono",placeholder:"Teléfono",value:e.telefono,onChange:m,required:!0,autoComplete:"tel"}),c.jsx(Mu,{icon:yi,type:"email",name:"email",placeholder:"Email",value:e.email,onChange:m,required:!0,autoComplete:"email"}),c.jsx(Mu,{icon:Qb,type:"password",name:"password",placeholder:"Contraseña",value:e.password,onChange:m,required:!0,autoComplete:"new-password"}),c.jsxs(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:i,className:"w-full py-4 bg-tent-orange text-white rounded-xl font-medium hover:bg-yellow-600 transition-all duration-200 flex items-center justify-center space-x-2 disabled:opacity-50",children:[c.jsx(j6,{size:20}),c.jsx("span",{children:"Registrarme"})]}),c.jsx(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:()=>t("/login"),className:"w-full py-3 text-tent-orange font-medium hover:underline rounded-xl transition-all duration-200",children:"¿Ya tienes cuenta? Inicia sesión"})]},"form")})]})]})}function oT(){return c.jsx(t7,{})}const lT=t=>t?typeof t=="string"?new Date(t):t instanceof Mt||t&&typeof t=="object"&&"toDate"in t?t.toDate():null:null;function n7(t){if(!t||!t.startHour||!t.endHour)return console.log("❌ Plan sin horarios definidos",t),!1;const e=new Date,n=e.getHours()*100+e.getMinutes(),r=String(t.startHour).replace(":",""),s=String(t.endHour).replace(":",""),i=parseInt(r),o=parseInt(s);console.log("=== VERIFICACIÓN DE HORARIOS (SERVICE) ==="),console.log("Hora actual:",e.toLocaleTimeString()),console.log("Hora actual (numérica):",n),console.log("Horario del plan:",`${t.startHour} - ${t.endHour}`),console.log("Hora inicio (numérica):",i),console.log("Hora fin (numérica):",o);const u=n>=i&&n<=o;return console.log("Dentro del horario:",u),u}function k4(t){if(!t||!t.fechaDesde||!t.fechaHasta)return console.log("❌ Membresía sin fechas válidas",t),!1;const e=new Date,n=lT(t.fechaDesde),r=lT(t.fechaHasta);return console.log("=== VERIFICACIÓN DE MEMBRESÍA (SERVICE) ==="),console.log("Hoy:",e.toISOString()),console.log("Desde:",n?.toISOString()||"null"),console.log("Hasta:",r?.toISOString()||"null"),!n||!r?(console.log("❌ Fechas inválidas"),!1):e<n?(console.log("❌ Membresía aún no activada"),!1):e>r?(console.log("❌ Membresía vencida"),!1):(console.log("✅ Membresía activa"),!0)}const R4=async t=>{try{if(console.log("=== OBTENIENDO DATOS DEL PLAN ==="),console.log("planRef recibido:",t),console.log("Tipo de planRef:",typeof t),t&&typeof t=="object"&&t.startHour&&t.endHour)return console.log("✅ Plan ya tiene horarios completos"),t;if(typeof t=="string"){console.log("🔍 Buscando plan por nombre:",t);const r=zt(st,"plans"),s=Zs(r,Ss("name","==",t)),i=await Wt(s);if(i.empty)console.log("❌ No se encontró plan con nombre:",t);else{const o=i.docs[0].data();return console.log("✅ Plan encontrado por nombre:",o),o}}if(t&&t.name){console.log("🔍 Buscando plan por campo name:",t.name);const r=zt(st,"plans"),s=Zs(r,Ss("name","==",t.name)),i=await Wt(s);if(!i.empty){const o=i.docs[0].data();return console.log("✅ Plan encontrado por campo name:",o),o}}console.log("🔍 Listando todos los planes disponibles para debug...");const e=zt(st,"plans"),n=await Wt(e);return console.log("Planes disponibles:"),n.docs.forEach((r,s)=>{console.log(`Plan ${s+1}:`,r.data())}),console.log("❌ No se encontró el plan o no tiene horarios"),null}catch(e){return console.error("❌ Error obteniendo datos del plan:",e),null}},r7=async t=>{const e=zt(st,"students"),n=Zs(e,Ss("accessCode","==",t)),r=await Wt(n);if(r.empty)throw new Error("Código no encontrado.");const s=r.docs[0].data();console.log("=== DATOS DEL ESTUDIANTE (SERVICE) ==="),console.log("Student data original:",s),console.log("Membresía:",s.membresia),console.log("Plan (original):",s.plan);const i=await R4(s.plan);if(console.log("Plan completo obtenido:",i),!k4(s.membresia))throw new Error("No tenés una membresía activa.");const o={...s,plan:i||s.plan};return console.log("=== ESTUDIANTE COMPLETO FINAL ==="),console.log("Student completo:",o),console.log("Tiene fullName:",!!o.fullName),console.log("Tiene email:",!!o.email),console.log("Tiene membresia:",!!o.membresia),o},s7=async t=>{const e=i4(),n=t.trim().toLowerCase(),r=Zs(zt(e,"students"),Ss("email","==",n)),s=await Wt(r);if(s.empty)throw new Error("No se encontró ningún estudiante con ese email.");const o=s.docs[0].data();if(!o.accessCode)throw new Error("No se encontró un código de acceso asociado.");return o.accessCode},i7=async t=>{const e=zt(st,"students"),n=Zs(e,Ss("accessCode","==",t)),r=await Wt(n);if(r.empty)return{mensaje:"Código no encontrado.",estado:"rechazado"};const s=r.docs[0],i=s.data(),o=s.id;console.log("=== CHECK IN/OUT (SERVICE) ==="),console.log("Student:",i),console.log("Membresía:",i.membresia),console.log("Plan (original):",i.plan),console.log("isCheckedIn:",i.isCheckedIn);const u=await R4(i.plan);if(console.log("Plan completo para check-in/out:",u),!k4(i.membresia))return{mensaje:"No tenés una membresía activa.",estado:"rechazado"};if(!n7(u))return{mensaje:`No estás dentro del horario permitido. Tu plan "${u?.name||"actual"}" permite acceso de ${u?.startHour} a ${u?.endHour}`,estado:"rechazado"};const h=zt(st,"sessions");if(i.isCheckedIn){await Fn($t(st,"students",o),{isCheckedIn:!1});const f=Zs(h,Ss("studentId","==",o),Ss("checkOutTimestamp","==",null)),m=await Wt(f);if(!m.empty){const x=m.docs[0],v=x.data().checkInTimestamp.toDate(),A=Math.max(0,Math.round((new Date().getTime()-v.getTime())/6e4));await Fn($t(st,"sessions",x.id),{checkOutTimestamp:Jf(),durationMinutes:A})}return{mensaje:`¡Hasta luego, ${i.fullName}!`,estado:"salida"}}else return await Fn($t(st,"students",o),{isCheckedIn:!0,lastCheckInTimestamp:Jf()}),await gm(h,{studentId:o,fullName:i.fullName,email:i.email,checkInTimestamp:Jf(),checkOutTimestamp:null,durationMinutes:null}),{mensaje:`¡Bienvenido, ${i.fullName}!`,estado:"entrada"}},a7=({onKeyPress:t,onDelete:e,onSubmit:n})=>{const r=[["1","2","3"],["4","5","6"],["7","8","9"],["0"]];return c.jsxs("div",{className:"grid grid-cols-3 gap-4 max-w-xs mx-auto",children:[r.flat().map(s=>c.jsx(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(s),className:"h-16 bg-white border-2 border-gray-200 rounded-xl text-2xl font-semibold text-gray-800 hover:border-blue-400 hover:bg-blue-50 transition-all duration-200 shadow-sm",children:s},s)),c.jsx(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"h-16 bg-red-500 text-white rounded-xl font-semibold hover:bg-red-600 transition-all duration-200 shadow-sm flex items-center justify-center",children:c.jsx(V5,{size:24})}),c.jsx(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"h-16 bg-green-500 text-white rounded-xl font-semibold hover:bg-green-600 transition-all duration-200 shadow-sm flex items-center justify-center",children:c.jsx(Ac,{size:24})})]})},o7=()=>{const[t,e]=ee.useState(""),[n,r]=ee.useState(!1),[s,i]=ee.useState(null),[o,u]=ee.useState(!1),[h,f]=ee.useState(""),[m,x]=ee.useState(null);ee.useEffect(()=>{if(s&&s.success&&!s.recovery&&s.user){x(5);const T=setInterval(()=>{x(b=>b===null||b<=1?(clearInterval(T),O(),null):b-1)},1e3);return()=>clearInterval(T)}},[s]),ee.useEffect(()=>{(!s||!s.success||s.recovery||!s.user)&&x(null)},[s]);const v=T=>T?typeof T=="string"?new Date(T):T instanceof Mt||T&&typeof T=="object"&&"toDate"in T?T.toDate():null:null,_=T=>{if(!T||!T.startHour||!T.endHour)return console.log("❌ Plan sin horarios definidos",T),{permitido:!1,mensaje:"Plan sin horarios definidos"};const b=new Date,R=b.getHours()*100+b.getMinutes(),I=String(T.startHour).replace(":",""),L=String(T.endHour).replace(":",""),k=parseInt(I),Ae=parseInt(L);return console.log("=== VERIFICACIÓN DE HORARIOS ==="),console.log("Hora actual:",b.toLocaleTimeString()),console.log("Hora actual (numérica):",R),console.log("Horario del plan:",`${T.startHour} - ${T.endHour}`),console.log("Hora inicio (numérica):",k),console.log("Hora fin (numérica):",Ae),R>=k&&R<=Ae?(console.log("✅ Acceso dentro del horario permitido"),{permitido:!0,mensaje:`Acceso permitido (${T.startHour} - ${T.endHour})`}):(console.log("❌ Acceso fuera del horario permitido"),{permitido:!1,mensaje:`Acceso fuera del horario permitido. Tu plan "${T.name||"actual"}" permite acceso de ${T.startHour} a ${T.endHour}`})},A=T=>{if(!T||!T.fechaDesde||!T.fechaHasta)return{status:"pendiente",diasRestantes:0,mensaje:"Membresía pendiente de activación"};const b=new Date,R=v(T.fechaDesde),I=v(T.fechaHasta);if(console.log("=== VERIFICACIÓN DE MEMBRESÍA ==="),console.log("Hoy:",b.toISOString()),console.log("Desde:",R?.toISOString()||"null"),console.log("Hasta:",I?.toISOString()||"null"),!R||!I)return{status:"pendiente",diasRestantes:0,mensaje:"Fechas de membresía inválidas"};if(b<R)return console.log("❌ Membresía aún no activada (fecha futura)"),{status:"pendiente",diasRestantes:0,mensaje:"Membresía aún no activada"};if(b>I)return console.log("❌ Membresía vencida"),{status:"vencida",diasRestantes:0,mensaje:"Membresía vencida"};const L=I.getTime()-b.getTime(),k=Math.ceil(L/(1e3*3600*24));return console.log("✅ Membresía válida"),console.log("Días restantes:",k),k<=7?(console.log("⚠️ Membresía por vencer"),{status:"por_vencer",diasRestantes:k,mensaje:`Membresía por vencer en ${k} días`}):(console.log("✅ Membresía activa"),{status:"activa",diasRestantes:k,mensaje:"Membresía activa"})},w=T=>{t.length!==5&&e(b=>b+T)},N=()=>{e(T=>T.slice(0,-1))},M=async()=>{if(!(t.length<3)){r(!0),i(null);try{const T=await r7(t);if(console.log("=== ESTUDIANTE OBTENIDO ==="),console.log("Datos del estudiante:",T),console.log("Membresía:",T?.membresia),console.log("Plan:",T?.plan),!T)throw new Error("No se pudieron obtener los datos del estudiante");const b=A(T.membresia);if(console.log("Estado de membresía calculado:",b),b.status==="vencida"){i({success:!1,message:"Acceso denegado: Tu membresía ha vencido. Contacta al administrador para renovarla.",user:{name:T.fullName||"Usuario",email:T.email||"",plan:T.membresia?.nombre||T.plan?.name||"Sin plan",membresiaStatus:"vencida",fechaDesde:T.membresia?.fechaDesde,fechaHasta:T.membresia?.fechaHasta,diasRestantes:0}}),r(!1);return}if(b.status==="pendiente"){i({success:!1,message:"Acceso denegado: Tu membresía está pendiente de activación. Realiza el pago para activarla.",user:{name:T.fullName||"Usuario",email:T.email||"",plan:T.membresia?.nombre||T.plan?.name||"Sin plan",membresiaStatus:"pendiente",fechaDesde:T.membresia?.fechaDesde,fechaHasta:T.membresia?.fechaHasta,diasRestantes:0}}),r(!1);return}const R=_(T.plan);if(!R.permitido){i({success:!1,message:R.mensaje,user:{name:T.fullName||"Usuario",email:T.email||"",plan:T.membresia?.nombre||T.plan?.name||"Sin plan",membresiaStatus:b.status,fechaDesde:T.membresia?.fechaDesde,fechaHasta:T.membresia?.fechaHasta,diasRestantes:b.diasRestantes}}),r(!1);return}const{mensaje:I,estado:L}=await i7(t);i({success:L!=="rechazado",message:I,action:L==="entrada"?"check-in":"check-out",time:new Date().toLocaleTimeString(),user:{name:T.fullName||"Usuario",email:T.email||"",plan:T.membresia?.nombre||T.plan?.name||"Sin plan",membresiaStatus:b.status,fechaDesde:T.membresia?.fechaDesde,fechaHasta:T.membresia?.fechaHasta,diasRestantes:b.diasRestantes}})}catch(T){console.error("Error en check-in:",T),i({success:!1,message:T instanceof Error?T.message:"Error desconocido"})}r(!1)}},j=async()=>{r(!0);try{const T=await s7(h);i({success:!0,message:`Tu código de acceso es: ${T}`,recovery:!0}),u(!1)}catch(T){i({success:!1,message:T instanceof Error?T.message:"Error al recuperar el código"})}r(!1)},O=()=>{e(""),i(null),u(!1),f(""),x(null)},z=T=>{switch(T){case"activa":return"text-green-600";case"por_vencer":return"text-orange-600";case"vencida":return"text-red-600";case"pendiente":return"text-yellow-600";default:return"text-gray-600"}},ne=T=>{switch(T){case"activa":return c.jsx(gr,{size:16,className:"text-green-600"});case"por_vencer":return c.jsx(i0,{size:16,className:"text-orange-600"});case"vencida":return c.jsx(Ks,{size:16,className:"text-red-600"});case"pendiente":return c.jsx(qs,{size:16,className:"text-yellow-600"});default:return c.jsx(qs,{size:16,className:"text-gray-600"})}},re=(T,b)=>{switch(T){case"activa":return`Activa (${b} días restantes)`;case"por_vencer":return`Por vencer (${b} días)`;case"vencida":return"Vencida";case"pendiente":return"Pendiente de pago";default:return"Estado desconocido"}},P=T=>{const b=v(T);return b?b.toLocaleDateString():"N/A"};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4",children:[c.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md mx-auto",children:[c.jsxs("div",{className:"text-center mb-1",children:[c.jsx("div",{className:"w-28 h-28 rounded-full overflow-hidden bg-white shadow-lg mx-auto mb-6",children:c.jsx("img",{src:"public/logorecortadoo.jpg",alt:"Logo Tent",className:"object-cover w-full h-full"})}),c.jsx("h1",{className:"text-3xl font-bold text-tent-orange mb-2",children:"Check-in / Check-out"}),c.jsx("h2",{className:"text-2xl font-bold text-tent-green mb-3",children:"Estudiantes"}),c.jsx("p",{className:"text-gray-600 text-base",children:"Ingresa tu código de acceso"})]}),n&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:"w-16 h-16 border-4 border-tent-orange border-dashed rounded-full animate-spin mb-4"}),c.jsx("p",{className:"text-white text-lg font-medium",children:"Verificando acceso..."})]})}),c.jsx(un,{mode:"wait",children:o?c.jsxs(Te.div,{className:"space-y-6",children:[c.jsxs("div",{className:"text-center mb-5",children:[c.jsx(yi,{className:"text-tent-orange mx-auto mb-2",size:32}),c.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Recuperar código"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Ingresa tu email registrado"})]}),c.jsx("div",{className:"bg-gray-50 rounded-2xl p-4 border-2 border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(yi,{className:"text-gray-400",size:20}),c.jsx("input",{type:"email",value:h,onChange:T=>f(T.target.value),placeholder:"tu@email.com",className:"bg-transparent text-lg flex-1 focus:outline-none text-gray-800"})]})}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>u(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-all duration-200",children:"Cancelar"}),c.jsx(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:j,disabled:!h||n,className:"flex-1 py-3 bg-tent-orange text-white rounded-xl font-medium hover:bg-orange-600 transition-all duration-200 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Enviar"})]})]},"recovery"):c.jsxs(Te.div,{className:"space-y-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"bg-gray-50 rounded-2xl p-4 border-2 border-gray-200 focus-within:border-blue-400 transition-all duration-200",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(to,{className:"text-gray-400",size:20}),c.jsx("input",{type:"text",value:t,readOnly:!0,placeholder:"Código de acceso",className:"bg-transparent text-2xl font-mono text-center flex-1 focus:outline-none text-gray-800"})]})}),c.jsx("div",{className:"flex justify-center mt-3 space-x-2",children:Array.from({length:5}).map((T,b)=>c.jsx("div",{className:`w-3 h-3 rounded-full transition-all duration-200 ${b<t.length?"bg-tent-orange":"bg-gray-300"}`},b))})]}),c.jsx(a7,{onKeyPress:w,onDelete:N,onSubmit:M}),c.jsx(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>u(!0),className:"w-full py-3 text-tent-orange font-medium hover:underline rounded-xl transition-all duration-200",children:"¿Olvidaste tu código?"})]},"checkin")})]}),c.jsx(un,{children:s&&c.jsx(Te.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs(Te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:`rounded-3xl p-8 max-w-sm w-full text-center ${s.recovery,"bg-white"}`,children:[c.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 ${s.success?"bg-tent-green":"bg-red-100"}`,children:s.success?c.jsx(gr,{className:"text-white",size:32}):s.message.includes("horario")?c.jsx(Cr,{className:"text-red-600",size:32}):c.jsx(Ks,{className:"text-red-600",size:32})}),s.recovery?c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-xl font-semibold mb-2 text-tent-green",children:"Código encontrado"}),c.jsx("p",{className:"text-gray-600",children:s.message})]}):s.success&&s.user?c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:s.action==="check-in"?"¡Bienvenido!":"¡Hasta pronto!"}),c.jsx("p",{className:"text-gray-600 mb-4",children:s.user.name}),c.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-2 mb-4",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Plan:"}),c.jsx("span",{className:"font-medium",children:s.user.plan})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Hora:"}),c.jsx("span",{className:"font-medium",children:s.time})]}),s.user.membresiaStatus&&c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Estado:"}),c.jsxs("div",{className:"flex items-center space-x-1",children:[ne(s.user.membresiaStatus),c.jsx("span",{className:`font-medium ${z(s.user.membresiaStatus)}`,children:re(s.user.membresiaStatus,s.user.diasRestantes)})]})]}),s.user.fechaHasta&&c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Válido hasta:"}),c.jsx("span",{className:"font-medium",children:P(s.user.fechaHasta)})]})]}),s.user.membresiaStatus==="por_vencer"&&c.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3 mb-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(qs,{className:"text-orange-600",size:16}),c.jsx("span",{className:"text-sm text-orange-800 font-medium",children:"Tu membresía vence pronto. ¡Renuévala para continuar!"})]})}),m&&c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-4",children:c.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[c.jsx(i0,{className:"text-green-600",size:16}),c.jsxs("span",{className:"text-sm text-green-800 font-medium",children:["Cerrando en ",m," segundo",m!==1?"s":"","..."]})]})})]}):c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"text-xl font-semibold text-red-600 mb-2",children:s.message.includes("horario")?"Fuera de Horario":s.user?.membresiaStatus==="vencida"?"Membresía Vencida":s.user?.membresiaStatus==="pendiente"?"Membresía Pendiente":"Error"}),c.jsx("p",{className:"text-gray-600 mb-4",children:s.message}),s.user&&c.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-2 mb-4",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Estudiante:"}),c.jsx("span",{className:"font-medium",children:s.user.name})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Plan:"}),c.jsx("span",{className:"font-medium",children:s.user.plan})]}),s.user.membresiaStatus&&c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Estado:"}),c.jsxs("div",{className:"flex items-center space-x-1",children:[ne(s.user.membresiaStatus),c.jsx("span",{className:`font-medium ${z(s.user.membresiaStatus)}`,children:re(s.user.membresiaStatus,s.user.diasRestantes)})]})]}),s.user.fechaHasta&&c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:s.user.membresiaStatus==="vencida"?"Venció el:":"Válido hasta:"}),c.jsx("span",{className:"font-medium",children:P(s.user.fechaHasta)})]})]}),s.message.includes("horario")&&c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Cr,{className:"text-blue-600",size:16}),c.jsx("span",{className:"text-sm text-blue-800 font-medium",children:"Intenta acceder durante el horario permitido de tu plan"})]})})]}),!(s.success&&s.user&&m)&&c.jsx(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:O,className:"w-full py-3 bg-tent-orange text-white rounded-xl font-medium hover:bg-orange-600 transition-all duration-200",children:"Continuar"})]})})})]})};function l7(){return c.jsx(o7,{})}function c7(){const[t,e]=ee.useState({email:"",password:""}),[n,r]=ee.useState(""),[s,i]=ee.useState(""),[o,u]=ee.useState(!1),[h,f]=ee.useState(!1),[m,x]=ee.useState(""),v=Lh(),_=M=>{e({...t,[M.target.name]:M.target.value}),r(""),i("")},A=async M=>{M.preventDefault(),r(""),i(""),u(!0);try{const O=(await yM(On,t.email,t.password)).user.uid,z=$t(st,"admin",O);if((await Ph(z)).exists()){v("/admin");return}const re=Zs(zt(st,"students"),Ss("uid","==",O)),P=await Wt(re);if(!P.empty){P.docs[0].data().rol==="admin"?v("/admin"):v("/profile");return}r("Tu cuenta no está registrada correctamente."),await Rc(On)}catch(j){console.error(j),r("Login fallido. Verifica tus datos.")}finally{u(!1)}},w=async()=>{const M=h?m:t.email;if(!M){r("Ingresá tu email para recuperar la contraseña.");return}u(!0);try{await ON(On,M),i("Enlace enviado. Revisá tu correo y tu carpeta de spam."),r(""),h&&(f(!1),x(""))}catch(j){console.error(j),r("No pudimos enviar el correo. Verificá que el email sea correcto."),i("")}finally{u(!1)}},N=async()=>{r(""),i(""),u(!0);try{const M=new Ki,z=(await $M(On,M)).user.uid;if((await(await fetch(`http://localhost:4000/api/is-admin/${z}`)).json()).isAdmin){v("/admin");return}const P=Zs(zt(st,"students"),Ss("uid","==",z));if(!(await Wt(P)).empty){v("/profile");return}r("Tu cuenta de Google no está registrada. Registrate primero desde el formulario."),await Rc(On)}catch(M){console.error(M),r("No se pudo iniciar sesión con Google.")}finally{u(!1)}};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4",children:[o&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:"w-16 h-16 border-4 border-tent-orange border-dashed rounded-full animate-spin mb-4"}),c.jsx("p",{className:"text-white text-lg font-medium",children:"Cargando..."})]})}),c.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-28 h-28 rounded-full overflow-hidden bg-white shadow-lg mx-auto mb-6",children:c.jsx("img",{src:"public/logorecortadoo.jpg",alt:"Logo Tent",className:"object-cover w-full h-full"})}),c.jsx("h1",{className:"text-3xl font-bold text-tent-orange mb-2",children:"Cowork Estudiantes"}),c.jsx("p",{className:"text-gray-600 text-base",children:"Ingresa a tu cuenta"})]}),c.jsxs(un,{children:[n&&c.jsxs(Te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-red-50 border border-red-200 text-red-700 text-sm rounded-2xl p-4 mb-4 flex items-center space-x-2",children:[c.jsx(Ks,{size:20}),c.jsx("span",{children:n})]}),s&&c.jsxs(Te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-green-50 border border-green-200 text-green-700 text-sm rounded-2xl p-4 mb-4 flex items-center space-x-2",children:[c.jsx(gr,{size:20}),c.jsx("span",{children:s})]})]}),c.jsx(un,{mode:"wait",children:h?c.jsxs(Te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx(yi,{className:"text-tent-orange mx-auto mb-3",size:32}),c.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Recuperar contraseña"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Ingresa tu email para recibir el enlace de recuperación"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),c.jsx("div",{className:"bg-gray-50 rounded-2xl p-4 border-2 border-gray-200 focus-within:border-tent-orange transition-all duration-200",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(yi,{className:"text-gray-400",size:20}),c.jsx("input",{type:"email",value:m,onChange:M=>x(M.target.value),placeholder:"tu@email.com",className:"bg-transparent text-lg flex-1 focus:outline-none text-gray-800"})]})})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>f(!1),className:"flex-1 py-3 bg-gray-100 text-gray-700 rounded-2xl font-medium hover:bg-gray-200 transition-all duration-200",children:"Cancelar"}),c.jsx(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:w,disabled:!m||o,className:"flex-1 py-3 bg-tent-orange text-white rounded-2xl font-medium hover:bg-yellow-600 transition-all duration-200 disabled:opacity-70",children:o?"Enviando...":"Enviar"})]})]},"recovery"):c.jsxs(Te.div,{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),c.jsx("div",{className:"bg-gray-50 rounded-2xl p-4 border-2 border-gray-200 focus-within:border-tent-orange transition-all duration-200",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(yi,{className:"text-gray-400",size:20}),c.jsx("input",{type:"email",name:"email",value:t.email,onChange:_,required:!0,placeholder:"tu@email.com",className:"bg-transparent text-lg flex-1 focus:outline-none text-gray-800"})]})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contraseña"}),c.jsx("div",{className:"bg-gray-50 rounded-2xl p-4 border-2 border-gray-200 focus-within:border-tent-orange transition-all duration-200",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Qb,{className:"text-gray-400",size:20}),c.jsx("input",{type:"password",name:"password",value:t.password,onChange:_,required:!0,placeholder:"Tu contraseña",className:"bg-transparent text-lg flex-1 focus:outline-none text-gray-800",onKeyDown:M=>M.key==="Enter"&&A(M)})]})})]}),c.jsx(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:A,disabled:o,className:"w-full py-4 bg-tent-orange text-white font-semibold rounded-2xl hover:bg-yellow-600 transition-all duration-200 shadow-lg disabled:opacity-70",children:o?"Ingresando...":"Ingresar"}),c.jsxs(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:N,className:"w-full flex items-center justify-center gap-3 py-3 bg-gray-100 text-gray-800 font-medium rounded-full hover:bg-gray-200 transition-all duration-200 shadow-sm",children:[c.jsx("img",{src:"/public/google.png",alt:"Google logo",className:"w-5 h-5"}),c.jsx("span",{children:c.jsx("h1",{children:c.jsx("b",{children:"Iniciar sesión con Google"})})})]}),c.jsx(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:()=>f(!0),className:"w-full py-3 text-tent-orange font-medium hover:underline rounded-xl transition-all duration-200",children:"¿Olvidaste tu contraseña?"})]},"login")})]})]})}function u7(){return c.jsx(c7,{})}const h7=async t=>{try{const e=$t(st,"admins",t);return(await Ph(e)).exists()}catch(e){return console.error("Error verificando admin:",e),!1}},D4=ee.createContext({user:null,loading:!0,isAdmin:!1,checkAdminStatus:async()=>!1}),d7=()=>ee.useContext(D4),f7=({children:t})=>{const[e,n]=ee.useState(null),[r,s]=ee.useState(!0),[i,o]=ee.useState(!1),u=async()=>{if(!e)return!1;try{const h=await h7(e.uid);return o(h),h}catch{return console.log("Usuario no es admin"),o(!1),!1}};return ee.useEffect(()=>SM(On,async f=>{f?(n(f),o(!1)):(n(null),o(!1)),s(!1)}),[]),c.jsx(D4.Provider,{value:{user:e,loading:r,isAdmin:i,checkAdminStatus:u},children:t})},m7=({estudiante:t,onUpdate:e,onMessage:n})=>{const r=ee.useCallback(()=>[{value:"UNCUYO",label:"Universidad Nacional de Cuyo (UNCUYO)"},{value:"UTN",label:"Universidad Tecnológica Nacional (UTN)"},{value:"UM",label:"Universidad de Mendoza (UM)"},{value:"UDA",label:"Universidad del Aconcagua (UDA)"},{value:"UCH",label:"Universidad Champagnat (UCH)"},{value:"Ucongreso",label:"Universidad de Congreso"},{value:"UMaza",label:"Universidad Juan Agustín Maza (UMaza)"},{value:"UCA",label:"Universidad Católica Argentina (UCA)"},{value:"Siglo21",label:"Universidad Siglo 21"},{value:"ITU",label:"Instituto Tecnológico Universitario (ITU - UNCUYO)"},{value:"ESTIM",label:"Instituto de Educación Superior N°9–021 (ESTIM)"},{value:"ITES",label:"Instituto Tecnológico de Educación Superior (ITES)"},{value:"ISEP",label:"Instituto de Seguridad Pública (ISEP)"},{value:"Otra",label:"Otra"}],[]),[s,i]=ee.useState(!1),[o,u]=ee.useState(!1),[h,f]=ee.useState(!1),[m,x]=ee.useState(!1),[v,_]=ee.useState(!1),[A,w]=ee.useState(null),[N,M]=ee.useState(null),[j,O]=ee.useState({fullName:t.fullName,email:t.email,phone:t.phone,university:t.university,carrera:t.carrera});ee.useEffect(()=>{t&&(O({fullName:t.fullName,email:t.email,phone:t.phone,university:t.university,carrera:t.carrera}),M(t.fotoURL||null),w(null))},[t,s]);const z=(k,Ae)=>{O(Ce=>({...Ce,[k]:Ae}))},ne=k=>{const Ae=k.target.files?.[0];if(Ae){if(!Ae.type.startsWith("image/")){n("Por favor selecciona un archivo de imagen válido");return}if(Ae.size>5*1024*1024){n("La imagen debe ser menor a 5MB");return}w(Ae);const Ce=new FileReader;Ce.onload=Ue=>{M(Ue.target?.result)},Ce.readAsDataURL(Ae)}},re=async k=>{if(!A)return k||null;if(!On.currentUser)throw n("Error: Debes iniciar sesión para subir una foto."),console.error("Error: auth.currentUser es null. No se puede subir la foto."),new Error("User not authenticated for photo upload.");const Ae=On.currentUser.uid;_(!0);try{if(k&&k.includes("firebase")&&k.includes(Ae)&&k!==N)try{const W=kg(Rg,k);await aT(W)}catch(W){console.log("DEBUG: No se pudo eliminar la foto antigua de Storage, continuando...",W)}const Ce=Date.now(),Ue=A.name.split(".").pop(),Re=`profile-photos/${Ae}/${Ce}.${Ue}`,ae=kg(Rg,Re),_e=await KU(ae,A);return await qU(_e.ref)}catch(Ce){throw console.error("Error uploading photo:",Ce),n("Error al subir la foto. Intenta nuevamente."),Ce}finally{_(!1)}},P=async()=>{if(!(!t.fotoURL&&!A)){if(A){T(),n("Selección de foto cancelada.");return}if(t.fotoURL){if(!On.currentUser){n("Error: Debes iniciar sesión para eliminar una foto.");return}const k=On.currentUser.uid;_(!0);try{if(t.fotoURL.includes("firebase")&&t.fotoURL.includes(k)){const Ce=kg(Rg,t.fotoURL);await aT(Ce)}else console.warn("Attempted to delete a photo not associated with the current user UID or not from Firebase Storage. Skipping deletion from Storage.");await Fn($t(st,"students",t.uid),{fotoURL:null});const Ae={...t,fotoURL:null};e(Ae),n("Foto de perfil eliminada exitosamente"),M(null)}catch(Ae){console.error("Error deleting photo:",Ae),n("Error al eliminar la foto. Intenta nuevamente.")}finally{_(!1)}}}},T=()=>{w(null),M(t.fotoURL||null)},b=()=>{if(o||A||N===null&&t.fotoURL){if(!j.fullName.trim())return n("El nombre completo es requerido"),!1;if(j.email!==t.email&&(!j.email.trim()||!j.email.includes("@")))return n("Email válido es requerido"),!1;if(!j.phone.trim())return n("El número de teléfono es requerido"),!1;if(!j.university.trim())return n("La facultad es requerida"),!1;if(!j.carrera.trim())return n("La carrera es requerida"),!1}return!0},R=async()=>{if(b()){f(!0);try{let k=t.fotoURL||null,Ae=!1,Ce=!1;if(A?(k=await re(t.fotoURL),Ae=!0):N===null&&t.fotoURL&&(k=null,Ae=!0),(j.fullName!==t.fullName||j.email!==t.email||j.phone!==t.phone||j.university!==t.university||j.carrera!==t.carrera)&&(Ce=!0),Ae||Ce){const Ue={};Ae&&(Ue.fotoURL=k),Ce&&(Ue.fullName=j.fullName,Ue.phone=j.phone,Ue.university=j.university,Ue.carrera=j.carrera,j.email!==t.email&&On.currentUser&&(await _M(On.currentUser,j.email),Ue.email=j.email)),await Fn($t(st,"students",t.uid),Ue);const Re={...t,...j,fotoURL:k};e(Re),n("¡Perfil actualizado exitosamente!")}else n("No se detectaron cambios para guardar.");u(!1),w(null),M(k),i(!1)}catch(k){console.error("Error updating profile:",k),k.code==="auth/requires-recent-login"?n("Por favor, cierra sesión e inicia sesión nuevamente para cambiar el email"):n("Error al actualizar el perfil. Intenta nuevamente.")}finally{f(!1)}}},I=async()=>{if(!t.email){n("No se encontró tu email para enviar la recuperación");return}x(!0);try{await ON(On,t.email),n("✅ Enlace de cambio de contraseña enviado a tu correo. Revisá tu bandeja de entrada y tu carpeta de spam.")}catch(k){console.error("Error sending password reset email:",k),n("Error al enviar el correo de recuperación. Intenta nuevamente.")}finally{x(!1)}},L=()=>{O({fullName:t.fullName,email:t.email,phone:t.phone,university:t.university,carrera:t.carrera}),u(!1),w(null),M(t.fotoURL||null),i(!1)};return c.jsxs(c.Fragment,{children:[c.jsxs(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>i(!0),className:"flex items-center space-x-2 px-3 py-2 lg:px-4 lg:py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg font-medium hover:from-blue-600 hover:to-blue-700 transition-all duration-200 shadow-lg text-sm lg:text-base",children:[c.jsx(V2,{size:16,className:"w-4 h-4 lg:w-[18px] lg:h-[18px]"}),c.jsx("span",{className:"hidden sm:inline",children:"Editar Perfil"}),c.jsx("span",{className:"sm:hidden",children:"Editar"})]}),c.jsx(un,{children:s&&c.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 lg:p-4",children:c.jsxs(Te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl lg:rounded-2xl max-w-full sm:max-w-xl md:max-w-2xl w-full max-h-[95vh] lg:max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-4 lg:p-6 rounded-t-xl lg:rounded-t-2xl text-white",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[c.jsx("div",{className:"w-8 h-8 lg:w-12 lg:h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:c.jsx(to,{size:16,className:"w-4 h-4 lg:w-6 lg:h-6"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg lg:text-2xl font-bold",children:"Editar Perfil"}),c.jsx("p",{className:"text-blue-100 text-xs lg:text-base",children:"Actualiza tu información personal"})]})]}),c.jsx("button",{onClick:R,className:"w-8 h-8 lg:w-10 lg:h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-all",children:c.jsx(Ji,{size:16,className:"w-4 h-4 lg:w-5 lg:h-5"})})]})}),c.jsxs("div",{className:"p-4 lg:p-6 space-y-4 lg:space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-100 rounded-xl p-4 lg:p-6",children:[c.jsxs("h3",{className:"text-base lg:text-lg font-semibold text-gray-800 mb-3 lg:mb-4 flex items-center space-x-2",children:[c.jsx($b,{size:18,className:"text-indigo-600 w-4 h-4 lg:w-5 lg:h-5"}),c.jsx("span",{children:"Foto de Perfil"})]}),c.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-24 h-24 lg:w-32 lg:h-32 rounded-full overflow-hidden bg-gray-200 border-4 border-white shadow-lg",children:N?c.jsx("img",{src:N,alt:"Preview",className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-300 to-gray-400",children:c.jsx(to,{size:32,className:"text-gray-600 w-8 h-8 lg:w-12 lg:h-12"})})}),v&&c.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center",children:c.jsx("div",{className:"w-6 h-6 lg:w-8 lg:h-8 border-2 border-white border-t-transparent rounded-full animate-spin"})})]}),c.jsxs("div",{className:"w-full space-y-3",children:[A?c.jsxs("div",{className:"bg-white rounded-lg p-3 lg:p-4 border border-indigo-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-xs lg:text-sm font-medium text-gray-700",children:"Archivo seleccionado:"}),c.jsx("button",{onClick:T,className:"text-red-500 hover:text-red-700 transition-colors",children:c.jsx(Ji,{size:14,className:"w-3.5 h-3.5 lg:w-4 lg:h-4"})})]}),c.jsx("p",{className:"text-xs lg:text-sm text-gray-600 truncate",children:A.name}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(A.size/(1024*1024)).toFixed(2)," MB"]})]}):c.jsxs("div",{children:[c.jsx("input",{type:"file",accept:"image/*",onChange:ne,className:"hidden",id:"profile-photo-input"}),c.jsxs("label",{htmlFor:"profile-photo-input",className:"flex items-center justify-center space-x-2 px-4 py-3 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-all cursor-pointer text-sm lg:text-base",children:[c.jsx(P6,{size:14,className:"w-3.5 h-3.5 lg:w-4 lg:h-4"}),c.jsx("span",{children:"Seleccionar Foto"})]})]}),(t.fotoURL||A)&&c.jsxs("button",{onClick:P,disabled:v,className:"flex items-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-all disabled:opacity-50 w-full justify-center text-sm lg:text-base",children:[v?c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):c.jsx(Ic,{size:14,className:"w-3.5 h-3.5 lg:w-4 lg:h-4"}),c.jsx("span",{children:A?"Cancelar Selección":"Eliminar Foto"})]}),c.jsxs("div",{className:"text-xs text-gray-500 bg-white bg-opacity-60 rounded-lg p-3",children:[c.jsx("p",{children:"• Formatos permitidos: JPG, PNG, GIF"}),c.jsx("p",{children:"• Tamaño máximo: 5MB"}),c.jsx("p",{children:"• Recomendado: Imagen cuadrada para mejor resultado"})]})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-4 lg:p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3 lg:mb-4",children:[c.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-800",children:"Información Personal"}),!o&&c.jsxs("button",{onClick:()=>u(!0),className:"flex items-center space-x-1 lg:space-x-2 px-2 py-1 lg:px-3 lg:py-1 bg-blue-500 text-white rounded-lg text-xs lg:text-sm hover:bg-blue-600 transition-all",children:[c.jsx(V2,{size:12,className:"w-3 h-3 lg:w-[14px] lg:h-[14px]"}),c.jsx("span",{children:"Editar"})]})]}),o?c.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[c.jsxs("div",{className:"space-y-3 sm:grid sm:grid-cols-2 sm:gap-3 lg:grid-cols-2 lg:gap-4 lg:space-y-0",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1 lg:mb-2",children:"Nombre Completo"}),c.jsx("input",{type:"text",value:j.fullName,onChange:k=>z("fullName",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm lg:text-base",placeholder:"Tu nombre completo"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1 lg:mb-2",children:"Email"}),c.jsx("input",{type:"email",value:j.email,onChange:k=>z("email",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm lg:text-base",placeholder:"tu@email.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1 lg:mb-2",children:"Teléfono"}),c.jsx("input",{type:"tel",value:j.phone,onChange:k=>z("phone",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm lg:text-base",placeholder:"Tu número de teléfono"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1 lg:mb-2",children:"Facultad/Institución"}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:j.university,onChange:k=>z("university",k.target.value),className:"w-full px-3 py-2 pr-8 lg:pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white text-sm lg:text-base",children:[c.jsx("option",{value:"",children:"Selecciona tu facultad/institución"}),r().map(k=>c.jsx("option",{value:k.value,children:k.label},k.value))]}),c.jsx(K0,{size:14,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none w-3.5 h-3.5 lg:w-4 lg:h-4"})]})]}),c.jsxs("div",{className:"sm:col-span-2 lg:col-span-2",children:[c.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1 lg:mb-2",children:"Carrera"}),c.jsx("input",{type:"text",value:j.carrera,onChange:k=>z("carrera",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm lg:text-base",placeholder:"Tu carrera"})]})]}),c.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-3 pt-2 lg:pt-4",children:[c.jsxs("button",{onClick:R,disabled:h,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-all disabled:opacity-50 text-sm lg:text-base",children:[h?c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):c.jsx(Zb,{size:14,className:"w-3.5 h-3.5 lg:w-4 lg:h-4"}),c.jsx("span",{children:"Guardar"})]}),c.jsxs("button",{onClick:L,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-all text-sm lg:text-base",children:[c.jsx(Ji,{size:14,className:"w-3.5 h-3.5 lg:w-4 lg:h-4"}),c.jsx("span",{children:"Cancelar"})]})]})]}):c.jsxs("div",{className:"space-y-3 sm:grid sm:grid-cols-2 sm:gap-3 lg:grid-cols-2 lg:gap-4 lg:space-y-0 text-xs lg:text-sm",children:[c.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[c.jsx(to,{size:14,className:"w-3.5 h-3.5 lg:w-4 lg:h-4"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600",children:"Nombre:"}),c.jsx("span",{className:"font-medium ml-2",children:t.fullName})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[c.jsx(yi,{size:14,className:"w-3.5 h-3.5 lg:w-4 lg:h-4"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600",children:"Email:"}),c.jsx("span",{className:"font-medium ml-2 break-all",children:t.email})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[c.jsx(_h,{size:14,className:"w-3.5 h-3.5 lg:w-4 lg:h-4"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600",children:"Teléfono:"}),c.jsx("span",{className:"font-medium ml-2",children:t.phone})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[c.jsx(s0,{size:14,className:"w-3.5 h-3.5 lg:w-4 lg:h-4"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600",children:"Facultad:"}),c.jsx("span",{className:"font-medium ml-2",children:r().find(k=>k.value===t.university)?.label||t.university})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3 sm:col-span-2 lg:col-span-2",children:[c.jsx(s0,{size:14,className:"w-3.5 h-3.5 lg:w-4 lg:h-4"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600",children:"Carrera:"}),c.jsx("span",{className:"font-medium ml-2",children:t.carrera})]})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl p-4 lg:p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3 lg:mb-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-800",children:"Cambiar Contraseña"}),c.jsx("p",{className:"text-xs lg:text-sm text-gray-600",children:"Enviaremos un enlace a tu correo para cambiar tu contraseña"})]}),c.jsx(s6,{size:20,className:"text-orange-500 w-5 h-5 lg:w-6 lg:h-6"})]}),c.jsx("div",{className:"bg-white bg-opacity-60 rounded-lg p-3 lg:p-4 mb-3 lg:mb-4",children:c.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3 text-xs lg:text-sm text-gray-700",children:[c.jsx(yi,{size:14,className:"text-orange-500 w-3.5 h-3.5 lg:w-4 lg:h-4"}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Email registrado:"}),c.jsx("span",{className:"ml-2 break-all",children:t.email})]})]})}),c.jsx(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:I,disabled:m,className:"flex items-center space-x-2 px-4 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-all disabled:opacity-50 w-full justify-center text-sm lg:text-base",children:m?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),c.jsx("span",{children:"Enviando..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(g6,{size:14,className:"w-3.5 h-3.5 lg:w-4 lg:h-4"}),c.jsx("span",{children:"Enviar enlace de cambio de contraseña"})]})}),c.jsx("div",{className:"mt-3 lg:mt-4 bg-blue-50 border border-blue-200 rounded-lg p-3",children:c.jsxs("div",{className:"flex items-start space-x-2",children:[c.jsx(gr,{size:14,className:"text-blue-600 mt-0.5 flex-shrink-0 w-3.5 h-3.5 lg:w-4 lg:h-4"}),c.jsxs("div",{className:"text-xs lg:text-sm text-blue-800",children:[c.jsx("p",{className:"font-medium mb-1",children:"¿Cómo funciona?"}),c.jsxs("ul",{className:"text-xs space-y-1 text-blue-700",children:[c.jsx("li",{children:"• Recibirás un correo en tu email registrado"}),c.jsx("li",{children:"• Haz clic en el enlace del correo"}),c.jsx("li",{children:"• Ingresa tu nueva contraseña"}),c.jsx("li",{children:"• ¡Listo! Ya podés iniciar sesión con tu nueva contraseña"})]})]})]})})]})]})]})})})]})},p7=({estudiante:t,planes:e,onMembresiaUpdate:n,onMessage:r})=>{const[s,i]=ee.useState(!1),[o,u]=ee.useState(!1),[h,f]=ee.useState(""),m=(W,V=0)=>{const Y=W.toLowerCase();return Y.includes("diario")||Y.includes("día")||Y.includes("day")||Y.includes("pase")&&(Y.includes("diario")||Y.includes("día"))||V<=8e3},x=W=>{if(!W)return 0;const V=new Date,X=W.toDate().getTime()-V.getTime();return X<=0?0:Math.ceil(X/(1e3*3600))},v=W=>{if(!W)return 0;const V=new Date,X=W.toDate().getTime()-V.getTime();return X<=0?0:Math.ceil(X/(1e3*60))},_=async()=>{if(!h.trim()){r("Por favor, proporciona un motivo para la baja");return}u(!0);try{const W=$t(st,"students",t.uid),V={"membresia.estado":"cancelada",activo:!1,"membresia.motivoCancelacion":h,"membresia.fechaCancelacion":Mt.now()};await Fn(W,V),i(!1),f(""),n&&n(),r("✅ Solicitud de baja enviada exitosamente. Un administrador revisará tu solicitud.")}catch(W){console.error("❌ Error al cancelar membresía:",W),r("Error al procesar la solicitud: "+W.message)}finally{u(!1)}},A=()=>!t?.plan||!e?.length?null:e.find(V=>V.name===t.plan)||null,w=()=>A()?.price||0,N=()=>t?.membresia?.nombre||t?.plan||"Plan no encontrado",M=(W,V)=>{if(!W||!V)return!1;const Y=new Date,X=W.toDate(),J=V.toDate();return Y>=X&&Y<=J},j=W=>{if(!W)return 0;const V=new Date,X=W.toDate().getTime()-V.getTime();return Math.ceil(X/(1e3*3600*24))},O=async()=>{if(t){u(!0);try{const W=$t(st,"students",t.uid);await Fn(W,{plan:"","membresia.nombre":"","membresia.estado":"","membresia.montoPagado":0,"membresia.medioPago":"","membresia.fechaDesde":null,"membresia.fechaHasta":null,"membresia.motivoCancelacion":null,"membresia.fechaCancelacion":null,activo:!1}),r("✅ Membresía reseteada. Ya puedes contratar un nuevo plan."),n&&setTimeout(()=>{n()},1500)}catch(W){console.error("❌ Error al resetear membresía:",W),r("❌ Error al resetear membresía: "+W.message)}finally{u(!1)}}},z=W=>{if(!W)return"sin_plan";if(W.estado==="cancelada")return"cancelada";if(W.estado==="pendiente")return"pendiente";if(W.fechaDesde&&W.fechaHasta){const V=new Date,Y=W.fechaHasta.toDate();if(V>Y)return"vencido";if(!M(W.fechaDesde,W.fechaHasta))return j(W.fechaHasta)<0?"vencido":"por_vencer";const J=w(),fe=N();if(m(fe,J)){const Z=x(W.fechaHasta);if(Z<=2&&Z>0)return"por_vencer"}else{const Z=j(W.fechaHasta);if(Z<=7&&Z>0)return"por_vencer"}return"activa"}return W.estado||"sin_plan"},ne=W=>!W?.startHour||!W?.endHour?"Horario no especificado":`${W.startHour} - ${W.endHour}`,re=W=>W?.days?(W.days.includes(",")||W.days.length<=10,W.days):"Días no especificados",P=W=>{switch(W){case"activa":return"from-green-500 to-green-600";case"pendiente":return"from-yellow-500 to-yellow-600";case"por_vencer":return"from-orange-500 to-orange-600";case"vencido":return"from-red-500 to-red-600";case"cancelada":return"from-gray-500 to-gray-600";default:return"from-gray-400 to-gray-500"}},T=W=>{switch(W){case"activa":return"from-green-50 to-green-100 border-green-200";case"pendiente":return"from-yellow-50 to-yellow-100 border-yellow-200";case"por_vencer":return"from-orange-50 to-orange-100 border-orange-200";case"vencido":return"from-red-50 to-red-100 border-red-200";case"cancelada":return"from-gray-50 to-gray-100 border-gray-200";default:return"from-gray-50 to-gray-100 border-gray-200"}},b=W=>{switch(W){case"activa":return c.jsx(Ju,{size:20,className:"text-white w-5 h-5 lg:w-6 lg:h-6"});case"pendiente":return c.jsx(Zo,{size:20,className:"text-white w-5 h-5 lg:w-6 lg:h-6"});case"por_vencer":return c.jsx(i0,{size:20,className:"text-white w-5 h-5 lg:w-6 lg:h-6"});case"vencido":return c.jsx(Ks,{size:20,className:"text-white w-5 h-5 lg:w-6 lg:h-6"});case"cancelada":return c.jsx(Ks,{size:20,className:"text-white w-5 h-5 lg:w-6 lg:h-6"});default:return c.jsx(Zo,{size:20,className:"text-white w-5 h-5 lg:w-6 lg:h-6"})}},R=(W,V,Y,X)=>{switch(W){case"activa":return"Plan Activo";case"pendiente":return"Pendiente de Pago";case"por_vencer":if(X&&Y!==void 0){if(Y<=0)return"Plan Vencido";if(Y<=1){const J=v(t?.membresia?.fechaHasta);return J>0?`Expira en ${J} min`:"Plan Vencido"}return`Expira en ${Y}h`}return V&&V>0?`Expira en ${V} días`:"Plan Vencido";case"vencido":return"Plan Vencido";case"cancelada":return"Plan Cancelado";default:return"Sin Plan Activo"}},I=(W,V)=>{if(!W||!V)return 0;const Y=W.toDate().getTime(),X=V.toDate().getTime(),J=new Date().getTime();if(J<Y)return 0;if(J>X)return 100;const fe=(J-Y)/(X-Y)*100;return Math.max(0,Math.min(100,fe))},L=(W,V=!1)=>{if(!W)return"";const Y=new Date,X=W.toDate();if(Y>X)return"Vencido";if(V){const J=x(W);if(J<=1){const fe=v(W);return fe>0?`${fe} minutos restantes`:"Vencido"}return J>0?`${J} horas restantes`:"Vencido"}else{const J=j(W);return J>0?`${J} días restantes`:"Vencido"}},k=A(),Ae=w(),Ce=N(),Ue=m(Ce,Ae),Re=z(t?.membresia),ae=j(t?.membresia?.fechaHasta),_e=x(t?.membresia?.fechaHasta),Ee=I(t?.membresia?.fechaDesde,t?.membresia?.fechaHasta);return c.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl lg:rounded-3xl shadow-2xl overflow-hidden w-full",children:[c.jsxs("div",{className:`bg-gradient-to-r ${P(Re)} p-4 lg:p-8 text-white relative overflow-hidden`,children:[c.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 lg:w-32 lg:h-32 opacity-10",children:c.jsx(el,{size:80,className:"w-20 h-20 lg:w-32 lg:h-32"})}),c.jsxs("div",{className:"relative z-10",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3 lg:mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-4",children:[c.jsx("div",{className:"w-10 h-10 lg:w-16 lg:h-16 bg-white bg-opacity-20 rounded-xl lg:rounded-2xl flex items-center justify-center",children:b(Re)}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl lg:text-3xl font-bold",children:"Mi Membresía"}),c.jsx("p",{className:"text-white/80 text-sm lg:text-base",children:"Estado de tu plan"})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm lg:text-lg font-medium opacity-90",children:"Estado"}),c.jsx("div",{className:"text-lg lg:text-2xl font-bold",children:R(Re,ae,_e,Ue)})]})]}),Re==="activa"&&t?.membresia?.fechaDesde&&t?.membresia?.fechaHasta&&c.jsxs("div",{className:"mt-4 lg:mt-6",children:[c.jsxs("div",{className:"flex justify-between text-xs lg:text-sm mb-2",children:[c.jsx("span",{children:"Progreso del periodo"}),c.jsxs("span",{children:[Math.round(Ee),"%"]})]}),c.jsx("div",{className:"w-full bg-white bg-opacity-20 rounded-full h-1.5 lg:h-2",children:c.jsx(Te.div,{initial:{width:0},animate:{width:`${Ee}%`},transition:{duration:1,delay:.5},className:"bg-white h-1.5 lg:h-2 rounded-full"})})]})]})]}),c.jsx("div",{className:"p-4 lg:p-8",children:t?.membresia?c.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[c.jsxs("div",{className:`bg-gradient-to-br ${T(Re)} rounded-xl lg:rounded-2xl p-4 lg:p-6 border-2`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-3 lg:mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[c.jsx(w6,{className:"text-yellow-500 w-5 h-5 lg:w-6 lg:h-6"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"text-lg lg:text-xl font-bold text-gray-800",children:Ce}),c.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${Ue?"bg-yellow-100 text-yellow-800 border border-yellow-300":"bg-blue-100 text-blue-800 border border-blue-300"}`,children:[Ue?c.jsx(fc,{size:12,className:"inline mr-1"}):c.jsx(S1,{size:12,className:"inline mr-1"}),Ue?"Diario":"Mensual"]})]})]}),c.jsxs("div",{className:"flex items-center space-x-1 lg:space-x-2 bg-white px-2 lg:px-4 py-1 lg:py-2 rounded-full shadow-sm",children:[c.jsx(a0,{size:14,className:"text-orange-500 w-3.5 h-3.5 lg:w-4 lg:h-4"}),c.jsxs("span",{className:"font-bold text-gray-800 text-sm lg:text-base",children:["$",t.membresia.montoPagado>0?t.membresia.montoPagado.toLocaleString():"N/A"]})]})]}),(Re==="por_vencer"||Re==="vencido")&&c.jsx(Te.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:`mb-3 lg:mb-4 p-3 lg:p-4 rounded-xl border-2 ${Re==="vencido"?"bg-red-50 border-red-200":"bg-orange-50 border-orange-200"}`,children:c.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[c.jsx(qs,{size:18,className:`w-4.5 h-4.5 lg:w-5 lg:h-5 ${Re==="vencido"?"text-red-600":"text-orange-600"}`}),c.jsxs("div",{children:[c.jsx("div",{className:`font-bold text-sm lg:text-base ${Re==="vencido"?"text-red-800":"text-orange-800"}`,children:Re==="vencido"?"¡Plan Vencido!":"¡Plan por Vencer!"}),c.jsx("div",{className:`text-xs lg:text-sm ${Re==="vencido"?"text-red-700":"text-orange-700"}`,children:Re==="vencido"?`Tu ${Ue?"pase diario":"plan"} ha vencido. ${Ue?"Obtén un nuevo pase para acceder hoy.":"Renuévalo para seguir disfrutando del acceso."}`:Ue?`Tu pase vence ${L(t.membresia.fechaHasta,!0)}.`:`Tu plan vence el ${t.membresia.fechaHasta?.toDate().toLocaleDateString()}.`})]})]})}),c.jsxs("div",{className:"space-y-3 sm:grid sm:grid-cols-2 sm:gap-3 lg:grid-cols-3 lg:gap-4 lg:space-y-0",children:[t.membresia.fechaDesde&&c.jsxs("div",{className:"bg-white rounded-lg p-3 lg:p-4 shadow-sm",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-1 lg:mb-2",children:[c.jsx(Qi,{size:14,className:"text-green-500 w-3.5 h-3.5 lg:w-4 lg:h-4"}),c.jsx("span",{className:"text-xs lg:text-sm font-medium text-gray-600",children:Ue?"Inicio del Pase":"Fecha de Inicio"})]}),c.jsx("div",{className:"text-sm lg:text-lg font-bold text-gray-800",children:t.membresia.fechaDesde.toDate().toLocaleDateString()})]}),t.membresia.fechaHasta&&c.jsxs("div",{className:"bg-white rounded-lg p-3 lg:p-4 shadow-sm",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-1 lg:mb-2",children:[c.jsx(Qi,{size:14,className:`w-3.5 h-3.5 lg:w-4 lg:h-4 ${Ue&&_e<=2||!Ue&&ae<=7&&ae>0?"text-orange-500":"text-blue-500"}`}),c.jsx("span",{className:"text-xs lg:text-sm font-medium text-gray-600",children:Ue?"Vence a las":"Fecha de Vencimiento"})]}),c.jsx("div",{className:`text-sm lg:text-lg font-bold ${Ue&&_e<=2||!Ue&&ae<=7&&ae>0?"text-orange-600":"text-gray-800"}`,children:Ue?"23:59 de hoy":t.membresia.fechaHasta.toDate().toLocaleDateString()}),c.jsx("div",{className:"text-xs text-gray-500 mt-1",children:L(t.membresia.fechaHasta,Ue)})]}),k&&c.jsxs("div",{className:"bg-white rounded-lg p-3 lg:p-4 shadow-sm",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-1 lg:mb-2",children:[c.jsx(Cr,{size:14,className:"text-purple-500 w-3.5 h-3.5 lg:w-4 lg:h-4"}),c.jsx("span",{className:"text-xs lg:text-sm font-medium text-gray-600",children:"Horarios"})]}),c.jsx("div",{className:"text-sm lg:text-lg font-bold text-gray-800",children:ne(k)})]}),k?.days&&!Ue&&c.jsxs("div",{className:"bg-white rounded-lg p-3 lg:p-4 shadow-sm",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-1 lg:mb-2",children:[c.jsx(Qi,{size:14,className:"text-indigo-500 w-3.5 h-3.5 lg:w-4 lg:h-4"}),c.jsx("span",{className:"text-xs lg:text-sm font-medium text-gray-600",children:"Días Disponibles"})]}),c.jsx("div",{className:"text-sm lg:text-lg font-bold text-gray-800",children:re(k)})]}),t.membresia.montoPagado>0&&c.jsxs("div",{className:"bg-white rounded-lg p-3 lg:p-4 shadow-sm",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-1 lg:mb-2",children:[c.jsx(ia,{size:14,className:"text-green-500 w-3.5 h-3.5 lg:w-4 lg:h-4"}),c.jsx("span",{className:"text-xs lg:text-sm font-medium text-gray-600",children:"Monto Pagado"})]}),c.jsxs("div",{className:"text-sm lg:text-lg font-bold text-green-600",children:["$",t.membresia.montoPagado.toLocaleString()]})]}),t.membresia.medioPago&&c.jsxs("div",{className:"bg-white rounded-lg p-3 lg:p-4 shadow-sm",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-1 lg:mb-2",children:[c.jsx(ia,{size:14,className:"text-blue-500 w-3.5 h-3.5 lg:w-4 lg:h-4"}),c.jsx("span",{className:"text-xs lg:text-sm font-medium text-gray-600",children:"Método de Pago"})]}),c.jsx("div",{className:"text-sm lg:text-lg font-bold text-gray-800",children:t.membresia.medioPago})]})]}),c.jsx("div",{className:"mt-4 lg:mt-6 pt-3 lg:pt-4 border-t border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-2 text-xs lg:text-sm text-gray-600",children:[c.jsx(i0,{size:14,className:"w-3.5 h-3.5 lg:w-4 lg:h-4"}),c.jsx("span",{className:"italic",children:Ue?t.membresia.fechaDesde&&t.membresia.fechaHasta?`Pase diario válido desde ${t.membresia.fechaDesde.toDate().toLocaleDateString()} hasta las 23:59 de hoy`:"Pase diario se activará con el pago confirmado":t.membresia.fechaDesde&&t.membresia.fechaHasta?`Vigencia: Del ${t.membresia.fechaDesde.toDate().toLocaleDateString()} al ${t.membresia.fechaHasta.toDate().toLocaleDateString()}`:"Se activará con el pago confirmado"})]})})]}),(Re==="vencido"||Re==="cancelada")&&c.jsx(Te.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-gradient-to-r from-blue-50 to-blue-100 border-2 border-blue-200 rounded-xl lg:rounded-2xl p-4 lg:p-6",children:c.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[c.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[c.jsx(el,{size:20,className:"text-blue-600 w-5 h-5 lg:w-6 lg:h-6"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm lg:text-lg font-bold text-blue-800",children:Re==="vencido"?"Plan Vencido":"Plan Cancelado"}),c.jsx("p",{className:"text-xs lg:text-sm text-blue-700",children:Re==="vencido"?"Tu plan ha vencido. Renueva para contratar uno nuevo.":"Tu plan fue cancelado. Puedes contratar uno nuevo."})]})]}),c.jsx(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:O,disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 lg:px-6 lg:py-2 rounded-lg font-medium transition-colors text-sm lg:text-base w-full sm:w-auto flex items-center justify-center space-x-2 disabled:bg-gray-400 disabled:cursor-not-allowed",children:o?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),c.jsx("span",{children:"Procesando..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(A1,{size:16,className:"w-4 h-4"}),c.jsx("span",{children:"Contratar Nueva Membresía"})]})})]})}),(Re==="activa"||Re==="por_vencer")&&!Ue&&c.jsx(Te.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-gradient-to-r from-red-50 to-red-100 border-2 border-red-200 rounded-xl lg:rounded-2xl p-4 lg:p-6",children:c.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[c.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[c.jsx(ux,{size:20,className:"text-red-600 w-5 h-5 lg:w-6 lg:h-6"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm lg:text-lg font-bold text-red-800",children:"¿Deseas dar de baja tu membresía?"}),c.jsx("p",{className:"text-xs lg:text-sm text-red-700",children:"Puedes solicitar la baja de tu membresía en cualquier momento"})]})]}),c.jsx(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(!0),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 lg:px-6 lg:py-2 rounded-lg font-medium transition-colors text-sm lg:text-base w-full sm:w-auto",children:"Solicitar Baja"})]})}),Ue&&Re==="activa"&&c.jsxs(Te.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-gradient-to-r from-yellow-50 to-yellow-100 border-2 border-yellow-200 rounded-xl lg:rounded-2xl p-4 lg:p-6",children:[c.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3 mb-3",children:[c.jsx(fc,{size:20,className:"text-yellow-600 w-5 h-5 lg:w-6 lg:h-6"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm lg:text-lg font-bold text-yellow-800",children:"Pase Diario Activo"}),c.jsx("p",{className:"text-xs lg:text-sm text-yellow-700",children:"Tu pase es válido hasta las 23:59 de hoy"})]})]}),c.jsxs("div",{className:"bg-white bg-opacity-60 rounded-lg p-3 text-xs lg:text-sm text-yellow-800",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx(Cr,{size:14,className:"w-3.5 h-3.5"}),c.jsx("span",{className:"font-medium",children:"Recordatorio importante:"})]}),c.jsx("p",{children:"Este pase expira automáticamente a las 23:59 de hoy. Si necesitas acceso mañana, deberás adquirir un nuevo pase diario o considerar un plan mensual."})]})]}),Re==="activa"&&c.jsxs(Te.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3},className:"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl lg:rounded-2xl p-4 lg:p-6 text-center",children:[c.jsxs("div",{className:"flex items-center justify-center space-x-2 lg:space-x-3 mb-2",children:[Ue?c.jsx(fc,{size:20,className:"text-yellow-800 w-5 h-5 lg:w-6 lg:h-6"}):c.jsx(Ju,{size:20,className:"text-yellow-800 w-5 h-5 lg:w-6 lg:h-6"}),c.jsx("span",{className:"text-lg lg:text-xl font-bold text-yellow-800",children:Ue?"¡Acceso del Día!":"¡Miembro Premium!"}),Ue?c.jsx(fc,{size:20,className:"text-yellow-800 w-5 h-5 lg:w-6 lg:h-6"}):c.jsx(Ju,{size:20,className:"text-yellow-800 w-5 h-5 lg:w-6 lg:h-6"})]}),c.jsx("p",{className:"text-yellow-700 text-sm lg:text-base",children:Ue?"Disfrutás de acceso completo a todas las instalaciones hasta las 23:59":"Disfrutás de acceso completo a todas las instalaciones"})]})]}):c.jsxs("div",{className:"text-center py-8 lg:py-12",children:[c.jsx("div",{className:"w-16 h-16 lg:w-24 lg:h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-4 lg:mb-6",children:c.jsx(el,{size:32,className:"text-gray-400 w-8 h-8 lg:w-10 lg:h-10"})}),c.jsx("h3",{className:"text-xl lg:text-2xl font-bold text-gray-700 mb-2",children:"Sin Membresía Activa"}),c.jsx("p",{className:"text-gray-500 mb-4 lg:mb-6 text-sm lg:text-base",children:"No tenés una membresía activa en este momento"}),c.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4 lg:p-6 border border-blue-200",children:c.jsx("p",{className:"text-blue-700 font-medium text-sm lg:text-base",children:"¡Explorá nuestros planes disponibles y comenzá tu experiencia premium!"})})]})}),c.jsx(un,{children:s&&!Ue&&c.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 lg:p-4",onClick:()=>i(!1),children:c.jsxs(Te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl lg:rounded-2xl p-4 lg:p-8 w-full max-w-sm sm:max-w-md mx-2 lg:mx-4",onClick:W=>W.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3 mb-4 lg:mb-6",children:[c.jsx("div",{className:"w-8 h-8 lg:w-12 lg:h-12 bg-red-100 rounded-full flex items-center justify-center",children:c.jsx(qs,{className:"text-red-600 w-5 h-5 lg:w-6 lg:h-6"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg lg:text-xl font-bold text-gray-900",children:"Solicitar Baja de Membresía"}),c.jsx("p",{className:"text-xs lg:text-sm text-gray-600",children:"Esta acción requiere aprobación del administrador"})]})]}),c.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[c.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 lg:p-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Zo,{className:"text-yellow-600 w-3.5 h-3.5 lg:w-4 lg:h-4"}),c.jsx("span",{className:"text-xs lg:text-sm font-medium text-yellow-800",children:"Tu membresía será revisada por un administrador"})]}),c.jsx("p",{className:"text-xs lg:text-sm text-yellow-700 mt-2",children:"Una vez aprobada, perderás el acceso a las instalaciones del gimnasio."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-2",children:"Motivo de la baja (obligatorio)"}),c.jsx("textarea",{value:h,onChange:W=>f(W.target.value),placeholder:"Por favor, explica brevemente el motivo de tu solicitud...",className:"w-full px-3 py-2 lg:px-4 lg:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none text-sm lg:text-base",rows:4})]}),c.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 lg:p-4",children:[c.jsx("h4",{className:"font-medium text-gray-800 mb-2 text-sm lg:text-base",children:"Información de contacto:"}),c.jsxs("div",{className:"space-y-1 text-xs lg:text-sm text-gray-600",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(yi,{size:12,className:"w-3 h-3 lg:w-[14px] lg:h-[14px]"}),c.jsx("span",{children:t.email})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(_h,{size:12,className:"w-3 h-3 lg:w-[14px] lg:h-[14px]"}),c.jsx("span",{children:t.phone})]})]})]})]}),c.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-4 mt-4 lg:mt-6",children:[c.jsx("button",{onClick:()=>i(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm lg:text-base",children:"Cancelar"}),c.jsx("button",{onClick:_,disabled:!h.trim()||o,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center space-x-2 text-sm lg:text-base",children:o?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),c.jsx("span",{children:"Procesando..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(ux,{size:14,className:"w-3.5 h-3.5 lg:w-4 lg:h-4"}),c.jsx("span",{children:"Enviar Solicitud"})]})})]})]})})})]})},g7=({planes:t,onComprarPlan:e,onSeleccionarMetodoPago:n,loading:r,puedeContratarPlan:s,estudianteConPlan:i=!1})=>{const[o,u]=ee.useState(null),[h,f]=ee.useState(null),[m,x]=ee.useState(!1),[v,_]=ee.useState(!1),A=b=>{if(!b)return null;const R=b.split(`
`).filter(I=>I.trim()!=="");return c.jsx("div",{className:"text-xs lg:text-sm text-gray-700 leading-relaxed space-y-2",children:R.map((I,L)=>{const k=I.trim();return k.includes("$")&&k.includes("/")?c.jsx("div",{className:"font-semibold text-gray-900 text-sm lg:text-base bg-green-50 p-2 rounded-lg border border-green-200",children:k},L):k.startsWith("- Horario")?c.jsxs("div",{className:"flex items-start space-x-2 lg:space-x-3 bg-blue-50 p-2 lg:p-3 rounded-lg",children:[c.jsx(Cr,{size:12,className:"text-blue-600 mt-0.5 flex-shrink-0 w-3 h-3 lg:w-4 lg:h-4"}),c.jsx("span",{className:"font-medium text-blue-800 text-xs lg:text-sm",children:k.substring(2)})]},L):k.startsWith("- ")?c.jsxs("div",{className:"flex items-start space-x-2 lg:space-x-3 py-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 lg:w-2 lg:h-2 bg-gradient-to-r from-orange-400 to-orange-500 rounded-full mt-1.5 lg:mt-2 flex-shrink-0"}),c.jsx("span",{className:"text-xs lg:text-sm",children:k.substring(2)})]},L):k.startsWith("*")?c.jsx("div",{className:"text-xs text-orange-700 italic bg-orange-50 p-2 lg:p-3 rounded-lg border-l-4 border-orange-300",children:c.jsxs("div",{className:"flex items-start space-x-2",children:[c.jsx(zf,{size:10,className:"text-orange-500 mt-0.5 flex-shrink-0 w-[14px] h-[14px]"}),c.jsx("span",{children:k})]})},L):k.endsWith(":")?c.jsx("div",{className:"font-semibold text-gray-900 mt-3 lg:mt-4 mb-1 lg:mb-2 text-sm lg:text-base border-b border-gray-200 pb-1",children:k},L):c.jsx("div",{className:"mb-1 text-xs lg:text-sm",children:k},L)})})},w=b=>{const R=Math.max(...t.map(Ce=>Ce.price)),I=Math.min(...t.map(Ce=>Ce.price)),L=R-I,k=b.price===R||b.name.toLowerCase().includes("premium")||b.name.toLowerCase().includes("full"),Ae=b.price>I+L*.3&&b.price<R||b.name.toLowerCase().includes("parttime")||b.name.toLowerCase().includes("part time")||b.name.toLowerCase().includes("estándar")||b.name.toLowerCase().includes("standard");return k?c.jsxs("div",{className:"absolute -top-1 -right-1 lg:-top-2 lg:-right-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white px-2 py-0.5 lg:px-3 lg:py-1 rounded-full text-xs font-bold flex items-center space-x-1 shadow-lg z-10",children:[c.jsx(Ju,{size:8,className:"w-[10px] h-[10px]"}),c.jsx("span",{children:"PREMIUM"})]}):Ae?c.jsxs("div",{className:"absolute -top-1 -right-1 lg:-top-2 lg:-right-2 bg-gradient-to-r from-orange-500 to-red-500 text-white px-2 py-0.5 lg:px-3 lg:py-1 rounded-full text-xs font-bold flex items-center space-x-1 shadow-lg z-10",children:[c.jsx(q5,{size:8,className:"w-[10px] h-[10px]"}),c.jsx("span",{children:"POPULAR"})]}):null},N=b=>{const R=Math.max(...t.map(Ce=>Ce.price)),I=Math.min(...t.map(Ce=>Ce.price)),L=R-I,k=b.price===R||b.name.toLowerCase().includes("premium")||b.name.toLowerCase().includes("full"),Ae=b.price>I+L*.3&&b.price<R||b.name.toLowerCase().includes("parttime")||b.name.toLowerCase().includes("part time")||b.name.toLowerCase().includes("estándar")||b.name.toLowerCase().includes("standard");return k?"from-purple-50 via-purple-50 to-indigo-50 border-purple-200":Ae?"from-orange-50 via-red-50 to-pink-50 border-orange-200":"from-blue-50 via-blue-50 to-indigo-50 border-blue-200"},M=b=>{const R=Math.max(...t.map(Ce=>Ce.price)),I=Math.min(...t.map(Ce=>Ce.price)),L=R-I,k=b.price===R||b.name.toLowerCase().includes("premium")||b.name.toLowerCase().includes("full"),Ae=b.price>I+L*.3&&b.price<R||b.name.toLowerCase().includes("parttime")||b.name.toLowerCase().includes("part time")||b.name.toLowerCase().includes("estándar")||b.name.toLowerCase().includes("standard");return k?"from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700":Ae?"from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600":"from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700"},j=b=>{const R=[];return b.startHour&&b.endHour&&R.push({icon:c.jsx(Cr,{size:12,className:"text-blue-500 w-3 h-3 lg:w-4 lg:h-4"}),text:`${b.startHour} - ${b.endHour}`}),b.days&&R.push({icon:c.jsx(Qi,{size:12,className:"text-green-500 w-3 h-3 lg:w-4 lg:h-4"}),text:b.days}),R},O=b=>b.name.toLowerCase().includes("diario")||b.name.toLowerCase().includes("pase")||b.price<=8e3,z=b=>O(b)?"por día":"por mes",ne=b=>{m&&n(b)},re=()=>c.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-2 lg:p-4 z-[60]",onClick:b=>b.target===b.currentTarget&&_(!1),children:c.jsxs(Te.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-white rounded-2xl lg:rounded-3xl max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl",onClick:b=>b.stopPropagation(),children:[c.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-4 lg:p-6 text-white relative",children:[c.jsx("button",{onClick:()=>_(!1),className:"absolute top-3 right-3 lg:top-4 lg:right-4 w-8 h-8 lg:w-10 lg:h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-all",children:c.jsx(Ji,{size:16,className:"text-white w-4 h-4 lg:w-5 lg:h-5"})}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center",children:c.jsx(M2,{size:20,className:"w-5 h-5 lg:w-6 lg:h-6"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl lg:text-2xl font-bold",children:"Términos y Condiciones"}),c.jsx("p",{className:"text-blue-100 text-sm lg:text-base",children:"Planes Estudiantiles Tent Cowork"})]})]})]}),c.jsx("div",{className:"p-4 lg:p-6 max-h-[70vh] overflow-y-auto",children:c.jsxs("div",{className:"prose max-w-none text-sm lg:text-base",children:[c.jsx("p",{className:"text-gray-700 mb-4",children:"Al adquirir y utilizar cualquiera de los planes estudiantiles ofrecidos por Tent Cowork, el usuario acepta de manera expresa los siguientes términos y condiciones:"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-3 lg:p-4 rounded-r-lg",children:[c.jsx("h3",{className:"font-bold text-red-800 mb-2",children:"1. Prioridad de Uso"}),c.jsxs("ul",{className:"text-red-700 space-y-1 text-sm lg:text-base",children:[c.jsx("li",{children:"• La prioridad de utilización de los espacios siempre será de los clientes corporativos del coworking."}),c.jsx("li",{children:"• El uso de escritorios por parte de estudiantes estará sujeto a disponibilidad."})]})]}),c.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 lg:p-4 rounded-r-lg",children:[c.jsx("h3",{className:"font-bold text-blue-800 mb-2",children:"2. Acceso y Espacios"}),c.jsxs("ul",{className:"text-blue-700 space-y-1 text-sm lg:text-base",children:[c.jsx("li",{children:"• No está permitido el uso de salas de reuniones bajo ningún plan estudiantil."}),c.jsx("li",{children:"• La permanencia en el espacio común está condicionada a un comportamiento adecuado y respetuoso, sin elevar el tono de voz ni generar molestias a otros usuarios."}),c.jsx("li",{children:"• En caso de no cumplir con este punto, el personal podrá solicitar amablemente que el estudiante se retire sin reembolso."})]})]}),c.jsxs("div",{className:"bg-green-50 border-l-4 border-green-400 p-3 lg:p-4 rounded-r-lg",children:[c.jsx("h3",{className:"font-bold text-green-800 mb-2",children:"3. Servicios"}),c.jsx("ul",{className:"text-green-700 space-y-1 text-sm lg:text-base",children:c.jsx("li",{children:"• Los servicios complementarios ofrecidos (café, agua, papel higiénico, climatización, conectividad, etc.) están incluidos según disponibilidad, pero no se garantiza su provisión continua ni se aceptarán reclamos en caso de faltantes momentáneos."})})]}),c.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-3 lg:p-4 rounded-r-lg",children:[c.jsx("h3",{className:"font-bold text-yellow-800 mb-2",children:"4. Responsabilidad del Usuario"}),c.jsxs("ul",{className:"text-yellow-700 space-y-1 text-sm lg:text-base",children:[c.jsx("li",{children:"• Cada usuario es responsable de mantener el orden y limpieza del espacio que utilice."}),c.jsx("li",{children:"• Tent Cowork no se responsabiliza por objetos personales perdidos, olvidados o dañados dentro de las instalaciones."})]})]}),c.jsxs("div",{className:"bg-purple-50 border-l-4 border-purple-400 p-3 lg:p-4 rounded-r-lg",children:[c.jsx("h3",{className:"font-bold text-purple-800 mb-2",children:"5. Cancelaciones y Reembolsos"}),c.jsx("ul",{className:"text-purple-700 space-y-1 text-sm lg:text-base",children:c.jsx("li",{children:"• No se realizarán reembolsos ni compensaciones por días no utilizados, faltantes de insumos o cierres excepcionales del cowork (por mantenimiento o fuerza mayor)."})})]}),c.jsxs("div",{className:"bg-indigo-50 border-l-4 border-indigo-400 p-3 lg:p-4 rounded-r-lg",children:[c.jsx("h3",{className:"font-bold text-indigo-800 mb-2",children:"6. Vigencia y Modificaciones"}),c.jsx("ul",{className:"text-indigo-700 space-y-1 text-sm lg:text-base",children:c.jsx("li",{children:"• Tent Cowork se reserva el derecho de modificar los horarios, condiciones y servicios ofrecidos, notificando a los usuarios por los canales oficiales."})})]})]}),c.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border-2 border-gray-200",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx(el,{className:"text-gray-600 w-5 h-5"}),c.jsx("span",{className:"font-bold text-gray-800",children:"Declaración de Aceptación"})]}),c.jsx("p",{className:"text-gray-700 text-sm lg:text-base",children:"Al continuar con el uso del servicio, el estudiante declara haber leído y aceptado estos términos."})]})]})}),c.jsx("div",{className:"border-t border-gray-200 p-4 lg:p-6 bg-gray-50",children:c.jsx("div",{className:"flex items-center justify-center space-x-3",children:c.jsx("button",{onClick:()=>_(!1),className:"px-6 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg font-medium transition-colors",children:"Cerrar"})})})]})}),P=({plan:b,index:R})=>c.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:R*.1},whileHover:{y:-2,scale:1.01},whileTap:{scale:.99},onClick:()=>u(b.id),className:`relative bg-gradient-to-br ${N(b)} rounded-xl lg:rounded-2xl border-2 overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer group h-full flex flex-col`,children:[w(b),c.jsxs("div",{className:"p-3 lg:p-6 flex flex-col h-full",children:[c.jsxs("div",{className:"text-center mb-3 lg:mb-4",children:[c.jsx("h3",{className:"text-sm lg:text-lg font-bold text-gray-900 mb-2 lg:mb-3 min-h-[2.5rem] lg:min-h-[3rem] flex items-center justify-center leading-tight",children:b.name}),c.jsxs("div",{className:"text-xl lg:text-2xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:["$",b.price.toLocaleString()]}),c.jsx("div",{className:"text-xs lg:text-sm text-gray-500 font-medium",children:z(b)})]}),c.jsx("div",{className:"space-y-1 lg:space-y-2 mb-3 lg:mb-4 flex-1",children:j(b).map((I,L)=>c.jsxs("div",{className:"flex items-center space-x-1 lg:space-x-2 text-xs lg:text-sm text-gray-600",children:[I.icon,c.jsx("span",{className:"truncate",children:I.text})]},L))}),b.description&&c.jsx("p",{className:"text-gray-600 text-xs lg:text-sm mb-3 lg:mb-4 line-clamp-2 min-h-[2rem] lg:min-h-[2.5rem] flex items-start",children:b.description.split(`
`)[0]?.trim()||b.description.substring(0,60)+"..."}),c.jsxs("div",{className:"flex items-center justify-center space-x-1 lg:space-x-2 text-blue-600 group-hover:text-blue-700 transition-colors mt-auto",children:[c.jsx("span",{className:"text-xs lg:text-sm font-medium",children:"Ver detalles"}),c.jsx(Ac,{size:12,className:"group-hover:translate-x-1 transition-transform w-3 h-3 lg:w-4 lg:h-4"})]})]})]}),T=({plan:b})=>c.jsx(Te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 lg:p-4 z-50",onClick:R=>R.target===R.currentTarget&&u(null),children:c.jsxs(Te.div,{initial:{y:50},animate:{y:0},exit:{y:50},className:`relative bg-gradient-to-br ${N(b)} rounded-2xl lg:rounded-3xl border-2 overflow-hidden shadow-2xl max-w-full sm:max-w-xl md:max-w-2xl w-full max-h-[95vh] lg:max-h-[90vh] overflow-y-auto`,onClick:R=>R.stopPropagation(),children:[w(b),c.jsx("button",{onClick:()=>u(null),className:"absolute top-3 right-3 lg:top-4 lg:right-4 z-20 w-8 h-8 lg:w-10 lg:h-10 bg-white bg-opacity-90 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-lg",children:c.jsx(Ji,{size:16,className:"text-gray-600 w-4 h-4 lg:w-5 lg:h-5"})}),c.jsxs("div",{className:"p-4 lg:p-8",children:[c.jsxs("div",{className:"text-center mb-4 lg:mb-6",children:[c.jsx("h3",{className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-1 lg:mb-2",children:b.name}),c.jsxs("div",{className:"text-3xl lg:text-5xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-1 lg:mb-2",children:["$",b.price.toLocaleString()]}),c.jsx("div",{className:"text-base lg:text-lg text-gray-500 font-medium",children:z(b)})]}),c.jsx("div",{className:"space-y-2 sm:grid sm:grid-cols-2 sm:gap-3 lg:grid lg:grid-cols-2 lg:gap-3 lg:space-y-0 mb-4 lg:mb-6",children:[...b.startHour&&b.endHour?[{icon:c.jsx(Cr,{size:14,className:"text-blue-500 w-3.5 h-3.5 lg:w-4 lg:h-4"}),text:`Horario: ${b.startHour} - ${b.endHour}`}]:[],...b.days?[{icon:c.jsx(Qi,{size:14,className:"text-green-500 w-3.5 h-3.5 lg:w-4 lg:h-4"}),text:`Días: ${b.days}`}]:[],{icon:c.jsx(Pc,{size:14,className:"text-purple-500 w-3.5 h-3.5 lg:w-4 lg:h-4"}),text:"Acceso a todas las instalaciones"},{icon:c.jsx(S6,{size:14,className:"text-orange-500 w-3.5 h-3.5 lg:w-4 lg:h-4"}),text:"Asesoramiento personalizado"},{icon:c.jsx(Yb,{size:14,className:"text-red-500 w-3.5 h-3.5 lg:w-4 lg:h-4"}),text:"Comunidad de estudiantes"}].map((R,I)=>c.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3 bg-white bg-opacity-60 rounded-lg p-2 lg:p-3",children:[R.icon,c.jsx("span",{className:"text-xs lg:text-sm font-medium text-gray-700",children:R.text})]},I))}),b.description&&c.jsxs("div",{className:"mb-4 lg:mb-6",children:[c.jsx("div",{className:`${h===b.id?"hidden":"block"}`,children:c.jsx("p",{className:"text-gray-700 text-xs lg:text-sm leading-relaxed",children:b.description.split(`
`)[0]?.trim()||b.description.substring(0,120)+"..."})}),c.jsx(un,{children:h===b.id&&c.jsx(Te.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:A(b.description)})}),b.description.length>120&&c.jsxs("button",{onClick:()=>f(h===b.id?null:b.id),className:"flex items-center space-x-1 mt-2 lg:mt-3 text-blue-600 hover:text-blue-700 text-xs lg:text-sm font-medium transition-colors",children:[c.jsx("span",{children:h===b.id?"Ver menos":"Ver detalles completos"}),h===b.id?c.jsx(Kb,{size:12,className:"w-3 h-3 lg:w-4 lg:h-4"}):c.jsx(K0,{size:12,className:"w-3 h-3 lg:w-4 lg:h-4"})]})]}),c.jsx("div",{className:"bg-white bg-opacity-80 rounded-xl p-3 lg:p-4 mb-4 lg:mb-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-gray-800 text-sm lg:text-base",children:"¿Listo para comenzar?"}),c.jsx("div",{className:"text-xs lg:text-sm text-gray-600",children:"Acceso inmediato tras la confirmación de pago"})]}),c.jsx(zf,{className:"text-yellow-500 w-5 h-5 lg:w-6 lg:h-6"})]})}),s&&c.jsx("div",{className:"mb-4 lg:mb-6 bg-amber-50 border-2 border-amber-200 rounded-xl p-3 lg:p-4",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"flex-shrink-0 mt-0.5",children:c.jsx("div",{className:`w-4 h-4 lg:w-5 lg:h-5 border-2 rounded cursor-pointer transition-all duration-200 flex items-center justify-center ${m?"bg-green-500 border-green-500":"border-gray-300 hover:border-amber-400"}`,onClick:()=>x(!m),children:m&&c.jsx(gr,{size:12,className:"text-white w-3 h-3 lg:w-3.5 lg:h-3.5"})})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-1 text-xs lg:text-sm",children:[c.jsx("span",{className:"text-gray-700",children:"Acepto los"}),c.jsxs("button",{onClick:()=>_(!0),className:"text-amber-600 hover:text-amber-700 font-medium underline underline-offset-2 decoration-amber-400 hover:decoration-amber-500 transition-colors inline-flex items-center gap-1",children:[c.jsx(M2,{size:12,className:"w-3 h-3"}),"Términos y Condiciones",c.jsx(H5,{size:10,className:"w-2.5 h-2.5"})]})]}),c.jsx("p",{className:"text-xs text-amber-700 mt-1",children:"Es obligatorio aceptar los términos para proceder con la contratación"})]})]})}),c.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:gap-3 lg:gap-4",children:[c.jsxs(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>u(null),className:"flex-1 py-2 lg:py-3 bg-gray-100 text-gray-700 rounded-xl font-medium transition-all hover:bg-gray-200 flex items-center justify-center space-x-2 text-sm lg:text-base",children:[c.jsx(u5,{size:14,className:"w-3.5 h-3.5 lg:w-[18px] lg:h-[18px]"}),c.jsx("span",{children:"Volver"})]}),c.jsx(Te.button,{whileHover:m&&s?{scale:1.02}:{},whileTap:m&&s?{scale:.98}:{},onClick:()=>ne(b),disabled:r||!s||!m,className:`flex-[2] py-2 lg:py-3 rounded-xl font-bold transition-all duration-300 flex items-center justify-center space-x-2 lg:space-x-3 shadow-lg text-sm lg:text-base ${!m&&s||r||!s?"bg-gray-300 text-gray-500 cursor-not-allowed":`bg-gradient-to-r ${M(b)} text-white hover:shadow-xl`}`,children:r?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-4 h-4 lg:w-5 lg:h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),c.jsx("span",{children:"Procesando..."})]}):s?m?c.jsxs(c.Fragment,{children:[c.jsx(ia,{size:14,className:"w-3.5 h-3.5 lg:w-[18px] lg:h-[18px]"}),c.jsx("span",{children:"¡Contratar Ahora!"}),c.jsx(Ac,{size:14,className:"w-3.5 h-3.5 lg:w-[18px] lg:h-[18px]"})]}):c.jsxs(c.Fragment,{children:[c.jsx(Zo,{size:14,className:"w-3.5 h-3.5 lg:w-[18px] lg:h-[18px]"}),c.jsx("span",{children:"Acepta los términos para continuar"})]}):c.jsxs(c.Fragment,{children:[c.jsx(gr,{size:14,className:"w-3.5 h-3.5 lg:w-[18px] lg:h-[18px]"}),c.jsx("span",{children:"Ya tenés un plan activo"})]})})]}),s&&m&&c.jsx("div",{className:"mt-3 lg:mt-4 text-center",children:c.jsxs("div",{className:"flex items-center justify-center space-x-2 text-xs text-gray-500",children:[c.jsx(gr,{size:10,className:"text-green-500 w-2.5 h-2.5 lg:w-3 lg:h-3"}),c.jsx("span",{children:"Acceso inmediato • Soporte 24/7 • Instalaciones premium"})]})})]})]})});return c.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl lg:rounded-3xl shadow-2xl overflow-hidden max-w-full sm:max-w-xl md:max-w-7xl mx-auto",children:[c.jsxs("div",{className:"bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 p-4 lg:p-8 text-white relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 lg:w-40 lg:h-40 opacity-10",children:c.jsx(xg,{size:96,className:"w-24 h-24 lg:w-40 lg:h-40"})}),c.jsxs("div",{className:"relative z-10",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3 lg:mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-4",children:[c.jsx("div",{className:"w-10 h-10 lg:w-16 lg:h-16 bg-white bg-opacity-20 rounded-xl lg:rounded-2xl flex items-center justify-center",children:c.jsx(a0,{size:20,className:"text-white w-5 h-5 lg:w-8 lg:h-8"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl lg:text-3xl font-bold",children:"Planes Disponibles"}),c.jsx("p",{className:"text-white/80 text-sm lg:text-base",children:"Elige tu plan perfecto"})]})]}),c.jsx("div",{className:"text-right",children:c.jsx("div",{className:"bg-white bg-opacity-20 px-2 py-1 lg:px-4 lg:py-2 rounded-full",children:c.jsxs("span",{className:"text-sm lg:text-lg font-bold",children:[t.length," Opciones"]})})})]}),c.jsx("div",{className:"bg-white bg-opacity-10 rounded-xl p-3 lg:p-4 border border-white border-opacity-20",children:c.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[c.jsx(L2,{size:18,className:"w-4.5 h-4.5 lg:w-6 lg:h-6"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-base lg:text-lg",children:"¡Comenzá tu transformación hoy!"}),c.jsx("div",{className:"text-white/80 text-xs lg:text-sm",children:"Haz clic en cualquier plan para ver todos los detalles"})]})]})})]})]}),c.jsxs("div",{className:"p-4 lg:p-8",children:[!s&&c.jsx(Te.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"mb-4 lg:mb-8 bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl lg:rounded-2xl p-4 lg:p-6",children:c.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[c.jsx("div",{className:"w-8 h-8 lg:w-12 lg:h-12 bg-blue-100 rounded-full flex items-center justify-center",children:c.jsx(gr,{className:"text-blue-600 w-4 h-4 lg:w-6 lg:h-6"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-blue-800 text-sm lg:text-lg",children:"¡Ya tenés un plan activo!"}),c.jsx("p",{className:"text-blue-700 text-xs lg:text-base",children:"Los planes se renuevan automáticamente cada mes desde la fecha de pago."})]})]})}),t.length>0?c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-3 lg:gap-6 auto-rows-fr",children:t.map((b,R)=>c.jsx(P,{plan:b,index:R},b.id))}):c.jsxs("div",{className:"text-center py-8 lg:py-12",children:[c.jsx("div",{className:"w-16 h-16 lg:w-24 lg:h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-4 lg:mb-6",children:c.jsx(Zo,{size:32,className:"text-gray-400 w-8 h-8 lg:w-10 lg:h-10"})}),c.jsx("h3",{className:"text-xl lg:text-2xl font-bold text-gray-700 mb-2",children:"No hay planes disponibles"}),c.jsx("p",{className:"text-gray-500 text-sm lg:text-base",children:"Los planes estarán disponibles próximamente"})]}),s&&t.length>0&&c.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-4 lg:mt-8 bg-gradient-to-r from-green-50 to-blue-50 rounded-xl lg:rounded-2xl p-4 lg:p-6 border-2 border-green-200",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"flex items-center justify-center space-x-1 lg:space-x-2 mb-2 lg:mb-3",children:[c.jsx(xg,{className:"text-yellow-500 w-4.5 h-4.5 lg:w-6 lg:h-6"}),c.jsx("span",{className:"text-base lg:text-lg font-bold text-gray-800",children:"¡Beneficios Exclusivos!"}),c.jsx(xg,{className:"text-yellow-500 w-4.5 h-4.5 lg:w-6 lg:h-6"})]}),c.jsx("p",{className:"text-gray-700 mb-3 lg:mb-4 text-sm lg:text-base",children:"Al contratar cualquier plan obtenés acceso a nuestra comunidad exclusiva de estudiantes, eventos especiales y descuentos en servicios adicionales."}),c.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:items-center sm:justify-center sm:space-y-0 sm:space-x-6 text-xs lg:text-sm text-gray-600",children:[c.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[c.jsx(Pc,{size:12,className:"text-blue-500 w-3 h-3 lg:w-4 lg:h-4"}),c.jsx("span",{children:"Comunidad activa"})]}),c.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[c.jsx(zf,{size:12,className:"text-purple-500 w-3 h-3 lg:w-4 lg:h-4"}),c.jsx("span",{children:"Eventos exclusivos"})]}),c.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[c.jsx(L2,{size:12,className:"text-green-500 w-3 h-3 lg:w-4 lg:h-4"}),c.jsx("span",{children:"Descuentos especiales"})]})]})]})})]}),c.jsx(un,{children:o&&c.jsx(T,{plan:t.find(b=>b.id===o)})}),c.jsx(un,{children:v&&c.jsx(re,{})})]})},x7=({plan:t,isOpen:e,onClose:n,loading:r,onMessage:s,studentData:i,onPayWithMercadoPago:o,onPayWithCash:u})=>{const[h,f]=ee.useState(null),[m,x]=ee.useState(!1),v=N=>{f(N)},_=async()=>{if(!t||!h||!i){s("❌ Faltan datos para procesar el pago");return}x(!0);try{h==="mercadopago"?o(t):h==="recepcion"&&(u(t),n())}catch(N){console.error("❌ Error procesando pago:",N),s(`❌ Error: ${N.message}`)}finally{x(!1)}},A=N=>N.name.toLowerCase().includes("diario")||N.name.toLowerCase().includes("pase")||N.price<=8e3,w=N=>A(N)?"por día":"por mes";return t?c.jsx(un,{children:e&&c.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 lg:p-4",children:c.jsxs(Te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl lg:rounded-3xl max-w-full sm:max-w-md lg:max-w-lg w-full max-h-[95vh] lg:max-h-[90vh] overflow-y-auto shadow-2xl",children:[c.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-4 lg:p-6 rounded-t-2xl lg:rounded-t-3xl text-white relative",children:[c.jsx("button",{onClick:n,className:"absolute top-3 right-3 lg:top-4 lg:right-4 w-8 h-8 lg:w-10 lg:h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-all",children:c.jsx(Ji,{size:16,className:"w-4 h-4 lg:w-5 lg:h-5"})}),c.jsxs("div",{className:"pr-10 lg:pr-12",children:[c.jsx("h2",{className:"text-xl lg:text-2xl font-bold mb-1 lg:mb-2",children:"Método de Pago"}),c.jsx("p",{className:"text-blue-100 text-sm lg:text-base",children:"Elegí cómo querés abonar tu plan"})]})]}),c.jsxs("div",{className:"p-4 lg:p-6",children:[c.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl lg:rounded-2xl p-4 lg:p-6 mb-4 lg:mb-6 border border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3 lg:mb-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-base lg:text-lg font-bold text-gray-800",children:t.name}),t.days&&c.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["📅 ",t.days," ",t.startHour&&t.endHour&&`• ⏰ ${t.startHour} - ${t.endHour}`]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-xl lg:text-2xl font-bold text-blue-600",children:["$",t.price.toLocaleString()]}),c.jsx("div",{className:"text-xs lg:text-sm text-gray-500",children:w(t)})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-xs lg:text-sm text-gray-600",children:[c.jsx(el,{size:14,className:"text-green-500 w-3.5 h-3.5 lg:w-4 lg:h-4"}),c.jsx("span",{children:"Acceso inmediato tras confirmación de pago"})]})]}),c.jsxs("div",{className:"space-y-3 lg:space-y-4 mb-4 lg:mb-6",children:[c.jsx("h4",{className:"text-base lg:text-lg font-semibold text-gray-800 mb-3 lg:mb-4",children:"Seleccioná tu método de pago preferido:"}),c.jsx(Te.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>v("mercadopago"),className:`border-2 rounded-xl lg:rounded-2xl p-4 lg:p-6 cursor-pointer transition-all duration-200 ${h==="mercadopago"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 bg-white"}`,children:c.jsxs("div",{className:"flex items-center space-x-3 lg:space-x-4",children:[c.jsx("div",{className:`w-5 h-5 lg:w-6 lg:h-6 rounded-full border-2 flex items-center justify-center ${h==="mercadopago"?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:h==="mercadopago"&&c.jsx(gr,{size:12,className:"text-white w-3 h-3 lg:w-4 lg:h-4"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3 mb-2",children:[c.jsx("div",{className:"w-8 h-6 lg:w-12 lg:h-8 bg-gradient-to-r from-blue-400 to-blue-600 rounded flex items-center justify-center",children:c.jsx("img",{src:"/mercadopago.png",alt:"Mercado Pago Logo",className:"object-cover w-full h-full"})}),c.jsxs("div",{children:[c.jsx("h5",{className:"font-semibold text-gray-800 text-sm lg:text-base",children:"Mercado Pago"}),c.jsx("p",{className:"text-xs lg:text-sm text-gray-600",children:"Pago online seguro"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-3 text-xs text-gray-600",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(a0,{size:10,className:"text-green-500 w-2.5 h-2.5 lg:w-3 lg:h-3"}),c.jsx("span",{children:"Pago inmediato"})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(el,{size:10,className:"text-blue-500 w-2.5 h-2.5 lg:w-3 lg:h-3"}),c.jsx("span",{children:"100% seguro"})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(ia,{size:10,className:"text-purple-500 w-2.5 h-2.5 lg:w-3 lg:h-3"}),c.jsx("span",{children:"Tarjetas y débito"})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(gr,{size:10,className:"text-green-500 w-2.5 h-2.5 lg:w-3 lg:h-3"}),c.jsx("span",{children:"Activación automática"})]})]})]})]})}),c.jsx(Te.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>v("recepcion"),className:`border-2 rounded-xl lg:rounded-2xl p-4 lg:p-6 cursor-pointer transition-all duration-200 ${h==="recepcion"?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300 bg-white"}`,children:c.jsxs("div",{className:"flex items-center space-x-3 lg:space-x-4",children:[c.jsx("div",{className:`w-5 h-5 lg:w-6 lg:h-6 rounded-full border-2 flex items-center justify-center ${h==="recepcion"?"border-green-500 bg-green-500":"border-gray-300"}`,children:h==="recepcion"&&c.jsx(gr,{size:12,className:"text-white w-3 h-3 lg:w-4 lg:h-4"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3 mb-2",children:[c.jsx("div",{className:"w-8 h-6 lg:w-12 lg:h-8 bg-gradient-to-r from-green-400 to-green-600 rounded flex items-center justify-center",children:c.jsx(pg,{size:14,className:"text-white w-3.5 h-3.5 lg:w-5 lg:h-5"})}),c.jsx("div",{children:c.jsx("h5",{className:"font-semibold text-gray-800 text-sm lg:text-base",children:"Pago en Recepción"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:gap-3 text-xs text-gray-600",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Cc,{size:10,className:"text-green-500 w-2.5 h-2.5 lg:w-3 lg:h-3"}),c.jsx("span",{children:"Sin comisiones"})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Cr,{size:10,className:"text-orange-500 w-2.5 h-2.5 lg:w-3 lg:h-3"}),c.jsx("span",{children:"Activación manual"})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(pg,{size:10,className:"text-blue-500 w-2.5 h-2.5 lg:w-3 lg:h-3"}),c.jsx("span",{children:"En nuestras instalaciones"})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(gr,{size:10,className:"text-green-500 w-2.5 h-2.5 lg:w-3 lg:h-3"}),c.jsx("span",{children:"Efectivo, transferencia o posnet"})]})]})]})]})})]}),h==="recepcion"&&c.jsx(Te.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-orange-50 border border-orange-200 rounded-xl p-3 lg:p-4 mb-4 lg:mb-6",children:c.jsxs("div",{className:"flex items-start space-x-2 lg:space-x-3",children:[c.jsx(pg,{size:14,className:"text-orange-500 mt-0.5 w-3.5 h-3.5 lg:w-4 lg:h-4"}),c.jsxs("div",{children:[c.jsx("h6",{className:"font-medium text-orange-800 mb-1 text-sm lg:text-base",children:"Pago en Recepción"}),c.jsx("p",{className:"text-xs lg:text-sm text-orange-700",children:"Tu solicitud quedará pendiente hasta que realices el pago en nuestras instalaciones. Un administrador activará tu plan una vez confirmado el pago."})]})]})}),h==="mercadopago"&&c.jsx(Te.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-blue-50 border border-blue-200 rounded-xl p-3 lg:p-4 mb-4 lg:mb-6",children:c.jsxs("div",{className:"flex items-start space-x-2 lg:space-x-3",children:[c.jsx(a0,{size:14,className:"text-blue-500 mt-0.5 w-3.5 h-3.5 lg:w-4 lg:h-4"}),c.jsxs("div",{children:[c.jsx("h6",{className:"font-medium text-blue-800 mb-1 text-sm lg:text-base",children:"Pago con Mercado Pago"}),c.jsx("p",{className:"text-xs lg:text-sm text-blue-700",children:"Serás redirigido a la plataforma segura de Mercado Pago. Tu plan se activará automáticamente una vez confirmado el pago."})]})]})}),c.jsx(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:_,disabled:!h||r||m,className:`w-full py-3 lg:py-4 rounded-xl font-bold text-base lg:text-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 lg:space-x-3 shadow-lg hover:shadow-xl ${h==="mercadopago"?"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white":h==="recepcion"?"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white":"bg-gray-300 text-gray-500"}`,children:r||m?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-5 h-5 lg:w-6 lg:h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}),c.jsx("span",{children:"Procesando..."})]}):h?h==="mercadopago"?c.jsxs(c.Fragment,{children:[c.jsx(ia,{size:18,className:"w-4.5 h-4.5 lg:w-5 lg:h-5"}),c.jsx("span",{children:"Continuar con Mercado Pago"}),c.jsx(Ac,{size:18,className:"w-4.5 h-4.5 lg:w-5 lg:h-5"})]}):c.jsxs(c.Fragment,{children:[c.jsx(Cc,{size:18,className:"w-4.5 h-4.5 lg:w-5 lg:h-5"}),c.jsx("span",{children:"Solicitar Plan (Pago en Recepción)"}),c.jsx(Ac,{size:18,className:"w-4.5 h-4.5 lg:w-5 lg:h-5"})]}):c.jsx("span",{children:"Seleccioná un método de pago"})}),c.jsx("div",{className:"mt-4 lg:mt-6 text-center",children:c.jsxs("div",{className:"flex items-center justify-center space-x-2 text-xs text-gray-500",children:[c.jsx(el,{size:10,className:"text-green-500 w-2.5 h-2.5 lg:w-3 lg:h-3"}),c.jsx("span",{children:"Todos los pagos son seguros y están protegidos"})]})})]})]})})}):null};function v7(){const{user:t}=d7(),e=Lh(),[n,r]=ee.useState(null),[s,i]=ee.useState([]),[o,u]=ee.useState(null),[h,f]=ee.useState(!0),[m,x]=ee.useState(!1),[v,_]=ee.useState(!1),[A,w]=ee.useState(null),[N,M]=ee.useState(!1),j=ee.useRef(null),O=ae=>{const _e=ae.toLowerCase();return _e.includes("diario")||_e.includes("día")||_e.includes("day")||_e.includes("pase")&&(_e.includes("diario")||_e.includes("día"))},z=ae=>{const _e=new Date;let Ee,W;return O(ae.name)?(Ee=new Date(_e),W=new Date(_e),W.setHours(23,59,59,999)):(Ee=new Date(_e),W=new Date(_e),W.setDate(W.getDate()+30)),{fechaDesde:Mt.fromDate(Ee),fechaHasta:Mt.fromDate(W)}},ne=(ae,_e)=>{if(!ae||!_e)return!1;const Ee=new Date,W=ae.toDate(),V=_e.toDate();return Ee>=W&&Ee<=V},re=ae=>{if(!ae)return 0;const _e=new Date,W=ae.toDate().getTime()-_e.getTime();return Math.ceil(W/(1e3*3600*24))},P=ae=>{if(!ae)return 0;const _e=new Date,W=ae.toDate().getTime()-_e.getTime();return Math.ceil(W/(1e3*3600))},T=ae=>{if(!ae)return"sin_plan";if(ae.fechaDesde&&ae.fechaHasta){if(!ne(ae.fechaDesde,ae.fechaHasta))return re(ae.fechaHasta)<0?"vencido":"por_vencer";if(O(ae.nombre)){const Ee=P(ae.fechaHasta);if(Ee<=2&&Ee>0)return"por_vencer"}else{const Ee=re(ae.fechaHasta);if(Ee<=7&&Ee>0)return"por_vencer"}return"activa"}return ae.estado||"sin_plan"},b=()=>{if(!n?.membresia)return!0;const ae=T(n.membresia);return ae==="sin_plan"||ae==="vencido"||ae==="cancelada"};ee.useEffect(()=>{(async()=>{if(t){f(!0);try{const _e=Zs(zt(st,"students"),Ss("email","==",t.email)),Ee=await Wt(_e);if(!Ee.empty){const Y={...Ee.docs[0].data(),uid:Ee.docs[0].id};if(Y.membresia){const X=Y.membresia;X.fechaDesde&&typeof X.fechaDesde=="string"&&(X.fechaDesde=Mt.fromDate(new Date(X.fechaDesde))),X.fechaHasta&&typeof X.fechaHasta=="string"&&(X.fechaHasta=Mt.fromDate(new Date(X.fechaHasta)))}r(Y)}const V=(await Wt(zt(st,"plans"))).docs.map(Y=>{const X=Y.data();return{id:Y.id,name:X.name||"",price:X.price||0,description:X.description||"",days:X.days||"",startHour:X.startHour||"",endHour:X.endHour||""}});i(V)}catch(_e){console.error("Error cargando datos:",_e)}finally{f(!1)}}})()},[t]);const R=async ae=>{const _e=ae.target.files?.[0];if(!(!_e||!n)){if(!_e.type.startsWith("image/")){u("Por favor selecciona una imagen válida.");return}if(_e.size>5*1024*1024){u("La imagen debe pesar menos de 5MB.");return}x(!0);try{const Ee=new FileReader;Ee.onload=async W=>{const V=W.target?.result;await Fn($t(st,"students",n.uid),{fotoURL:V}),r({...n,fotoURL:V}),u("¡Foto de perfil actualizada exitosamente!")},Ee.readAsDataURL(_e)}catch(Ee){console.error("Error uploading photo:",Ee),u("Error al subir la foto. Intentá nuevamente.")}finally{x(!1)}}},I=()=>{j.current?.click()},L=async ae=>{if(n){if(!b()){u("Ya tenés un plan activo vigente.");return}f(!0);try{const _e={plan:ae.name,"membresia.nombre":ae.name,"membresia.estado":"pendiente","membresia.montoPagado":0,"membresia.medioPago":"","membresia.fechaDesde":null,"membresia.fechaHasta":null};await Fn($t(st,"students",n.uid),_e),r({...n,plan:ae.name,membresia:{nombre:ae.name,estado:"pendiente",montoPagado:0,medioPago:"",fechaDesde:void 0,fechaHasta:void 0}});const Ee=O(ae.name)?"hasta las 23:59 de hoy":"por 1 mes completo";u(`¡Plan solicitado! Una vez que realices el pago, tendrás acceso ${Ee} desde la fecha de pago.`)}catch(_e){console.error("Error al contratar plan:",_e),u("Error al contratar el plan. Intentá nuevamente.")}finally{f(!1)}}},k=async()=>{await Rc(On),e("/login")},Ae=ae=>{r(ae)},Ce=ae=>{if(!b()){u("Ya tenés un plan activo vigente.");return}w(ae),M(!0)},Ue=async ae=>{if(n){_(!0);try{const{fechaDesde:_e,fechaHasta:Ee}=z(ae),V={paymentData:{...{fullName:n.fullName,amount:ae.price,plan:ae.name,studentId:n.uid,studentEmail:n.email,fechaDesde:_e.toDate().toISOString(),fechaHasta:Ee.toDate().toISOString(),tipoPlan:O(ae.name)?"diario":"mensual"},method:"Mercado Pago Hospedado",date:new Date().toISOString(),facturado:!1}},Y=await fetch("http://localhost:4000/api/payments/create-preference",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)});if(!Y.ok){const J=await Y.json();throw console.error("❌ Error del backend:",J),new Error(J.error||`Error ${Y.status}`)}const X=await Y.json();if(X.init_point)window.location.href=X.init_point;else throw new Error("No se recibió URL de pago de Mercado Pago")}catch(_e){console.error("❌ Error en pago con Mercado Pago:",_e),u(`Error procesando pago: ${_e.message}`)}finally{_(!1)}}},Re=async ae=>{if(n){_(!0);try{const _e={plan:ae.name,"membresia.nombre":ae.name,"membresia.estado":"pendiente","membresia.montoPagado":0,"membresia.medioPago":"Efectivo","membresia.fechaDesde":null,"membresia.fechaHasta":null};await Fn($t(st,"students",n.uid),_e),r({...n,plan:ae.name,membresia:{nombre:ae.name,estado:"pendiente",montoPagado:0,medioPago:"Efectivo",fechaDesde:void 0,fechaHasta:void 0}});const Ee=O(ae.name)?"hasta las 23:59 de hoy":"por 30 días";u(`✅ Solicitud registrada para ${ae.name}. Dirigite a recepción para completar el pago de $${ae.price.toLocaleString()}. Una vez confirmado el pago, tendrás acceso ${Ee}.`),M(!1),w(null)}catch(_e){console.error("❌ Error en pago en efectivo:",_e),u(`Error registrando pago: ${_e.message}`)}finally{_(!1)}}};return h?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 flex items-center justify-center p-4",children:c.jsxs(Te.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"flex flex-col items-center space-y-4 lg:space-y-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-16 h-16 lg:w-20 lg:h-20 border-4 border-purple-200 rounded-full animate-spin"}),c.jsx("div",{className:"absolute inset-0 w-16 h-16 lg:w-20 lg:h-20 border-4 border-orange-500 border-t-transparent rounded-full animate-spin"})]}),c.jsx("div",{className:"text-center",children:c.jsx("h2",{className:"text-xl lg:text-2xl font-bold text-gray-800 mb-2",children:"Cargando tu perfil..."})})]})}):c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50",children:[c.jsx("div",{className:"px-3 py-4 lg:px-6 lg:py-6",children:c.jsxs("div",{className:"max-w-sm mx-auto sm:max-w-xl md:max-w-3xl lg:max-w-6xl space-y-4 lg:space-y-8",children:[c.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl lg:rounded-3xl shadow-xl overflow-hidden",children:[c.jsxs("div",{className:"bg-gradient-to-r from-purple-500 via-pink-500 to-red-500 h-16 lg:h-32 relative",children:[c.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-3 lg:p-6",children:c.jsxs("div",{className:"flex items-end space-x-2 lg:space-x-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-10 h-10 lg:w-24 lg:h-24 rounded-full overflow-hidden bg-white border-2 border-white shadow-xl",children:c.jsx("img",{src:n?.fotoURL||"https://placehold.co/100x100/aabbcc/ffffff?text=User",alt:"Foto de perfil",className:"w-full h-full object-cover"})}),c.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:I,disabled:m,className:"absolute -bottom-0.5 -right-0.5 lg:-bottom-1 lg:-right-1 w-4 h-4 lg:w-8 lg:h-8 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-full flex items-center justify-center hover:from-blue-600 hover:to-blue-700 transition-all duration-200 shadow-lg disabled:opacity-50",children:m?c.jsx("div",{className:"w-2 h-2 lg:w-4 lg:h-4 border border-white border-t-transparent rounded-full animate-spin"}):c.jsx($b,{size:8,className:"lg:w-4 lg:h-4"})}),c.jsx("input",{ref:j,type:"file",accept:"image/*",onChange:R,className:"hidden"})]}),c.jsxs("div",{className:"text-white mb-0.5 lg:mb-1 flex-1 min-w-0",children:[c.jsx("h1",{className:"text-xs sm:text-sm lg:text-2xl font-bold truncate",children:n?.fullName}),c.jsx("p",{className:"text-white/80 text-xs lg:text-base truncate",children:n?.email})]})]})})]}),c.jsxs("div",{className:"p-3 lg:p-8",children:[c.jsxs("div",{className:"flex flex-col space-y-2 lg:flex-row lg:items-center lg:justify-between lg:space-y-0 mb-3 lg:mb-6",children:[c.jsxs("div",{className:"flex flex-col space-y-1 lg:flex-row lg:items-center lg:space-y-0 lg:space-x-4",children:[c.jsxs("div",{className:"flex items-center space-x-1 lg:space-x-2",children:[c.jsx(Ju,{className:"text-yellow-500 w-3 h-3 lg:w-4 lg:h-4"}),c.jsx("span",{className:"text-xs sm:text-sm lg:text-lg font-semibold text-gray-800",children:"Perfil de Estudiante"})]}),c.jsxs("span",{className:"bg-gradient-to-r from-orange-500 to-pink-100 text-black px-2 py-0.5 lg:py-1 rounded-full text-xs font-medium border border-orange-300 self-start",children:["Código: ",n?.accessCode]})]}),n&&c.jsx(m7,{estudiante:n,onUpdate:Ae,onMessage:u})]}),c.jsxs("div",{className:"space-y-2 sm:grid sm:grid-cols-2 sm:gap-3 lg:grid-cols-2 lg:gap-4 lg:space-y-0 mb-3 lg:mb-6",children:[c.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-2 lg:p-3 border border-blue-200",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(to,{className:"text-blue-600 w-3 h-3 lg:w-4 lg:h-4"}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("span",{className:"text-xs text-blue-700 font-medium",children:"Teléfono"}),c.jsx("div",{className:"text-xs sm:text-sm lg:text-sm text-gray-800 font-semibold truncate",children:n?.phone})]})]})}),c.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-2 lg:p-3 border border-green-200",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(zf,{className:"text-green-600 w-3 h-3 lg:w-4 lg:h-4"}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("span",{className:"text-xs text-green-700 font-medium",children:"Universidad"}),c.jsx("div",{className:"text-xs sm:text-sm lg:text-sm text-gray-800 font-semibold truncate",children:n?.university})]})]})})]}),c.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 rounded-lg p-3 lg:p-6 border border-orange-200",children:c.jsxs("div",{className:"flex items-start space-x-2",children:[c.jsx(Yb,{className:"text-red-500 mt-0.5 flex-shrink-0 w-3 h-3 lg:w-4 lg:h-4"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm lg:text-lg font-bold text-gray-800 mb-1",children:"¡Bienvenido/a!"}),c.jsx("p",{className:"text-xs lg:text-base text-gray-700 leading-relaxed",children:"Gestiona tu membresía y explora nuevos planes."})]})]})})]})]}),n&&c.jsx(p7,{estudiante:n,planes:s,onMessage:u}),c.jsx(g7,{planes:s,onComprarPlan:L,onSeleccionarMetodoPago:Ce,loading:h,puedeContratarPlan:b(),estudianteConPlan:!!n?.plan}),c.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-center",children:c.jsxs(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:k,className:"flex items-center space-x-2 mx-auto px-4 py-2 lg:px-8 lg:py-4 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg lg:rounded-2xl font-semibold hover:from-red-600 hover:to-red-700 transition-all duration-200 shadow-lg hover:shadow-xl text-sm lg:text-base",children:[c.jsx(N1,{size:14,className:"lg:w-4 lg:h-4"}),c.jsx("span",{children:"Cerrar Sesión"})]})})]})}),c.jsx(x7,{plan:A,isOpen:N,onClose:()=>{M(!1),w(null)},loading:v,onMessage:u,onPayWithMercadoPago:Ue,onPayWithCash:Re,studentData:{id:n?.uid||"",fullName:n?.fullName||"",email:n?.email||""}}),c.jsx(un,{children:o&&c.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs(Te.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-white rounded-2xl p-4 lg:p-6 max-w-sm w-full text-center shadow-2xl",children:[c.jsx("div",{className:`w-12 h-12 lg:w-16 lg:h-16 rounded-full flex items-center justify-center mx-auto mb-3 lg:mb-4 ${o.includes("Error")||o.includes("error")?"bg-red-100":"bg-green-100"}`,children:o.includes("Error")||o.includes("error")?c.jsx(Ks,{className:"text-red-600 w-6 h-6 lg:w-8 lg:h-8"}):c.jsx(gr,{className:"text-green-600 w-6 h-6 lg:w-8 lg:h-8"})}),c.jsx("h3",{className:"text-base lg:text-lg font-bold text-gray-800 mb-2",children:o.includes("Error")||o.includes("error")?"¡Oops!":"¡Perfecto!"}),c.jsx("p",{className:"text-sm lg:text-sm text-gray-600 mb-4 lg:mb-6 leading-relaxed",children:o}),c.jsx(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>u(null),className:"w-full py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg font-semibold hover:from-blue-600 hover:to-blue-700 transition-all duration-200 text-sm lg:text-base",children:"Continuar"})]})})})]})}function y7(){return c.jsx(v7,{})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var b0={};b0.version="0.18.5";var j4=1252,_7=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],O4=function(t){_7.indexOf(t)!=-1&&(j4=t)};function w7(){O4(1252)}var kh=function(t){O4(t)};function E7(){kh(1200),w7()}var If=function(e){return String.fromCharCode(e)},cT=function(e){return String.fromCharCode(e)},N0,Za="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Rh(t){for(var e="",n=0,r=0,s=0,i=0,o=0,u=0,h=0,f=0;f<t.length;)n=t.charCodeAt(f++),i=n>>2,r=t.charCodeAt(f++),o=(n&3)<<4|r>>4,s=t.charCodeAt(f++),u=(r&15)<<2|s>>6,h=s&63,isNaN(r)?u=h=64:isNaN(s)&&(h=64),e+=Za.charAt(i)+Za.charAt(o)+Za.charAt(u)+Za.charAt(h);return e}function ha(t){var e="",n=0,r=0,s=0,i=0,o=0,u=0,h=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<t.length;)i=Za.indexOf(t.charAt(f++)),o=Za.indexOf(t.charAt(f++)),n=i<<2|o>>4,e+=String.fromCharCode(n),u=Za.indexOf(t.charAt(f++)),r=(o&15)<<4|u>>2,u!==64&&(e+=String.fromCharCode(r)),h=Za.indexOf(t.charAt(f++)),s=(u&3)<<6|h,h!==64&&(e+=String.fromCharCode(s));return e}var kt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),pa=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function hl(t){return kt?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function uT(t){return kt?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Ws=function(e){return kt?pa(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function vm(t){if(typeof ArrayBuffer>"u")return Ws(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function rd(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function T7(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var nr=kt?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:pa(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),s=0;for(e=0,n=0;e<t.length;n+=s,++e)if(s=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function S7(t){for(var e=[],n=0,r=t.length+250,s=hl(t.length+255),i=0;i<t.length;++i){var o=t.charCodeAt(i);if(o<128)s[n++]=o;else if(o<2048)s[n++]=192|o>>6&31,s[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var u=t.charCodeAt(++i)&1023;s[n++]=240|o>>8&7,s[n++]=128|o>>2&63,s[n++]=128|u>>6&15|(o&3)<<4,s[n++]=128|u&63}else s[n++]=224|o>>12&15,s[n++]=128|o>>6&63,s[n++]=128|o&63;n>r&&(e.push(s.slice(0,n)),n=0,s=hl(65535),r=65530)}return e.push(s.slice(0,n)),nr(e)}var ih=/\u0000/g,Pf=/[\u0001-\u0006]/g;function yc(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function Gs(t,e){var n=""+t;return n.length>=e?n:mn("0",e-n.length)+n}function kv(t,e){var n=""+t;return n.length>=e?n:mn(" ",e-n.length)+n}function A0(t,e){var n=""+t;return n.length>=e?n:n+mn(" ",e-n.length)}function b7(t,e){var n=""+Math.round(t);return n.length>=e?n:mn("0",e-n.length)+n}function N7(t,e){var n=""+t;return n.length>=e?n:mn("0",e-n.length)+n}var hT=Math.pow(2,32);function tc(t,e){if(t>hT||t<-hT)return b7(t,e);var n=Math.round(t);return N7(n,e)}function C0(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var dT=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Dg=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function A7(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',t}var pn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},fT={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},C7={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function I0(t,e,n){for(var r=t<0?-1:1,s=t*r,i=0,o=1,u=0,h=1,f=0,m=0,x=Math.floor(s);f<e&&(x=Math.floor(s),u=x*o+i,m=x*f+h,!(s-x<5e-8));)s=1/(s-x),i=o,o=u,h=f,f=m;if(m>e&&(f>e?(m=h,u=i):(m=f,u=o)),!n)return[0,r*u,m];var v=Math.floor(r*u/m);return[v,r*u-v*m,m]}function kf(t,e,n){if(t>2958465||t<0)return null;var r=t|0,s=Math.floor(86400*(t-r)),i=0,o=[],u={D:r,T:s,u:86400*(t-r)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),e&&e.date1904&&(r+=1462),u.u>.9999&&(u.u=0,++s==86400&&(u.T=s=0,++r,++u.D)),r===60)o=n?[1317,10,29]:[1900,2,29],i=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],i=6;else{r>60&&--r;var h=new Date(1900,0,1);h.setDate(h.getDate()+r-1),o=[h.getFullYear(),h.getMonth()+1,h.getDate()],i=h.getDay(),r<60&&(i=(i+6)%7),n&&(i=O7(h,o))}return u.y=o[0],u.m=o[1],u.d=o[2],u.S=s%60,s=Math.floor(s/60),u.M=s%60,s=Math.floor(s/60),u.H=s,u.q=i,u}var F4=new Date(1899,11,31,0,0,0),I7=F4.getTime(),P7=new Date(1900,2,1,0,0,0);function M4(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=P7&&(n+=24*60*60*1e3),(n-(I7+(t.getTimezoneOffset()-F4.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Rv(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function k7(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function R7(t){var e=t<0?12:11,n=Rv(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function D7(t){var e=Rv(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function j7(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=R7(t):e===10?n=t.toFixed(10).substr(0,12):n=D7(t),Rv(k7(n.toUpperCase()))}function Fx(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):j7(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return ho(14,M4(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function O7(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function F7(t,e,n,r){var s="",i=0,o=0,u=n.y,h,f=0;switch(t){case 98:u=n.y+543;case 121:switch(e.length){case 1:case 2:h=u%100,f=2;break;default:h=u%1e4,f=4;break}break;case 109:switch(e.length){case 1:case 2:h=n.m,f=e.length;break;case 3:return Dg[n.m-1][1];case 5:return Dg[n.m-1][0];default:return Dg[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:h=n.d,f=e.length;break;case 3:return dT[n.q][0];default:return dT[n.q][1]}break;case 104:switch(e.length){case 1:case 2:h=1+(n.H+11)%12,f=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:h=n.H,f=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:h=n.M,f=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?Gs(n.S,e.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,i=Math.round(o*(n.S+n.u)),i>=60*o&&(i=0),e==="s"?i===0?"0":""+i/o:(s=Gs(i,2+r),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":h=n.D*24+n.H;break;case"[m]":case"[mm]":h=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":h=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}f=e.length===3?1:2;break;case 101:h=u,f=1;break}var m=f>0?Gs(h,f):"";return m}function eo(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var L4=/%/g;function M7(t,e,n){var r=e.replace(L4,""),s=e.length-r.length;return ea(t,r,n*Math.pow(10,2*s))+mn("%",s)}function L7(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return ea(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function V4(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+V4(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%s;if(i<0&&(i+=s),n=(e/Math.pow(10,i)).toPrecision(r+1+(s+i)%s),n.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,s)+"."+n.substr(2+s),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,h,f,m){return h+f+m.substr(0,(s+i)%s)+"."+m.substr(i)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var U4=/# (\?+)( ?)\/( ?)(\d+)/;function V7(t,e,n){var r=parseInt(t[4],10),s=Math.round(e*r),i=Math.floor(s/r),o=s-i*r,u=r;return n+(i===0?"":""+i)+" "+(o===0?mn(" ",t[1].length+1+t[4].length):kv(o,t[1].length)+t[2]+"/"+t[3]+Gs(u,t[4].length))}function U7(t,e,n){return n+(e===0?"":""+e)+mn(" ",t[1].length+2+t[4].length)}var B4=/^#*0*\.([0#]+)/,z4=/\).*[0#]/,H4=/\(###\) ###\\?-####/;function br(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function mT(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function pT(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function B7(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function z7(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function ys(t,e,n){if(t.charCodeAt(0)===40&&!e.match(z4)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?ys("n",r,n):"("+ys("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return L7(t,e,n);if(e.indexOf("%")!==-1)return M7(t,e,n);if(e.indexOf("E")!==-1)return V4(e,n);if(e.charCodeAt(0)===36)return"$"+ys(t,e.substr(e.charAt(1)==" "?2:1),n);var s,i,o,u,h=Math.abs(n),f=n<0?"-":"";if(e.match(/^00+$/))return f+tc(h,e.length);if(e.match(/^[#?]+$/))return s=tc(n,0),s==="0"&&(s=""),s.length>e.length?s:br(e.substr(0,e.length-s.length))+s;if(i=e.match(U4))return V7(i,h,f);if(e.match(/^#+0+$/))return f+tc(h,e.length-e.indexOf("0"));if(i=e.match(B4))return s=mT(n,i[1].length).replace(/^([^\.]+)$/,"$1."+br(i[1])).replace(/\.$/,"."+br(i[1])).replace(/\.(\d*)$/,function(A,w){return"."+w+mn("0",br(i[1]).length-w.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return f+mT(h,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return f+eo(tc(h,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+ys(t,e,-n):eo(""+(Math.floor(n)+B7(n,i[1].length)))+"."+Gs(pT(n,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return ys(t,e.replace(/^#,#*,/,""),n);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=yc(ys(t,e.replace(/[\\-]/g,""),n)),o=0,yc(yc(e.replace(/\\/g,"")).replace(/[0#]/g,function(A){return o<s.length?s.charAt(o++):A==="0"?"0":""}));if(e.match(H4))return s=ys(t,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var m="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),u=I0(h,Math.pow(10,o)-1,!1),s=""+f,m=ea("n",i[1],u[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),s+=m+i[2]+"/"+i[3],m=A0(u[2],o),m.length<i[4].length&&(m=br(i[4].substr(i[4].length-m.length))+m),s+=m,s;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),u=I0(h,Math.pow(10,o)-1,!0),f+(u[0]||(u[1]?"":"0"))+" "+(u[1]?kv(u[1],o)+i[2]+"/"+i[3]+A0(u[2],o):mn(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return s=tc(n,0),e.length<=s.length?s:br(e.substr(0,e.length-s.length))+s;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var x=e.indexOf(".")-o,v=e.length-s.length-x;return br(e.substr(0,x)+s+e.substr(e.length-v))}if(i=e.match(/^00,000\.([#0]*0)$/))return o=pT(n,i[1].length),n<0?"-"+ys(t,e,-n):eo(z7(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(A){return"00,"+(A.length<3?Gs(0,3-A.length):"")+A})+"."+Gs(o,i[1].length);switch(e){case"###,##0.00":return ys(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var _=eo(tc(h,0));return _!=="0"?f+_:"";case"###,###.00":return ys(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return ys(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function H7(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return ea(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function $7(t,e,n){var r=e.replace(L4,""),s=e.length-r.length;return ea(t,r,n*Math.pow(10,2*s))+mn("%",s)}function $4(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+$4(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%s;if(i<0&&(i+=s),n=(e/Math.pow(10,i)).toPrecision(r+1+(s+i)%s),!n.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,h,f,m){return h+f+m.substr(0,(s+i)%s)+"."+m.substr(i)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function fi(t,e,n){if(t.charCodeAt(0)===40&&!e.match(z4)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?fi("n",r,n):"("+fi("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return H7(t,e,n);if(e.indexOf("%")!==-1)return $7(t,e,n);if(e.indexOf("E")!==-1)return $4(e,n);if(e.charCodeAt(0)===36)return"$"+fi(t,e.substr(e.charAt(1)==" "?2:1),n);var s,i,o,u,h=Math.abs(n),f=n<0?"-":"";if(e.match(/^00+$/))return f+Gs(h,e.length);if(e.match(/^[#?]+$/))return s=""+n,n===0&&(s=""),s.length>e.length?s:br(e.substr(0,e.length-s.length))+s;if(i=e.match(U4))return U7(i,h,f);if(e.match(/^#+0+$/))return f+Gs(h,e.length-e.indexOf("0"));if(i=e.match(B4))return s=(""+n).replace(/^([^\.]+)$/,"$1."+br(i[1])).replace(/\.$/,"."+br(i[1])),s=s.replace(/\.(\d*)$/,function(A,w){return"."+w+mn("0",br(i[1]).length-w.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return f+(""+h).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return f+eo(""+h);if(i=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+fi(t,e,-n):eo(""+n)+"."+mn("0",i[1].length);if(i=e.match(/^#,#*,#0/))return fi(t,e.replace(/^#,#*,/,""),n);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=yc(fi(t,e.replace(/[\\-]/g,""),n)),o=0,yc(yc(e.replace(/\\/g,"")).replace(/[0#]/g,function(A){return o<s.length?s.charAt(o++):A==="0"?"0":""}));if(e.match(H4))return s=fi(t,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var m="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),u=I0(h,Math.pow(10,o)-1,!1),s=""+f,m=ea("n",i[1],u[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),s+=m+i[2]+"/"+i[3],m=A0(u[2],o),m.length<i[4].length&&(m=br(i[4].substr(i[4].length-m.length))+m),s+=m,s;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),u=I0(h,Math.pow(10,o)-1,!0),f+(u[0]||(u[1]?"":"0"))+" "+(u[1]?kv(u[1],o)+i[2]+"/"+i[3]+A0(u[2],o):mn(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return s=""+n,e.length<=s.length?s:br(e.substr(0,e.length-s.length))+s;if(i=e.match(/^([#0]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var x=e.indexOf(".")-o,v=e.length-s.length-x;return br(e.substr(0,x)+s+e.substr(e.length-v))}if(i=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+fi(t,e,-n):eo(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(A){return"00,"+(A.length<3?Gs(0,3-A.length):"")+A})+"."+Gs(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var _=eo(""+h);return _!=="0"?f+_:"";default:if(e.match(/\.[0#?]*$/))return fi(t,e.slice(0,e.lastIndexOf(".")),n)+br(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function ea(t,e,n){return(n|0)===n?fi(t,e,n):ys(t,e,n)}function W7(t){for(var e=[],n=!1,r=0,s=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(s,r-s),s=r+1}if(e[e.length]=t.substr(s),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var W4=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function G4(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":C0(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(W4))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function G7(t,e,n,r){for(var s=[],i="",o=0,u="",h="t",f,m,x,v="H";o<t.length;)switch(u=t.charAt(o)){case"G":if(!C0(t,o))throw new Error("unrecognized character "+u+" in "+t);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(x=t.charCodeAt(++o))!==34&&o<t.length;)i+=String.fromCharCode(x);s[s.length]={t:"t",v:i},++o;break;case"\\":var _=t.charAt(++o),A=_==="("||_===")"?_:"t";s[s.length]={t:A,v:_},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(f==null&&(f=kf(e,n,t.charAt(o+1)==="2"),f==null))return"";s[s.length]={t:"X",v:t.substr(o,2)},h=u,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||f==null&&(f=kf(e,n),f==null))return"";for(i=u;++o<t.length&&t.charAt(o).toLowerCase()===u;)i+=u;u==="m"&&h.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=v),s[s.length]={t:u,v:i},h=u;break;case"A":case"a":case"上":var w={t:u,v:u};if(f==null&&(f=kf(e,n)),t.substr(o,3).toUpperCase()==="A/P"?(f!=null&&(w.v=f.H>=12?"P":"A"),w.t="T",v="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(f!=null&&(w.v=f.H>=12?"PM":"AM"),w.t="T",o+=5,v="h"):t.substr(o,5).toUpperCase()==="上午/下午"?(f!=null&&(w.v=f.H>=12?"下午":"上午"),w.t="T",o+=5,v="h"):(w.t="t",++o),f==null&&w.t==="T")return"";s[s.length]=w,h=u;break;case"[":for(i=u;t.charAt(o++)!=="]"&&o<t.length;)i+=t.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(W4)){if(f==null&&(f=kf(e,n),f==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},h=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",G4(t)||(s[s.length]={t:"t",v:i}));break;case".":if(f!=null){for(i=u;++o<t.length&&(u=t.charAt(o))==="0";)i+=u;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=u;++o<t.length&&"0#?.,E+-%".indexOf(u=t.charAt(o))>-1;)i+=u;s[s.length]={t:"n",v:i};break;case"?":for(i=u;t.charAt(++o)===u;)i+=u;s[s.length]={t:u,v:i},h=u;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:r===1?"t":u,v:u},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=u;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)i+=t.charAt(o);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:u,v:u},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+t);s[s.length]={t:"t",v:u},++o;break}var N=0,M=0,j;for(o=s.length-1,h="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=v,h="h",N<1&&(N=1);break;case"s":(j=s[o].v.match(/\.0+$/))&&(M=Math.max(M,j[0].length-1)),N<3&&(N=3);case"d":case"y":case"M":case"e":h=s[o].t;break;case"m":h==="s"&&(s[o].t="M",N<2&&(N=2));break;case"X":break;case"Z":N<1&&s[o].v.match(/[Hh]/)&&(N=1),N<2&&s[o].v.match(/[Mm]/)&&(N=2),N<3&&s[o].v.match(/[Ss]/)&&(N=3)}switch(N){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var O="",z;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=F7(s[o].t.charCodeAt(0),s[o].v,f,M),s[o].t="t";break;case"n":case"?":for(z=o+1;s[z]!=null&&((u=s[z].t)==="?"||u==="D"||(u===" "||u==="t")&&s[z+1]!=null&&(s[z+1].t==="?"||s[z+1].t==="t"&&s[z+1].v==="/")||s[o].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(s[z].v==="/"||s[z].v===" "&&s[z+1]!=null&&s[z+1].t=="?"));)s[o].v+=s[z].v,s[z]={v:"",t:";"},++z;O+=s[o].v,o=z-1;break;case"G":s[o].t="t",s[o].v=Fx(e,n);break}var ne="",re,P;if(O.length>0){O.charCodeAt(0)==40?(re=e<0&&O.charCodeAt(0)===45?-e:e,P=ea("n",O,re)):(re=e<0&&r>1?-e:e,P=ea("n",O,re),re<0&&s[0]&&s[0].t=="t"&&(P=P.substr(1),s[0].v="-"+s[0].v)),z=P.length-1;var T=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){T=o;break}var b=s.length;if(T===s.length&&P.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(z>=s[o].v.length-1?(z-=s[o].v.length,s[o].v=P.substr(z+1,s[o].v.length)):z<0?s[o].v="":(s[o].v=P.substr(0,z+1),z=-1),s[o].t="t",b=o);z>=0&&b<s.length&&(s[b].v=P.substr(0,z+1)+s[b].v)}else if(T!==s.length&&P.indexOf("E")===-1){for(z=P.indexOf(".")-1,o=T;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(m=s[o].v.indexOf(".")>-1&&o===T?s[o].v.indexOf(".")-1:s[o].v.length-1,ne=s[o].v.substr(m+1);m>=0;--m)z>=0&&(s[o].v.charAt(m)==="0"||s[o].v.charAt(m)==="#")&&(ne=P.charAt(z--)+ne);s[o].v=ne,s[o].t="t",b=o}for(z>=0&&b<s.length&&(s[b].v=P.substr(0,z+1)+s[b].v),z=P.indexOf(".")+1,o=T;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==T)){for(m=s[o].v.indexOf(".")>-1&&o===T?s[o].v.indexOf(".")+1:0,ne=s[o].v.substr(0,m);m<s[o].v.length;++m)z<P.length&&(ne+=P.charAt(z++));s[o].v=ne,s[o].t="t",b=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(re=r>1&&e<0&&o>0&&s[o-1].v==="-"?-e:e,s[o].v=ea(s[o].t,s[o].v,re),s[o].t="t");var R="";for(o=0;o!==s.length;++o)s[o]!=null&&(R+=s[o].v);return R}var gT=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function xT(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function K7(t,e){var n=W7(t),r=n.length,s=n[r-1].indexOf("@");if(r<4&&s>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||s>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=s>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=s>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=s>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var i=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,i];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(gT),u=n[1].match(gT);return xT(e,o)?[r,n[0]]:xT(e,u)?[r,n[1]]:[r,n[o!=null&&u!=null?2:1]]}return[r,i]}function ho(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:pn)[t],r==null&&(r=n.table&&n.table[fT[t]]||pn[fT[t]]),r==null&&(r=C7[t]||"General");break}if(C0(r,0))return Fx(e,n);e instanceof Date&&(e=M4(e,n.date1904));var s=K7(r,e);if(C0(s[1]))return Fx(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return G7(s[1],e,n,s[0])}function K4(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(pn[n]==null){e<0&&(e=n);continue}if(pn[n]==t){e=n;break}}e<0&&(e=391)}return pn[e]=t,e}function ym(t){for(var e=0;e!=392;++e)t[e]!==void 0&&K4(t[e],e)}function _m(){pn=A7()}var q4=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function q7(t){var e=typeof t=="number"?pn[t]:t;return e=e.replace(q4,"(\\d+)"),new RegExp("^"+e+"$")}function X7(t,e,n){var r=-1,s=-1,i=-1,o=-1,u=-1,h=-1;(e.match(q4)||[]).forEach(function(x,v){var _=parseInt(n[v+1],10);switch(x.toLowerCase().charAt(0)){case"y":r=_;break;case"d":i=_;break;case"h":o=_;break;case"s":h=_;break;case"m":o>=0?u=_:s=_;break}}),h>=0&&u==-1&&s>=0&&(u=s,s=-1);var f=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var m=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2);return o==-1&&u==-1&&h==-1?f:r==-1&&s==-1&&i==-1?m:f+"T"+m}var Y7=function(){var t={};t.version="1.2.0";function e(){for(var P=0,T=new Array(256),b=0;b!=256;++b)P=b,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,T[b]=P;return typeof Int32Array<"u"?new Int32Array(T):T}var n=e();function r(P){var T=0,b=0,R=0,I=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(R=0;R!=256;++R)I[R]=P[R];for(R=0;R!=256;++R)for(b=P[R],T=256+R;T<4096;T+=256)b=I[T]=b>>>8^P[b&255];var L=[];for(R=1;R!=16;++R)L[R-1]=typeof Int32Array<"u"?I.subarray(R*256,R*256+256):I.slice(R*256,R*256+256);return L}var s=r(n),i=s[0],o=s[1],u=s[2],h=s[3],f=s[4],m=s[5],x=s[6],v=s[7],_=s[8],A=s[9],w=s[10],N=s[11],M=s[12],j=s[13],O=s[14];function z(P,T){for(var b=T^-1,R=0,I=P.length;R<I;)b=b>>>8^n[(b^P.charCodeAt(R++))&255];return~b}function ne(P,T){for(var b=T^-1,R=P.length-15,I=0;I<R;)b=O[P[I++]^b&255]^j[P[I++]^b>>8&255]^M[P[I++]^b>>16&255]^N[P[I++]^b>>>24]^w[P[I++]]^A[P[I++]]^_[P[I++]]^v[P[I++]]^x[P[I++]]^m[P[I++]]^f[P[I++]]^h[P[I++]]^u[P[I++]]^o[P[I++]]^i[P[I++]]^n[P[I++]];for(R+=15;I<R;)b=b>>>8^n[(b^P[I++])&255];return~b}function re(P,T){for(var b=T^-1,R=0,I=P.length,L=0,k=0;R<I;)L=P.charCodeAt(R++),L<128?b=b>>>8^n[(b^L)&255]:L<2048?(b=b>>>8^n[(b^(192|L>>6&31))&255],b=b>>>8^n[(b^(128|L&63))&255]):L>=55296&&L<57344?(L=(L&1023)+64,k=P.charCodeAt(R++)&1023,b=b>>>8^n[(b^(240|L>>8&7))&255],b=b>>>8^n[(b^(128|L>>2&63))&255],b=b>>>8^n[(b^(128|k>>6&15|(L&3)<<4))&255],b=b>>>8^n[(b^(128|k&63))&255]):(b=b>>>8^n[(b^(224|L>>12&15))&255],b=b>>>8^n[(b^(128|L>>6&63))&255],b=b>>>8^n[(b^(128|L&63))&255]);return~b}return t.table=n,t.bstr=z,t.buf=ne,t.str=re,t}(),Bt=function(){var e={};e.version="1.2.1";function n(F,G){for(var B=F.split("/"),H=G.split("/"),K=0,q=0,ce=Math.min(B.length,H.length);K<ce;++K){if(q=B[K].length-H[K].length)return q;if(B[K]!=H[K])return B[K]<H[K]?-1:1}return B.length-H.length}function r(F){if(F.charAt(F.length-1)=="/")return F.slice(0,-1).indexOf("/")===-1?F:r(F.slice(0,-1));var G=F.lastIndexOf("/");return G===-1?F:F.slice(0,G+1)}function s(F){if(F.charAt(F.length-1)=="/")return s(F.slice(0,-1));var G=F.lastIndexOf("/");return G===-1?F:F.slice(G+1)}function i(F,G){typeof G=="string"&&(G=new Date(G));var B=G.getHours();B=B<<6|G.getMinutes(),B=B<<5|G.getSeconds()>>>1,F.write_shift(2,B);var H=G.getFullYear()-1980;H=H<<4|G.getMonth()+1,H=H<<5|G.getDate(),F.write_shift(2,H)}function o(F){var G=F.read_shift(2)&65535,B=F.read_shift(2)&65535,H=new Date,K=B&31;B>>>=5;var q=B&15;B>>>=4,H.setMilliseconds(0),H.setFullYear(B+1980),H.setMonth(q-1),H.setDate(K);var ce=G&31;G>>>=5;var ye=G&63;return G>>>=6,H.setHours(G),H.setMinutes(ye),H.setSeconds(ce<<1),H}function u(F){Zr(F,0);for(var G={},B=0;F.l<=F.length-4;){var H=F.read_shift(2),K=F.read_shift(2),q=F.l+K,ce={};switch(H){case 21589:B=F.read_shift(1),B&1&&(ce.mtime=F.read_shift(4)),K>5&&(B&2&&(ce.atime=F.read_shift(4)),B&4&&(ce.ctime=F.read_shift(4))),ce.mtime&&(ce.mt=new Date(ce.mtime*1e3));break}F.l=q,G[H]=ce}return G}var h;function f(){return h||(h={})}function m(F,G){if(F[0]==80&&F[1]==75)return Pi(F,G);if((F[0]|32)==109&&(F[1]|32)==105)return To(F,G);if(F.length<512)throw new Error("CFB file size "+F.length+" < 512");var B=3,H=512,K=0,q=0,ce=0,ye=0,ue=0,de=[],me=F.slice(0,512);Zr(me,0);var De=x(me);switch(B=De[0],B){case 3:H=512;break;case 4:H=4096;break;case 0:if(De[1]==0)return Pi(F,G);default:throw new Error("Major Version: Expected 3 or 4 saw "+B)}H!==512&&(me=F.slice(0,H),Zr(me,28));var ze=F.slice(0,H);v(me,B);var We=me.read_shift(4,"i");if(B===3&&We!==0)throw new Error("# Directory Sectors: Expected 0 saw "+We);me.l+=4,ce=me.read_shift(4,"i"),me.l+=4,me.chk("00100000","Mini Stream Cutoff Size: "),ye=me.read_shift(4,"i"),K=me.read_shift(4,"i"),ue=me.read_shift(4,"i"),q=me.read_shift(4,"i");for(var Me=-1,Oe=0;Oe<109&&(Me=me.read_shift(4,"i"),!(Me<0));++Oe)de[Oe]=Me;var ct=_(F,H);N(ue,q,ct,H,de);var Pt=j(ct,ce,de,H);Pt[ce].name="!Directory",K>0&&ye!==k&&(Pt[ye].name="!MiniFAT"),Pt[de[0]].name="!FAT",Pt.fat_addrs=de,Pt.ssz=H;var Nt={},Dt=[],Ps=[],ri=[];O(ce,Pt,ct,Dt,K,Nt,Ps,ye),A(Ps,ri,Dt),Dt.shift();var Wr={FileIndex:Ps,FullPaths:ri};return G&&G.raw&&(Wr.raw={header:ze,sectors:ct}),Wr}function x(F){if(F[F.l]==80&&F[F.l+1]==75)return[0,0];F.chk(Ae,"Header Signature: "),F.l+=16;var G=F.read_shift(2,"u");return[F.read_shift(2,"u"),G]}function v(F,G){var B=9;switch(F.l+=2,B=F.read_shift(2)){case 9:if(G!=3)throw new Error("Sector Shift: Expected 9 saw "+B);break;case 12:if(G!=4)throw new Error("Sector Shift: Expected 12 saw "+B);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+B)}F.chk("0600","Mini Sector Shift: "),F.chk("000000000000","Reserved: ")}function _(F,G){for(var B=Math.ceil(F.length/G)-1,H=[],K=1;K<B;++K)H[K-1]=F.slice(K*G,(K+1)*G);return H[B-1]=F.slice(B*G),H}function A(F,G,B){for(var H=0,K=0,q=0,ce=0,ye=0,ue=B.length,de=[],me=[];H<ue;++H)de[H]=me[H]=H,G[H]=B[H];for(;ye<me.length;++ye)H=me[ye],K=F[H].L,q=F[H].R,ce=F[H].C,de[H]===H&&(K!==-1&&de[K]!==K&&(de[H]=de[K]),q!==-1&&de[q]!==q&&(de[H]=de[q])),ce!==-1&&(de[ce]=H),K!==-1&&H!=de[H]&&(de[K]=de[H],me.lastIndexOf(K)<ye&&me.push(K)),q!==-1&&H!=de[H]&&(de[q]=de[H],me.lastIndexOf(q)<ye&&me.push(q));for(H=1;H<ue;++H)de[H]===H&&(q!==-1&&de[q]!==q?de[H]=de[q]:K!==-1&&de[K]!==K&&(de[H]=de[K]));for(H=1;H<ue;++H)if(F[H].type!==0){if(ye=H,ye!=de[ye])do ye=de[ye],G[H]=G[ye]+"/"+G[H];while(ye!==0&&de[ye]!==-1&&ye!=de[ye]);de[H]=-1}for(G[0]+="/",H=1;H<ue;++H)F[H].type!==2&&(G[H]+="/")}function w(F,G,B){for(var H=F.start,K=F.size,q=[],ce=H;B&&K>0&&ce>=0;)q.push(G.slice(ce*L,ce*L+L)),K-=L,ce=Wo(B,ce*4);return q.length===0?we(0):nr(q).slice(0,F.size)}function N(F,G,B,H,K){var q=k;if(F===k){if(G!==0)throw new Error("DIFAT chain shorter than expected")}else if(F!==-1){var ce=B[F],ye=(H>>>2)-1;if(!ce)return;for(var ue=0;ue<ye&&(q=Wo(ce,ue*4))!==k;++ue)K.push(q);N(Wo(ce,H-4),G-1,B,H,K)}}function M(F,G,B,H,K){var q=[],ce=[];K||(K=[]);var ye=H-1,ue=0,de=0;for(ue=G;ue>=0;){K[ue]=!0,q[q.length]=ue,ce.push(F[ue]);var me=B[Math.floor(ue*4/H)];if(de=ue*4&ye,H<4+de)throw new Error("FAT boundary crossed: "+ue+" 4 "+H);if(!F[me])break;ue=Wo(F[me],de)}return{nodes:q,data:bT([ce])}}function j(F,G,B,H){var K=F.length,q=[],ce=[],ye=[],ue=[],de=H-1,me=0,De=0,ze=0,We=0;for(me=0;me<K;++me)if(ye=[],ze=me+G,ze>=K&&(ze-=K),!ce[ze]){ue=[];var Me=[];for(De=ze;De>=0;){Me[De]=!0,ce[De]=!0,ye[ye.length]=De,ue.push(F[De]);var Oe=B[Math.floor(De*4/H)];if(We=De*4&de,H<4+We)throw new Error("FAT boundary crossed: "+De+" 4 "+H);if(!F[Oe]||(De=Wo(F[Oe],We),Me[De]))break}q[ze]={nodes:ye,data:bT([ue])}}return q}function O(F,G,B,H,K,q,ce,ye){for(var ue=0,de=H.length?2:0,me=G[F].data,De=0,ze=0,We;De<me.length;De+=128){var Me=me.slice(De,De+128);Zr(Me,64),ze=Me.read_shift(2),We=Mv(Me,0,ze-de),H.push(We);var Oe={name:We,type:Me.read_shift(1),color:Me.read_shift(1),L:Me.read_shift(4,"i"),R:Me.read_shift(4,"i"),C:Me.read_shift(4,"i"),clsid:Me.read_shift(16),state:Me.read_shift(4,"i"),start:0,size:0},ct=Me.read_shift(2)+Me.read_shift(2)+Me.read_shift(2)+Me.read_shift(2);ct!==0&&(Oe.ct=z(Me,Me.l-8));var Pt=Me.read_shift(2)+Me.read_shift(2)+Me.read_shift(2)+Me.read_shift(2);Pt!==0&&(Oe.mt=z(Me,Me.l-8)),Oe.start=Me.read_shift(4,"i"),Oe.size=Me.read_shift(4,"i"),Oe.size<0&&Oe.start<0&&(Oe.size=Oe.type=0,Oe.start=k,Oe.name=""),Oe.type===5?(ue=Oe.start,K>0&&ue!==k&&(G[ue].name="!StreamData")):Oe.size>=4096?(Oe.storage="fat",G[Oe.start]===void 0&&(G[Oe.start]=M(B,Oe.start,G.fat_addrs,G.ssz)),G[Oe.start].name=Oe.name,Oe.content=G[Oe.start].data.slice(0,Oe.size)):(Oe.storage="minifat",Oe.size<0?Oe.size=0:ue!==k&&Oe.start!==k&&G[ue]&&(Oe.content=w(Oe,G[ue].data,(G[ye]||{}).data))),Oe.content&&Zr(Oe.content,0),q[We]=Oe,ce.push(Oe)}}function z(F,G){return new Date((ns(F,G+4)/1e7*Math.pow(2,32)+ns(F,G)/1e7-11644473600)*1e3)}function ne(F,G){return f(),m(h.readFileSync(F),G)}function re(F,G){var B=G&&G.type;switch(B||kt&&Buffer.isBuffer(F)&&(B="buffer"),B||"base64"){case"file":return ne(F,G);case"base64":return m(Ws(ha(F)),G);case"binary":return m(Ws(F),G)}return m(F,G)}function P(F,G){var B=G||{},H=B.root||"Root Entry";if(F.FullPaths||(F.FullPaths=[]),F.FileIndex||(F.FileIndex=[]),F.FullPaths.length!==F.FileIndex.length)throw new Error("inconsistent CFB structure");F.FullPaths.length===0&&(F.FullPaths[0]=H+"/",F.FileIndex[0]={name:H,type:5}),B.CLSID&&(F.FileIndex[0].clsid=B.CLSID),T(F)}function T(F){var G="Sh33tJ5";if(!Bt.find(F,"/"+G)){var B=we(4);B[0]=55,B[1]=B[3]=50,B[2]=54,F.FileIndex.push({name:G,type:2,content:B,size:4,L:69,R:69,C:69}),F.FullPaths.push(F.FullPaths[0]+G),b(F)}}function b(F,G){P(F);for(var B=!1,H=!1,K=F.FullPaths.length-1;K>=0;--K){var q=F.FileIndex[K];switch(q.type){case 0:H?B=!0:(F.FileIndex.pop(),F.FullPaths.pop());break;case 1:case 2:case 5:H=!0,isNaN(q.R*q.L*q.C)&&(B=!0),q.R>-1&&q.L>-1&&q.R==q.L&&(B=!0);break;default:B=!0;break}}if(!(!B&&!G)){var ce=new Date(1987,1,19),ye=0,ue=Object.create?Object.create(null):{},de=[];for(K=0;K<F.FullPaths.length;++K)ue[F.FullPaths[K]]=!0,F.FileIndex[K].type!==0&&de.push([F.FullPaths[K],F.FileIndex[K]]);for(K=0;K<de.length;++K){var me=r(de[K][0]);H=ue[me],H||(de.push([me,{name:s(me).replace("/",""),type:1,clsid:Ue,ct:ce,mt:ce,content:null}]),ue[me]=!0)}for(de.sort(function(We,Me){return n(We[0],Me[0])}),F.FullPaths=[],F.FileIndex=[],K=0;K<de.length;++K)F.FullPaths[K]=de[K][0],F.FileIndex[K]=de[K][1];for(K=0;K<de.length;++K){var De=F.FileIndex[K],ze=F.FullPaths[K];if(De.name=s(ze).replace("/",""),De.L=De.R=De.C=-(De.color=1),De.size=De.content?De.content.length:0,De.start=0,De.clsid=De.clsid||Ue,K===0)De.C=de.length>1?1:-1,De.size=0,De.type=5;else if(ze.slice(-1)=="/"){for(ye=K+1;ye<de.length&&r(F.FullPaths[ye])!=ze;++ye);for(De.C=ye>=de.length?-1:ye,ye=K+1;ye<de.length&&r(F.FullPaths[ye])!=r(ze);++ye);De.R=ye>=de.length?-1:ye,De.type=1}else r(F.FullPaths[K+1]||"")==r(ze)&&(De.R=K+1),De.type=2}}}function R(F,G){var B=G||{};if(B.fileType=="mad")return an(F,B);switch(b(F),B.fileType){case"zip":return ls(F,B)}var H=function(We){for(var Me=0,Oe=0,ct=0;ct<We.FileIndex.length;++ct){var Pt=We.FileIndex[ct];if(Pt.content){var Nt=Pt.content.length;Nt>0&&(Nt<4096?Me+=Nt+63>>6:Oe+=Nt+511>>9)}}for(var Dt=We.FullPaths.length+3>>2,Ps=Me+7>>3,ri=Me+127>>7,Wr=Ps+Oe+Dt+ri,vn=Wr+127>>7,wa=vn<=109?0:Math.ceil((vn-109)/127);Wr+vn+wa+127>>7>vn;)wa=++vn<=109?0:Math.ceil((vn-109)/127);var Xt=[1,wa,vn,ri,Dt,Oe,Me,0];return We.FileIndex[0].size=Me<<6,Xt[7]=(We.FileIndex[0].start=Xt[0]+Xt[1]+Xt[2]+Xt[3]+Xt[4]+Xt[5])+(Xt[6]+7>>3),Xt}(F),K=we(H[7]<<9),q=0,ce=0;{for(q=0;q<8;++q)K.write_shift(1,Ce[q]);for(q=0;q<8;++q)K.write_shift(2,0);for(K.write_shift(2,62),K.write_shift(2,3),K.write_shift(2,65534),K.write_shift(2,9),K.write_shift(2,6),q=0;q<3;++q)K.write_shift(2,0);for(K.write_shift(4,0),K.write_shift(4,H[2]),K.write_shift(4,H[0]+H[1]+H[2]+H[3]-1),K.write_shift(4,0),K.write_shift(4,4096),K.write_shift(4,H[3]?H[0]+H[1]+H[2]-1:k),K.write_shift(4,H[3]),K.write_shift(-4,H[1]?H[0]-1:k),K.write_shift(4,H[1]),q=0;q<109;++q)K.write_shift(-4,q<H[2]?H[1]+q:-1)}if(H[1])for(ce=0;ce<H[1];++ce){for(;q<236+ce*127;++q)K.write_shift(-4,q<H[2]?H[1]+q:-1);K.write_shift(-4,ce===H[1]-1?k:ce+1)}var ye=function(We){for(ce+=We;q<ce-1;++q)K.write_shift(-4,q+1);We&&(++q,K.write_shift(-4,k))};for(ce=q=0,ce+=H[1];q<ce;++q)K.write_shift(-4,Re.DIFSECT);for(ce+=H[2];q<ce;++q)K.write_shift(-4,Re.FATSECT);ye(H[3]),ye(H[4]);for(var ue=0,de=0,me=F.FileIndex[0];ue<F.FileIndex.length;++ue)me=F.FileIndex[ue],me.content&&(de=me.content.length,!(de<4096)&&(me.start=ce,ye(de+511>>9)));for(ye(H[6]+7>>3);K.l&511;)K.write_shift(-4,Re.ENDOFCHAIN);for(ce=q=0,ue=0;ue<F.FileIndex.length;++ue)me=F.FileIndex[ue],me.content&&(de=me.content.length,!(!de||de>=4096)&&(me.start=ce,ye(de+63>>6)));for(;K.l&511;)K.write_shift(-4,Re.ENDOFCHAIN);for(q=0;q<H[4]<<2;++q){var De=F.FullPaths[q];if(!De||De.length===0){for(ue=0;ue<17;++ue)K.write_shift(4,0);for(ue=0;ue<3;++ue)K.write_shift(4,-1);for(ue=0;ue<12;++ue)K.write_shift(4,0);continue}me=F.FileIndex[q],q===0&&(me.start=me.size?me.start-1:k);var ze=q===0&&B.root||me.name;if(de=2*(ze.length+1),K.write_shift(64,ze,"utf16le"),K.write_shift(2,de),K.write_shift(1,me.type),K.write_shift(1,me.color),K.write_shift(-4,me.L),K.write_shift(-4,me.R),K.write_shift(-4,me.C),me.clsid)K.write_shift(16,me.clsid,"hex");else for(ue=0;ue<4;++ue)K.write_shift(4,0);K.write_shift(4,me.state||0),K.write_shift(4,0),K.write_shift(4,0),K.write_shift(4,0),K.write_shift(4,0),K.write_shift(4,me.start),K.write_shift(4,me.size),K.write_shift(4,0)}for(q=1;q<F.FileIndex.length;++q)if(me=F.FileIndex[q],me.size>=4096)if(K.l=me.start+1<<9,kt&&Buffer.isBuffer(me.content))me.content.copy(K,K.l,0,me.size),K.l+=me.size+511&-512;else{for(ue=0;ue<me.size;++ue)K.write_shift(1,me.content[ue]);for(;ue&511;++ue)K.write_shift(1,0)}for(q=1;q<F.FileIndex.length;++q)if(me=F.FileIndex[q],me.size>0&&me.size<4096)if(kt&&Buffer.isBuffer(me.content))me.content.copy(K,K.l,0,me.size),K.l+=me.size+63&-64;else{for(ue=0;ue<me.size;++ue)K.write_shift(1,me.content[ue]);for(;ue&63;++ue)K.write_shift(1,0)}if(kt)K.l=K.length;else for(;K.l<K.length;)K.write_shift(1,0);return K}function I(F,G){var B=F.FullPaths.map(function(ue){return ue.toUpperCase()}),H=B.map(function(ue){var de=ue.split("/");return de[de.length-(ue.slice(-1)=="/"?2:1)]}),K=!1;G.charCodeAt(0)===47?(K=!0,G=B[0].slice(0,-1)+G):K=G.indexOf("/")!==-1;var q=G.toUpperCase(),ce=K===!0?B.indexOf(q):H.indexOf(q);if(ce!==-1)return F.FileIndex[ce];var ye=!q.match(Pf);for(q=q.replace(ih,""),ye&&(q=q.replace(Pf,"!")),ce=0;ce<B.length;++ce)if((ye?B[ce].replace(Pf,"!"):B[ce]).replace(ih,"")==q||(ye?H[ce].replace(Pf,"!"):H[ce]).replace(ih,"")==q)return F.FileIndex[ce];return null}var L=64,k=-2,Ae="d0cf11e0a1b11ae1",Ce=[208,207,17,224,161,177,26,225],Ue="00000000000000000000000000000000",Re={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:k,FREESECT:-1,HEADER_SIGNATURE:Ae,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Ue,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ae(F,G,B){f();var H=R(F,B);h.writeFileSync(G,H)}function _e(F){for(var G=new Array(F.length),B=0;B<F.length;++B)G[B]=String.fromCharCode(F[B]);return G.join("")}function Ee(F,G){var B=R(F,G);switch(G&&G.type||"buffer"){case"file":return f(),h.writeFileSync(G.filename,B),B;case"binary":return typeof B=="string"?B:_e(B);case"base64":return Rh(typeof B=="string"?B:_e(B));case"buffer":if(kt)return Buffer.isBuffer(B)?B:pa(B);case"array":return typeof B=="string"?Ws(B):B}return B}var W;function V(F){try{var G=F.InflateRaw,B=new G;if(B._processChunk(new Uint8Array([3,0]),B._finishFlushFlag),B.bytesRead)W=F;else throw new Error("zlib does not expose bytesRead")}catch(H){console.error("cannot use native zlib: "+(H.message||H))}}function Y(F,G){if(!W)return ni(F,G);var B=W.InflateRaw,H=new B,K=H._processChunk(F.slice(F.l),H._finishFlushFlag);return F.l+=H.bytesRead,K}function X(F){return W?W.deflateRawSync(F):As(F)}var J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],fe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ie=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Z(F){var G=(F<<1|F<<11)&139536|(F<<5|F<<15)&558144;return(G>>16|G>>8|G)&255}for(var ge=typeof Uint8Array<"u",pe=ge?new Uint8Array(256):[],Se=0;Se<256;++Se)pe[Se]=Z(Se);function Qe(F,G){var B=pe[F&255];return G<=8?B>>>8-G:(B=B<<8|pe[F>>8&255],G<=16?B>>>16-G:(B=B<<8|pe[F>>16&255],B>>>24-G))}function xt(F,G){var B=G&7,H=G>>>3;return(F[H]|(B<=6?0:F[H+1]<<8))>>>B&3}function lt(F,G){var B=G&7,H=G>>>3;return(F[H]|(B<=5?0:F[H+1]<<8))>>>B&7}function Kt(F,G){var B=G&7,H=G>>>3;return(F[H]|(B<=4?0:F[H+1]<<8))>>>B&15}function dt(F,G){var B=G&7,H=G>>>3;return(F[H]|(B<=3?0:F[H+1]<<8))>>>B&31}function te(F,G){var B=G&7,H=G>>>3;return(F[H]|(B<=1?0:F[H+1]<<8))>>>B&127}function Le(F,G,B){var H=G&7,K=G>>>3,q=(1<<B)-1,ce=F[K]>>>H;return B<8-H||(ce|=F[K+1]<<8-H,B<16-H)||(ce|=F[K+2]<<16-H,B<24-H)||(ce|=F[K+3]<<24-H),ce&q}function Ke(F,G,B){var H=G&7,K=G>>>3;return H<=5?F[K]|=(B&7)<<H:(F[K]|=B<<H&255,F[K+1]=(B&7)>>8-H),G+3}function nt(F,G,B){var H=G&7,K=G>>>3;return B=(B&1)<<H,F[K]|=B,G+1}function ot(F,G,B){var H=G&7,K=G>>>3;return B<<=H,F[K]|=B&255,B>>>=8,F[K+1]=B,G+8}function Rt(F,G,B){var H=G&7,K=G>>>3;return B<<=H,F[K]|=B&255,B>>>=8,F[K+1]=B&255,F[K+2]=B>>>8,G+16}function as(F,G){var B=F.length,H=2*B>G?2*B:G+5,K=0;if(B>=G)return F;if(kt){var q=uT(H);if(F.copy)F.copy(q);else for(;K<F.length;++K)q[K]=F[K];return q}else if(ge){var ce=new Uint8Array(H);if(ce.set)ce.set(F);else for(;K<B;++K)ce[K]=F[K];return ce}return F.length=H,F}function Pn(F){for(var G=new Array(F),B=0;B<F;++B)G[B]=0;return G}function os(F,G,B){var H=1,K=0,q=0,ce=0,ye=0,ue=F.length,de=ge?new Uint16Array(32):Pn(32);for(q=0;q<32;++q)de[q]=0;for(q=ue;q<B;++q)F[q]=0;ue=F.length;var me=ge?new Uint16Array(ue):Pn(ue);for(q=0;q<ue;++q)de[K=F[q]]++,H<K&&(H=K),me[q]=0;for(de[0]=0,q=1;q<=H;++q)de[q+16]=ye=ye+de[q-1]<<1;for(q=0;q<ue;++q)ye=F[q],ye!=0&&(me[q]=de[ye+16]++);var De=0;for(q=0;q<ue;++q)if(De=F[q],De!=0)for(ye=Qe(me[q],H)>>H-De,ce=(1<<H+4-De)-1;ce>=0;--ce)G[ye|ce<<De]=De&15|q<<4;return H}var qt=ge?new Uint16Array(512):Pn(512),sn=ge?new Uint16Array(32):Pn(32);if(!ge){for(var Gn=0;Gn<512;++Gn)qt[Gn]=0;for(Gn=0;Gn<32;++Gn)sn[Gn]=0}(function(){for(var F=[],G=0;G<32;G++)F.push(5);os(F,sn,32);var B=[];for(G=0;G<=143;G++)B.push(8);for(;G<=255;G++)B.push(9);for(;G<=279;G++)B.push(7);for(;G<=287;G++)B.push(8);os(B,qt,288)})();var vo=function(){for(var G=ge?new Uint8Array(32768):[],B=0,H=0;B<Ie.length-1;++B)for(;H<Ie[B+1];++H)G[H]=B;for(;H<32768;++H)G[H]=29;var K=ge?new Uint8Array(259):[];for(B=0,H=0;B<fe.length-1;++B)for(;H<fe[B+1];++H)K[H]=B;function q(ye,ue){for(var de=0;de<ye.length;){var me=Math.min(65535,ye.length-de),De=de+me==ye.length;for(ue.write_shift(1,+De),ue.write_shift(2,me),ue.write_shift(2,~me&65535);me-- >0;)ue[ue.l++]=ye[de++]}return ue.l}function ce(ye,ue){for(var de=0,me=0,De=ge?new Uint16Array(32768):[];me<ye.length;){var ze=Math.min(65535,ye.length-me);if(ze<10){for(de=Ke(ue,de,+(me+ze==ye.length)),de&7&&(de+=8-(de&7)),ue.l=de/8|0,ue.write_shift(2,ze),ue.write_shift(2,~ze&65535);ze-- >0;)ue[ue.l++]=ye[me++];de=ue.l*8;continue}de=Ke(ue,de,+(me+ze==ye.length)+2);for(var We=0;ze-- >0;){var Me=ye[me];We=(We<<5^Me)&32767;var Oe=-1,ct=0;if((Oe=De[We])&&(Oe|=me&-32768,Oe>me&&(Oe-=32768),Oe<me))for(;ye[Oe+ct]==ye[me+ct]&&ct<250;)++ct;if(ct>2){Me=K[ct],Me<=22?de=ot(ue,de,pe[Me+1]>>1)-1:(ot(ue,de,3),de+=5,ot(ue,de,pe[Me-23]>>5),de+=3);var Pt=Me<8?0:Me-4>>2;Pt>0&&(Rt(ue,de,ct-fe[Me]),de+=Pt),Me=G[me-Oe],de=ot(ue,de,pe[Me]>>3),de-=3;var Nt=Me<4?0:Me-2>>1;Nt>0&&(Rt(ue,de,me-Oe-Ie[Me]),de+=Nt);for(var Dt=0;Dt<ct;++Dt)De[We]=me&32767,We=(We<<5^ye[me])&32767,++me;ze-=ct-1}else Me<=143?Me=Me+48:de=nt(ue,de,1),de=ot(ue,de,pe[Me]),De[We]=me&32767,++me}de=ot(ue,de,0)-1}return ue.l=(de+7)/8|0,ue.l}return function(ue,de){return ue.length<8?q(ue,de):ce(ue,de)}}();function As(F){var G=we(50+Math.floor(F.length*1.1)),B=vo(F,G);return G.slice(0,B)}var ei=ge?new Uint16Array(32768):Pn(32768),ti=ge?new Uint16Array(32768):Pn(32768),ga=ge?new Uint16Array(128):Pn(128),xa=1,va=1;function yo(F,G){var B=dt(F,G)+257;G+=5;var H=dt(F,G)+1;G+=5;var K=Kt(F,G)+4;G+=4;for(var q=0,ce=ge?new Uint8Array(19):Pn(19),ye=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ue=1,de=ge?new Uint8Array(8):Pn(8),me=ge?new Uint8Array(8):Pn(8),De=ce.length,ze=0;ze<K;++ze)ce[J[ze]]=q=lt(F,G),ue<q&&(ue=q),de[q]++,G+=3;var We=0;for(de[0]=0,ze=1;ze<=ue;++ze)me[ze]=We=We+de[ze-1]<<1;for(ze=0;ze<De;++ze)(We=ce[ze])!=0&&(ye[ze]=me[We]++);var Me=0;for(ze=0;ze<De;++ze)if(Me=ce[ze],Me!=0){We=pe[ye[ze]]>>8-Me;for(var Oe=(1<<7-Me)-1;Oe>=0;--Oe)ga[We|Oe<<Me]=Me&7|ze<<3}var ct=[];for(ue=1;ct.length<B+H;)switch(We=ga[te(F,G)],G+=We&7,We>>>=3){case 16:for(q=3+xt(F,G),G+=2,We=ct[ct.length-1];q-- >0;)ct.push(We);break;case 17:for(q=3+lt(F,G),G+=3;q-- >0;)ct.push(0);break;case 18:for(q=11+te(F,G),G+=7;q-- >0;)ct.push(0);break;default:ct.push(We),ue<We&&(ue=We);break}var Pt=ct.slice(0,B),Nt=ct.slice(B);for(ze=B;ze<286;++ze)Pt[ze]=0;for(ze=H;ze<30;++ze)Nt[ze]=0;return xa=os(Pt,ei,286),va=os(Nt,ti,30),G}function _o(F,G){if(F[0]==3&&!(F[1]&3))return[hl(G),2];for(var B=0,H=0,K=uT(G||1<<18),q=0,ce=K.length>>>0,ye=0,ue=0;(H&1)==0;){if(H=lt(F,B),B+=3,H>>>1)H>>1==1?(ye=9,ue=5):(B=yo(F,B),ye=xa,ue=va);else{B&7&&(B+=8-(B&7));var de=F[B>>>3]|F[(B>>>3)+1]<<8;if(B+=32,de>0)for(!G&&ce<q+de&&(K=as(K,q+de),ce=K.length);de-- >0;)K[q++]=F[B>>>3],B+=8;continue}for(;;){!G&&ce<q+32767&&(K=as(K,q+32767),ce=K.length);var me=Le(F,B,ye),De=H>>>1==1?qt[me]:ei[me];if(B+=De&15,De>>>=4,(De>>>8&255)===0)K[q++]=De;else{if(De==256)break;De-=257;var ze=De<8?0:De-4>>2;ze>5&&(ze=0);var We=q+fe[De];ze>0&&(We+=Le(F,B,ze),B+=ze),me=Le(F,B,ue),De=H>>>1==1?sn[me]:ti[me],B+=De&15,De>>>=4;var Me=De<4?0:De-2>>1,Oe=Ie[De];for(Me>0&&(Oe+=Le(F,B,Me),B+=Me),!G&&ce<We&&(K=as(K,We+100),ce=K.length);q<We;)K[q]=K[q-Oe],++q}}}return G?[K,B+7>>>3]:[K.slice(0,q),B+7>>>3]}function ni(F,G){var B=F.slice(F.l||0),H=_o(B,G);return F.l+=H[1],H[0]}function Ii(F,G){if(F)typeof console<"u"&&console.error(G);else throw new Error(G)}function Pi(F,G){var B=F;Zr(B,0);var H=[],K=[],q={FileIndex:H,FullPaths:K};P(q,{root:G.root});for(var ce=B.length-4;(B[ce]!=80||B[ce+1]!=75||B[ce+2]!=5||B[ce+3]!=6)&&ce>=0;)--ce;B.l=ce+4,B.l+=4;var ye=B.read_shift(2);B.l+=6;var ue=B.read_shift(4);for(B.l=ue,ce=0;ce<ye;++ce){B.l+=20;var de=B.read_shift(4),me=B.read_shift(4),De=B.read_shift(2),ze=B.read_shift(2),We=B.read_shift(2);B.l+=8;var Me=B.read_shift(4),Oe=u(B.slice(B.l+De,B.l+De+ze));B.l+=De+ze+We;var ct=B.l;B.l=Me+4,Pr(B,de,me,q,Oe),B.l=ct}return q}function Pr(F,G,B,H,K){F.l+=2;var q=F.read_shift(2),ce=F.read_shift(2),ye=o(F);if(q&8257)throw new Error("Unsupported ZIP encryption");for(var ue=F.read_shift(4),de=F.read_shift(4),me=F.read_shift(4),De=F.read_shift(2),ze=F.read_shift(2),We="",Me=0;Me<De;++Me)We+=String.fromCharCode(F[F.l++]);if(ze){var Oe=u(F.slice(F.l,F.l+ze));(Oe[21589]||{}).mt&&(ye=Oe[21589].mt),((K||{})[21589]||{}).mt&&(ye=K[21589].mt)}F.l+=ze;var ct=F.slice(F.l,F.l+de);switch(ce){case 8:ct=Y(F,me);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ce)}var Pt=!1;q&8&&(ue=F.read_shift(4),ue==134695760&&(ue=F.read_shift(4),Pt=!0),de=F.read_shift(4),me=F.read_shift(4)),de!=G&&Ii(Pt,"Bad compressed size: "+G+" != "+de),me!=B&&Ii(Pt,"Bad uncompressed size: "+B+" != "+me),_r(H,We,ct,{unsafe:!0,mt:ye})}function ls(F,G){var B=G||{},H=[],K=[],q=we(1),ce=B.compression?8:0,ye=0,ue=0,de=0,me=0,De=0,ze=F.FullPaths[0],We=ze,Me=F.FileIndex[0],Oe=[],ct=0;for(ue=1;ue<F.FullPaths.length;++ue)if(We=F.FullPaths[ue].slice(ze.length),Me=F.FileIndex[ue],!(!Me.size||!Me.content||We=="Sh33tJ5")){var Pt=me,Nt=we(We.length);for(de=0;de<We.length;++de)Nt.write_shift(1,We.charCodeAt(de)&127);Nt=Nt.slice(0,Nt.l),Oe[De]=Y7.buf(Me.content,0);var Dt=Me.content;ce==8&&(Dt=X(Dt)),q=we(30),q.write_shift(4,67324752),q.write_shift(2,20),q.write_shift(2,ye),q.write_shift(2,ce),Me.mt?i(q,Me.mt):q.write_shift(4,0),q.write_shift(-4,Oe[De]),q.write_shift(4,Dt.length),q.write_shift(4,Me.content.length),q.write_shift(2,Nt.length),q.write_shift(2,0),me+=q.length,H.push(q),me+=Nt.length,H.push(Nt),me+=Dt.length,H.push(Dt),q=we(46),q.write_shift(4,33639248),q.write_shift(2,0),q.write_shift(2,20),q.write_shift(2,ye),q.write_shift(2,ce),q.write_shift(4,0),q.write_shift(-4,Oe[De]),q.write_shift(4,Dt.length),q.write_shift(4,Me.content.length),q.write_shift(2,Nt.length),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(4,0),q.write_shift(4,Pt),ct+=q.l,K.push(q),ct+=Nt.length,K.push(Nt),++De}return q=we(22),q.write_shift(4,101010256),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(2,De),q.write_shift(2,De),q.write_shift(4,ct),q.write_shift(4,me),q.write_shift(2,0),nr([nr(H),nr(K),q])}var Cs={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function cs(F,G){if(F.ctype)return F.ctype;var B=F.name||"",H=B.match(/\.([^\.]+)$/);return H&&Cs[H[1]]||G&&(H=(B=G).match(/[\.\\]([^\.\\])+$/),H&&Cs[H[1]])?Cs[H[1]]:"application/octet-stream"}function wo(F){for(var G=Rh(F),B=[],H=0;H<G.length;H+=76)B.push(G.slice(H,H+76));return B.join(`\r
`)+`\r
`}function ki(F){var G=F.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(de){var me=de.charCodeAt(0).toString(16).toUpperCase();return"="+(me.length==1?"0"+me:me)});G=G.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),G.charAt(0)==`
`&&(G="=0D"+G.slice(1)),G=G.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var B=[],H=G.split(`\r
`),K=0;K<H.length;++K){var q=H[K];if(q.length==0){B.push("");continue}for(var ce=0;ce<q.length;){var ye=76,ue=q.slice(ce,ce+ye);ue.charAt(ye-1)=="="?ye--:ue.charAt(ye-2)=="="?ye-=2:ue.charAt(ye-3)=="="&&(ye-=3),ue=q.slice(ce,ce+ye),ce+=ye,ce<q.length&&(ue+="="),B.push(ue)}}return B.join(`\r
`)}function Eo(F){for(var G=[],B=0;B<F.length;++B){for(var H=F[B];B<=F.length&&H.charAt(H.length-1)=="=";)H=H.slice(0,H.length-1)+F[++B];G.push(H)}for(var K=0;K<G.length;++K)G[K]=G[K].replace(/[=][0-9A-Fa-f]{2}/g,function(q){return String.fromCharCode(parseInt(q.slice(1),16))});return Ws(G.join(`\r
`))}function Is(F,G,B){for(var H="",K="",q="",ce,ye=0;ye<10;++ye){var ue=G[ye];if(!ue||ue.match(/^\s*$/))break;var de=ue.match(/^(.*?):\s*([^\s].*)$/);if(de)switch(de[1].toLowerCase()){case"content-location":H=de[2].trim();break;case"content-type":q=de[2].trim();break;case"content-transfer-encoding":K=de[2].trim();break}}switch(++ye,K.toLowerCase()){case"base64":ce=Ws(ha(G.slice(ye).join("")));break;case"quoted-printable":ce=Eo(G.slice(ye));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+K)}var me=_r(F,H.slice(B.length),ce,{unsafe:!0});q&&(me.ctype=q)}function To(F,G){if(_e(F.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var B=G&&G.root||"",H=(kt&&Buffer.isBuffer(F)?F.toString("binary"):_e(F)).split(`\r
`),K=0,q="";for(K=0;K<H.length;++K)if(q=H[K],!!/^Content-Location:/i.test(q)&&(q=q.slice(q.indexOf("file")),B||(B=q.slice(0,q.lastIndexOf("/")+1)),q.slice(0,B.length)!=B))for(;B.length>0&&(B=B.slice(0,B.length-1),B=B.slice(0,B.lastIndexOf("/")+1),q.slice(0,B.length)!=B););var ce=(H[1]||"").match(/boundary="(.*?)"/);if(!ce)throw new Error("MAD cannot find boundary");var ye="--"+(ce[1]||""),ue=[],de=[],me={FileIndex:ue,FullPaths:de};P(me);var De,ze=0;for(K=0;K<H.length;++K){var We=H[K];We!==ye&&We!==ye+"--"||(ze++&&Is(me,H.slice(De,K),B),De=K)}return me}function an(F,G){var B=G||{},H=B.boundary||"SheetJS";H="------="+H;for(var K=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+H.slice(2)+'"',"","",""],q=F.FullPaths[0],ce=q,ye=F.FileIndex[0],ue=1;ue<F.FullPaths.length;++ue)if(ce=F.FullPaths[ue].slice(q.length),ye=F.FileIndex[ue],!(!ye.size||!ye.content||ce=="Sh33tJ5")){ce=ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ct){return"_x"+ct.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ct){return"_u"+ct.charCodeAt(0).toString(16)+"_"});for(var de=ye.content,me=kt&&Buffer.isBuffer(de)?de.toString("binary"):_e(de),De=0,ze=Math.min(1024,me.length),We=0,Me=0;Me<=ze;++Me)(We=me.charCodeAt(Me))>=32&&We<128&&++De;var Oe=De>=ze*4/5;K.push(H),K.push("Content-Location: "+(B.root||"file:///C:/SheetJS/")+ce),K.push("Content-Transfer-Encoding: "+(Oe?"quoted-printable":"base64")),K.push("Content-Type: "+cs(ye,ce)),K.push(""),K.push(Oe?ki(me):wo(me))}return K.push(H+`--\r
`),K.join(`\r
`)}function ya(F){var G={};return P(G,F),G}function _r(F,G,B,H){var K=H&&H.unsafe;K||P(F);var q=!K&&Bt.find(F,G);if(!q){var ce=F.FullPaths[0];G.slice(0,ce.length)==ce?ce=G:(ce.slice(-1)!="/"&&(ce+="/"),ce=(ce+G).replace("//","/")),q={name:s(G),type:2},F.FileIndex.push(q),F.FullPaths.push(ce),K||Bt.utils.cfb_gc(F)}return q.content=B,q.size=B?B.length:0,H&&(H.CLSID&&(q.clsid=H.CLSID),H.mt&&(q.mt=H.mt),H.ct&&(q.ct=H.ct)),q}function Ri(F,G){P(F);var B=Bt.find(F,G);if(B){for(var H=0;H<F.FileIndex.length;++H)if(F.FileIndex[H]==B)return F.FileIndex.splice(H,1),F.FullPaths.splice(H,1),!0}return!1}function Di(F,G,B){P(F);var H=Bt.find(F,G);if(H){for(var K=0;K<F.FileIndex.length;++K)if(F.FileIndex[K]==H)return F.FileIndex[K].name=s(B),F.FullPaths[K]=B,!0}return!1}function _a(F){b(F,!0)}return e.find=I,e.read=re,e.parse=m,e.write=Ee,e.writeFile=ae,e.utils={cfb_new:ya,cfb_add:_r,cfb_del:Ri,cfb_mov:Di,cfb_gc:_a,ReadShift:oh,CheckField:dC,prep_blob:Zr,bconcat:nr,use_zlib:V,_deflateRaw:As,_inflateRaw:ni,consts:Re},e}();function Q7(t){return typeof t=="string"?vm(t):Array.isArray(t)?T7(t):t}function sd(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=vm(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?jh(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var s=new Blob([Q7(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,t);if(typeof saveAs<"u")return saveAs(s,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:t,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=t,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var u=File(t);return u.open("w"),u.encoding="binary",Array.isArray(e)&&(e=rd(e)),u.write(e),u.close(),e}catch(h){if(!h.message||!h.message.match(/onstruct/))throw h}throw new Error("cannot save file "+t)}function or(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function vT(t,e){for(var n=[],r=or(t),s=0;s!==r.length;++s)n[t[r[s]][e]]==null&&(n[t[r[s]][e]]=r[s]);return n}function Dv(t){for(var e=[],n=or(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function wm(t){for(var e=[],n=or(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function J7(t){for(var e=[],n=or(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var P0=new Date(1899,11,30,0,0,0);function Hr(t,e){var n=t.getTime(),r=P0.getTime()+(t.getTimezoneOffset()-P0.getTimezoneOffset())*6e4;return(n-r)/(24*60*60*1e3)}var X4=new Date,Z7=P0.getTime()+(X4.getTimezoneOffset()-P0.getTimezoneOffset())*6e4,yT=X4.getTimezoneOffset();function Y4(t){var e=new Date;return e.setTime(t*24*60*60*1e3+Z7),e.getTimezoneOffset()!==yT&&e.setTime(e.getTime()+(e.getTimezoneOffset()-yT)*6e4),e}var _T=new Date("2017-02-19T19:06:09.000Z"),Q4=isNaN(_T.getFullYear())?new Date("2/19/17"):_T,eB=Q4.getFullYear()==2017;function Ir(t,e){var n=new Date(t);if(eB)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(Q4.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Em(t,e){if(kt&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var n={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return n[i]||i})}catch{}for(var r=[],s=0;s!=t.length;++s)r.push(String.fromCharCode(t[s]));return r.join("")}function $r(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=$r(t[n]));return e}function mn(t,e){for(var n="";n.length<e;)n+=t;return n}function ta(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(s,i){return n=-n,i}),!isNaN(e=Number(r)))?e/n:e}var tB=["january","february","march","april","may","june","july","august","september","october","november","december"];function Dh(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),s=e.getMonth(),i=e.getDate();if(isNaN(i))return n;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&tB.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(s>0||i>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}function vt(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return kt?r=pa(n):r=S7(n),Bt.utils.cfb_add(t,e,r)}Bt.utils.cfb_add(t,e,n)}else t.file(e,n)}function jv(){return Bt.utils.cfb_new()}var In=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,nB={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Ov=Dv(nB),Fv=/[&<>'"]/g,rB=/[\u0000-\u0008\u000b-\u001f]/g;function Lt(t){var e=t+"";return e.replace(Fv,function(n){return Ov[n]}).replace(rB,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function wT(t){return Lt(t).replace(/ /g,"_x0020_")}var J4=/[\u0000-\u001f]/g;function sB(t){var e=t+"";return e.replace(Fv,function(n){return Ov[n]}).replace(/\n/g,"<br/>").replace(J4,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function iB(t){var e=t+"";return e.replace(Fv,function(n){return Ov[n]}).replace(J4,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function aB(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function oB(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function jg(t){for(var e="",n=0,r=0,s=0,i=0,o=0,u=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(s=t.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=s&63,e+=String.fromCharCode(o);continue}if(i=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(s&63)<<6|i&63);continue}o=t.charCodeAt(n++),u=((r&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(u>>>10&1023)),e+=String.fromCharCode(56320+(u&1023))}return e}function ET(t){var e=hl(2*t.length),n,r,s=1,i=0,o=0,u;for(r=0;r<t.length;r+=s)s=1,(u=t.charCodeAt(r))<128?n=u:u<224?(n=(u&31)*64+(t.charCodeAt(r+1)&63),s=2):u<240?(n=(u&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),s=3):(s=4,n=(u&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(e[i++]=o&255,e[i++]=o>>>8,o=0),e[i++]=n%256,e[i++]=n>>>8;return e.slice(0,i).toString("ucs2")}function TT(t){return pa(t,"binary").toString("utf8")}var Rf="foo bar bazâð£",ah=kt&&(TT(Rf)==jg(Rf)&&TT||ET(Rf)==jg(Rf)&&ET)||jg,jh=kt?function(t){return pa(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,s=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,s=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},lB=function(){var t=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<t.length;++s)r=r.replace(t[s][0],t[s][1]);return r}}(),Z4=/(^\s|\s$|\n)/;function rr(t,e){return"<"+t+(e.match(Z4)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Oh(t){return or(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Be(t,e,n){return"<"+t+(n!=null?Oh(n):"")+(e!=null?(e.match(Z4)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Mx(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function cB(t,e){switch(typeof t){case"string":var n=Be("vt:lpwstr",Lt(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return Be((t|0)==t?"vt:i4":"vt:r8",Lt(String(t)));case"boolean":return Be("vt:bool",t?"true":"false")}if(t instanceof Date)return Be("vt:filetime",Mx(t));throw new Error("Unable to serialize "+t)}var Hn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Jc=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ts={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function uB(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),s=t[e+6]&15,i=5;i>=0;--i)s=s*256+t[e+i];return r==2047?s==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,s+=Math.pow(2,52)),n*Math.pow(2,r-52)*s)}function hB(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,s=0,i=0,o=r?-e:e;isFinite(o)?o==0?s=i=0:(s=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(e)?26985:0);for(var u=0;u<=5;++u,i/=256)t[n+u]=i&255;t[n+6]=(s&15)<<4|i&15,t[n+7]=s>>4|r}var ST=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var s=0,i=t[0][r].length;s<i;s+=n)e.push.apply(e,t[0][r].slice(s,s+n));return e},bT=kt?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:pa(e)})):ST(t)}:ST,NT=function(t,e,n){for(var r=[],s=e;s<n;s+=2)r.push(String.fromCharCode(Gu(t,s)));return r.join("").replace(ih,"")},Mv=kt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(ih,""):NT(t,e,n)}:NT,AT=function(t,e,n){for(var r=[],s=e;s<e+n;++s)r.push(("0"+t[s].toString(16)).slice(-2));return r.join("")},eC=kt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):AT(t,e,n)}:AT,CT=function(t,e,n){for(var r=[],s=e;s<n;s++)r.push(String.fromCharCode(oc(t,s)));return r.join("")},id=kt?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):CT(e,n,r)}:CT,tC=function(t,e){var n=ns(t,e);return n>0?id(t,e+4,e+4+n-1):""},nC=tC,rC=function(t,e){var n=ns(t,e);return n>0?id(t,e+4,e+4+n-1):""},sC=rC,iC=function(t,e){var n=2*ns(t,e);return n>0?id(t,e+4,e+4+n-1):""},aC=iC,oC=function(e,n){var r=ns(e,n);return r>0?Mv(e,n+4,n+4+r):""},lC=oC,cC=function(t,e){var n=ns(t,e);return n>0?id(t,e+4,e+4+n):""},uC=cC,hC=function(t,e){return uB(t,e)},k0=hC,Lv=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};kt&&(nC=function(e,n){if(!Buffer.isBuffer(e))return tC(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},sC=function(e,n){if(!Buffer.isBuffer(e))return rC(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},aC=function(e,n){if(!Buffer.isBuffer(e))return iC(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},lC=function(e,n){if(!Buffer.isBuffer(e))return oC(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},uC=function(e,n){if(!Buffer.isBuffer(e))return cC(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},k0=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):hC(e,n)},Lv=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var oc=function(t,e){return t[e]},Gu=function(t,e){return t[e+1]*256+t[e]},dB=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},ns=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Wo=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},fB=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function oh(t,e){var n="",r,s,i=[],o,u,h,f;switch(e){case"dbcs":if(f=this.l,kt&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(h=0;h<t;++h)n+=String.fromCharCode(Gu(this,f)),f+=2;t*=2;break;case"utf8":n=id(this,this.l,this.l+t);break;case"utf16le":t*=2,n=Mv(this,this.l,this.l+t);break;case"wstr":return oh.call(this,t,"dbcs");case"lpstr-ansi":n=nC(this,this.l),t=4+ns(this,this.l);break;case"lpstr-cp":n=sC(this,this.l),t=4+ns(this,this.l);break;case"lpwstr":n=aC(this,this.l),t=4+2*ns(this,this.l);break;case"lpp4":t=4+ns(this,this.l),n=lC(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+ns(this,this.l),n=uC(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(o=oc(this,this.l+t++))!==0;)i.push(If(o));n=i.join("");break;case"_wstr":for(t=0,n="";(o=Gu(this,this.l+t))!==0;)i.push(If(o)),t+=2;t+=2,n=i.join("");break;case"dbcs-cont":for(n="",f=this.l,h=0;h<t;++h){if(this.lens&&this.lens.indexOf(f)!==-1)return o=oc(this,f),this.l=f+1,u=oh.call(this,t-h,o?"dbcs-cont":"sbcs-cont"),i.join("")+u;i.push(If(Gu(this,f))),f+=2}n=i.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",f=this.l,h=0;h!=t;++h){if(this.lens&&this.lens.indexOf(f)!==-1)return o=oc(this,f),this.l=f+1,u=oh.call(this,t-h,o?"dbcs-cont":"sbcs-cont"),i.join("")+u;i.push(If(oc(this,f))),f+=1}n=i.join("");break;default:switch(t){case 1:return r=oc(this,this.l),this.l++,r;case 2:return r=(e==="i"?dB:Gu)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?Wo:fB)(this,this.l),this.l+=4,r):(s=ns(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return t==8?s=k0(this,this.l):s=k0([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:n=eC(this,this.l,t);break}}return this.l+=t,n}var mB=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},pB=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},gB=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function xB(t,e,n){var r=0,s=0;if(n==="dbcs"){for(s=0;s!=e.length;++s)gB(this,e.charCodeAt(s),this.l+2*s);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;r=e.length}else if(n==="hex"){for(;s<t;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(n==="utf16le"){var i=Math.min(this.l+t,this.length);for(s=0;s<Math.min(e.length,t);++s){var o=e.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,mB(this,e,this.l);break;case 8:if(r=8,n==="f"){hB(this,e,this.l);break}case 16:break;case-4:r=4,pB(this,e,this.l);break}return this.l+=r,this}function dC(t,e){var n=eC(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function Zr(t,e){t.l=e,t.read_shift=oh,t.chk=dC,t.write_shift=xB}function Ni(t,e){t.l+=e}function we(t){var e=hl(t);return Zr(e,0),e}function zr(){var t=[],e=kt?256:2048,n=function(f){var m=we(f);return Zr(m,0),m},r=n(e),s=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},i=function(f){return r&&f<r.length-r.l?r:(s(),r=n(Math.max(f+1,e)))},o=function(){return s(),nr(t)},u=function(f){s(),r=f,r.l==null&&(r.l=r.length),i(e)};return{next:i,push:u,end:o,_bufs:t}}function Ne(t,e,n,r){var s=+e,i;if(!isNaN(s)){r||(r=uK[s].p||(n||[]).length||0),i=1+(s>=128?1:0)+1,r>=128&&++i,r>=16384&&++i,r>=2097152&&++i;var o=t.next(i);s<=127?o.write_shift(1,s):(o.write_shift(1,(s&127)+128),o.write_shift(1,s>>7));for(var u=0;u!=4;++u)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&Lv(n)&&t.push(n)}}function lh(t,e,n){var r=$r(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function IT(t,e,n){var r=$r(t);return r.s=lh(r.s,e.s,n),r.e=lh(r.e,e.s,n),r}function ch(t,e){if(t.cRel&&t.c<0)for(t=$r(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=$r(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=Ut(t);return!t.cRel&&t.cRel!=null&&(n=_B(n)),!t.rRel&&t.rRel!=null&&(n=vB(n)),n}function Og(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+xr(t.s.c)+":"+(t.e.cRel?"":"$")+xr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+ir(t.s.r)+":"+(t.e.rRel?"":"$")+ir(t.e.r):ch(t.s,e.biff)+":"+ch(t.e,e.biff)}function Vv(t){return parseInt(yB(t),10)-1}function ir(t){return""+(t+1)}function vB(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function yB(t){return t.replace(/\$(\d+)$/,"$1")}function Uv(t){for(var e=wB(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function xr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function _B(t){return t.replace(/^([A-Z])/,"$$$1")}function wB(t){return t.replace(/^\$([A-Z])/,"$1")}function EB(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function $n(t){for(var e=0,n=0,r=0;r<t.length;++r){var s=t.charCodeAt(r);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(n=26*n+(s-64))}return{c:n-1,r:e-1}}function Ut(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function is(t){var e=t.indexOf(":");return e==-1?{s:$n(t),e:$n(t)}:{s:$n(t.slice(0,e)),e:$n(t.slice(e+1))}}function Cn(t,e){return typeof e>"u"||typeof e=="number"?Cn(t.s,t.e):(typeof t!="string"&&(t=Ut(t)),typeof e!="string"&&(e=Ut(e)),t==e?t:t+":"+e)}function Zt(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,s=0,i=t.length;for(n=0;r<i&&!((s=t.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(e.s.c=--n,n=0;r<i&&!((s=t.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;if(e.s.r=--n,r===i||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=i&&!((s=t.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(e.e.c=--n,n=0;r!=i&&!((s=t.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;return e.e.r=--n,e}function PT(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=ho(t.z,n?Hr(e):e)}catch{}try{return t.w=ho((t.XF||{}).numFmtId||(n?14:0),n?Hr(e):e)}catch{return""+e}}function da(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?ad[t.v]||t.v:e==null?PT(t,t.v):PT(t,e))}function xl(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function fC(t,e,n){var r=n||{},s=t?Array.isArray(t):r.dense,i=t||(s?[]:{}),o=0,u=0;if(i&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var h=typeof r.origin=="string"?$n(r.origin):r.origin;o=h.r,u=h.c}i["!ref"]||(i["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var m=Zt(i["!ref"]);f.s.c=m.s.c,f.s.r=m.s.r,f.e.c=Math.max(f.e.c,m.e.c),f.e.r=Math.max(f.e.r,m.e.r),o==-1&&(f.e.r=o=m.e.r+1)}for(var x=0;x!=e.length;++x)if(e[x]){if(!Array.isArray(e[x]))throw new Error("aoa_to_sheet expects an array of arrays");for(var v=0;v!=e[x].length;++v)if(!(typeof e[x][v]>"u")){var _={v:e[x][v]},A=o+x,w=u+v;if(f.s.r>A&&(f.s.r=A),f.s.c>w&&(f.s.c=w),f.e.r<A&&(f.e.r=A),f.e.c<w&&(f.e.c=w),e[x][v]&&typeof e[x][v]=="object"&&!Array.isArray(e[x][v])&&!(e[x][v]instanceof Date))_=e[x][v];else if(Array.isArray(_.v)&&(_.f=e[x][v][1],_.v=_.v[0]),_.v===null)if(_.f)_.t="n";else if(r.nullError)_.t="e",_.v=0;else if(r.sheetStubs)_.t="z";else continue;else typeof _.v=="number"?_.t="n":typeof _.v=="boolean"?_.t="b":_.v instanceof Date?(_.z=r.dateNF||pn[14],r.cellDates?(_.t="d",_.w=ho(_.z,Hr(_.v))):(_.t="n",_.v=Hr(_.v),_.w=ho(_.z,_.v))):_.t="s";if(s)i[A]||(i[A]=[]),i[A][w]&&i[A][w].z&&(_.z=i[A][w].z),i[A][w]=_;else{var N=Ut({c:w,r:A});i[N]&&i[N].z&&(_.z=i[N].z),i[N]=_}}}return f.s.c<1e7&&(i["!ref"]=Cn(f)),i}function Zc(t,e){return fC(null,t,e)}function TB(t){return t.read_shift(4,"i")}function Qs(t,e){return e||(e=we(4)),e.write_shift(4,t),e}function vr(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Wn(t,e){var n=!1;return e==null&&(n=!0,e=we(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function SB(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function bB(t,e){return e||(e=we(4)),e.write_shift(2,0),e.write_shift(2,0),e}function Bv(t,e){var n=t.l,r=t.read_shift(1),s=vr(t),i=[],o={t:s,h:s};if((r&1)!==0){for(var u=t.read_shift(4),h=0;h!=u;++h)i.push(SB(t));o.r=i}else o.r=[{ich:0,ifnt:0}];return t.l=n+e,o}function NB(t,e){var n=!1;return e==null&&(n=!0,e=we(15+4*t.t.length)),e.write_shift(1,0),Wn(t.t,e),n?e.slice(0,e.l):e}var AB=Bv;function CB(t,e){var n=!1;return e==null&&(n=!0,e=we(23+4*t.t.length)),e.write_shift(1,1),Wn(t.t,e),e.write_shift(4,1),bB({},e),n?e.slice(0,e.l):e}function Ns(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function vl(t,e){return e==null&&(e=we(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function yl(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function _l(t,e){return e==null&&(e=we(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var IB=vr,mC=Wn;function zv(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function R0(t,e){var n=!1;return e==null&&(n=!0,e=we(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var PB=vr,Lx=zv,Hv=R0;function pC(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var s=r===0?k0([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Wo(e,0)>>2;return n?s/100:s}function gC(t,e){e==null&&(e=we(4));var n=0,r=0,s=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?s:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function xC(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function kB(t,e){return e||(e=we(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var wl=xC,eu=kB;function tu(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function dl(t,e){return(e||we(8)).write_shift(8,t,"f")}function RB(t){var e={},n=t.read_shift(1),r=n>>>1,s=t.read_shift(1),i=t.read_shift(2,"i"),o=t.read_shift(1),u=t.read_shift(1),h=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=s;var f=BB[s];f&&(e.rgb=BT(f));break;case 2:e.rgb=BT([o,u,h]);break;case 3:e.theme=s;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function D0(t,e){if(e||(e=we(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function DB(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function jB(t,e){e||(e=we(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}var vC=2,Jr=3,Df=11,j0=19,jf=64,OB=65,FB=71,MB=4108,LB=4126,Zn=80,kT={1:{n:"CodePage",t:vC},2:{n:"Category",t:Zn},3:{n:"PresentationFormat",t:Zn},4:{n:"ByteCount",t:Jr},5:{n:"LineCount",t:Jr},6:{n:"ParagraphCount",t:Jr},7:{n:"SlideCount",t:Jr},8:{n:"NoteCount",t:Jr},9:{n:"HiddenCount",t:Jr},10:{n:"MultimediaClipCount",t:Jr},11:{n:"ScaleCrop",t:Df},12:{n:"HeadingPairs",t:MB},13:{n:"TitlesOfParts",t:LB},14:{n:"Manager",t:Zn},15:{n:"Company",t:Zn},16:{n:"LinksUpToDate",t:Df},17:{n:"CharacterCount",t:Jr},19:{n:"SharedDoc",t:Df},22:{n:"HyperlinksChanged",t:Df},23:{n:"AppVersion",t:Jr,p:"version"},24:{n:"DigSig",t:OB},26:{n:"ContentType",t:Zn},27:{n:"ContentStatus",t:Zn},28:{n:"Language",t:Zn},29:{n:"Version",t:Zn},255:{},2147483648:{n:"Locale",t:j0},2147483651:{n:"Behavior",t:j0},1919054434:{}},RT={1:{n:"CodePage",t:vC},2:{n:"Title",t:Zn},3:{n:"Subject",t:Zn},4:{n:"Author",t:Zn},5:{n:"Keywords",t:Zn},6:{n:"Comments",t:Zn},7:{n:"Template",t:Zn},8:{n:"LastAuthor",t:Zn},9:{n:"RevNumber",t:Zn},10:{n:"EditTime",t:jf},11:{n:"LastPrinted",t:jf},12:{n:"CreatedDate",t:jf},13:{n:"ModifiedDate",t:jf},14:{n:"PageCount",t:Jr},15:{n:"WordCount",t:Jr},16:{n:"CharCount",t:Jr},17:{n:"Thumbnail",t:FB},18:{n:"Application",t:Zn},19:{n:"DocSecurity",t:Jr},255:{},2147483648:{n:"Locale",t:j0},2147483651:{n:"Behavior",t:j0},1919054434:{}};function VB(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var UB=VB([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),BB=$r(UB),ad={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},zB={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Of={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function yC(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function _C(t,e){var n=J7(zB),r=[],s;r[r.length]=In,r[r.length]=Be("Types",null,{xmlns:Hn.CT,"xmlns:xsd":Hn.xsd,"xmlns:xsi":Hn.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(h){return Be("Default",null,{Extension:h[0],ContentType:h[1]})}));var i=function(h){t[h]&&t[h].length>0&&(s=t[h][0],r[r.length]=Be("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:Of[h][e.bookType]||Of[h].xlsx}))},o=function(h){(t[h]||[]).forEach(function(f){r[r.length]=Be("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:Of[h][e.bookType]||Of[h].xlsx})})},u=function(h){(t[h]||[]).forEach(function(f){r[r.length]=Be("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:n[h][0]})})};return i("workbooks"),o("sheets"),o("charts"),u("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(u),u("vba"),u("comments"),u("threadedcomments"),u("drawings"),o("metadata"),u("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Ct={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function wC(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function _c(t){var e=[In,Be("Relationships",null,{xmlns:Hn.RELS})];return or(t["!id"]).forEach(function(n){e[e.length]=Be("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Ft(t,e,n,r,s,i){if(s||(s={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,s.Id="rId"+e,s.Type=r,s.Target=n,[Ct.HLINK,Ct.XPATH,Ct.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),t["!id"][s.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][s.Id]=s,t[("/"+s.Target).replace("//","/")]=s,e}function HB(t){var e=[In];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function DT(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function $B(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function WB(t){var e=[In];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(DT(t[n][0],t[n][1])),e.push($B("",t[n][0]));return e.push(DT("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function EC(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+b0.version+"</meta:generator></office:meta></office:document-meta>"}var rl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Fg(t,e,n,r,s){s[t]!=null||e==null||e===""||(s[t]=e,e=Lt(e),r[r.length]=n?Be(t,e,n):rr(t,e))}function TC(t,e){var n=e||{},r=[In,Be("cp:coreProperties",null,{"xmlns:cp":Hn.CORE_PROPS,"xmlns:dc":Hn.dc,"xmlns:dcterms":Hn.dcterms,"xmlns:dcmitype":Hn.dcmitype,"xmlns:xsi":Hn.xsi})],s={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&Fg("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Mx(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s),t.ModifiedDate!=null&&Fg("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Mx(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s));for(var i=0;i!=rl.length;++i){var o=rl[i],u=n.Props&&n.Props[o[1]]!=null?n.Props[o[1]]:t?t[o[1]]:null;u===!0?u="1":u===!1?u="0":typeof u=="number"&&(u=String(u)),u!=null&&Fg(o[0],u,null,r,s)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var wc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],SC=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function bC(t){var e=[],n=Be;return t||(t={}),t.Application="SheetJS",e[e.length]=In,e[e.length]=Be("Properties",null,{xmlns:Hn.EXT_PROPS,"xmlns:vt":Hn.vt}),wc.forEach(function(r){if(t[r[1]]!==void 0){var s;switch(r[2]){case"string":s=Lt(String(t[r[1]]));break;case"bool":s=t[r[1]]?"true":"false";break}s!==void 0&&(e[e.length]=n(r[0],s))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+Lt(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function NC(t){var e=[In,Be("Properties",null,{xmlns:Hn.CUST_PROPS,"xmlns:vt":Hn.vt})];if(!t)return e.join("");var n=1;return or(t).forEach(function(s){++n,e[e.length]=Be("property",cB(t[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:Lt(s)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var jT={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function GB(t,e){var n=[];return or(jT).map(function(r){for(var s=0;s<rl.length;++s)if(rl[s][1]==r)return rl[s];for(s=0;s<wc.length;++s)if(wc[s][1]==r)return wc[s];throw r}).forEach(function(r){if(t[r[1]]!=null){var s=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),n.push(rr(jT[r[1]]||r[1],s))}}),Be("DocumentProperties",n.join(""),{xmlns:ts.o})}function KB(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",s=[];return t&&or(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)){for(var o=0;o<rl.length;++o)if(i==rl[o][1])return;for(o=0;o<wc.length;++o)if(i==wc[o][1])return;for(o=0;o<n.length;++o)if(i==n[o])return;var u=t[i],h="string";typeof u=="number"?(h="float",u=String(u)):u===!0||u===!1?(h="boolean",u=u?"1":"0"):u=String(u),s.push(Be(wT(i),u,{"dt:dt":h}))}}),e&&or(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)&&!(t&&Object.prototype.hasOwnProperty.call(t,i))){var o=e[i],u="string";typeof o=="number"?(u="float",o=String(o)):o===!0||o===!1?(u="boolean",o=o?"1":"0"):o instanceof Date?(u="dateTime.tz",o=o.toISOString()):o=String(o),s.push(Be(wT(i),o,{"dt:dt":u}))}}),"<"+r+' xmlns="'+ts.o+'">'+s.join("")+"</"+r+">"}function qB(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),s=(n-r)/Math.pow(2,32);r*=1e7,s*=1e7;var i=r/Math.pow(2,32)|0;i>0&&(r=r%Math.pow(2,32),s+=i);var o=we(8);return o.write_shift(4,r),o.write_shift(4,s),o}function OT(t,e){var n=we(4),r=we(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=we(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=qB(e);break;case 31:case 80:for(r=we(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return nr([n,r])}var AC=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function XB(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function FT(t,e,n){var r=we(8),s=[],i=[],o=8,u=0,h=we(8),f=we(8);if(h.write_shift(4,2),h.write_shift(4,1200),f.write_shift(4,1),i.push(h),s.push(f),o+=8+h.length,!e){f=we(8),f.write_shift(4,0),s.unshift(f);var m=[we(4)];for(m[0].write_shift(4,t.length),u=0;u<t.length;++u){var x=t[u][0];for(h=we(8+2*(x.length+1)+(x.length%2?0:2)),h.write_shift(4,u+2),h.write_shift(4,x.length+1),h.write_shift(0,x,"dbcs");h.l!=h.length;)h.write_shift(1,0);m.push(h)}h=nr(m),i.unshift(h),o+=8+h.length}for(u=0;u<t.length;++u)if(!(e&&!e[t[u][0]])&&!(AC.indexOf(t[u][0])>-1||SC.indexOf(t[u][0])>-1)&&t[u][1]!=null){var v=t[u][1],_=0;if(e){_=+e[t[u][0]];var A=n[_];if(A.p=="version"&&typeof v=="string"){var w=v.split(".");v=(+w[0]<<16)+(+w[1]||0)}h=OT(A.t,v)}else{var N=XB(v);N==-1&&(N=31,v=String(v)),h=OT(N,v)}i.push(h),f=we(8),f.write_shift(4,e?_:2+u),s.push(f),o+=8+h.length}var M=8*(i.length+1);for(u=0;u<i.length;++u)s[u].write_shift(4,M),M+=i[u].length;return r.write_shift(4,o),r.write_shift(4,i.length),nr([r].concat(s).concat(i))}function MT(t,e,n,r,s,i){var o=we(s?68:48),u=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Bt.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,s?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,s?68:48);var h=FT(t,n,r);if(u.push(h),s){var f=FT(s,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+h.length),u.push(f)}return nr(u)}function YB(t,e){e||(e=we(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function QB(t,e){return t.read_shift(e)===1}function Nr(t,e){return e||(e=we(2)),e.write_shift(2,+!!t),e}function CC(t){return t.read_shift(2,"u")}function ws(t,e){return e||(e=we(2)),e.write_shift(2,t),e}function IC(t,e,n){return n||(n=we(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function PC(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),s="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var i=t.read_shift(1);i&&(s="dbcs-cont")}else n.biff==12&&(s="wstr");n.biff>=2&&n.biff<=5&&(s="cpstr");var o=r?t.read_shift(r,s):"";return o}function JB(t){var e=t.t||"",n=we(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=we(2*e.length);r.write_shift(2*e.length,e,"utf16le");var s=[n,r];return nr(s)}function ZB(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var s=t.read_shift(1);return s===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function ez(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):ZB(t,r,n)}function tz(t,e,n){if(n.biff>5)return ez(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function kC(t,e,n){return n||(n=we(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function LT(t,e){e||(e=we(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function nz(t){var e=we(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var s=r.indexOf("#"),i=s>-1?31:23;switch(r.charAt(0)){case"#":i=28;break;case".":i&=-3;break}e.write_shift(4,2),e.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(n=0;n<o.length;++n)e.write_shift(4,o[n]);if(i==28)r=r.slice(1),LT(r,e);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<o.length;++n)e.write_shift(1,parseInt(o[n],16));var u=s>-1?r.slice(0,s):r;for(e.write_shift(4,2*(u.length+1)),n=0;n<u.length;++n)e.write_shift(2,u.charCodeAt(n));e.write_shift(2,0),i&8&&LT(s>-1?r.slice(s+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<o.length;++n)e.write_shift(1,parseInt(o[n],16));for(var h=0;r.slice(h*3,h*3+3)=="../"||r.slice(h*3,h*3+3)=="..\\";)++h;for(e.write_shift(2,h),e.write_shift(4,r.length-3*h+1),n=0;n<r.length-3*h;++n)e.write_shift(1,r.charCodeAt(n+3*h)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function fl(t,e,n,r){return r||(r=we(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function rz(t,e,n){var r=n.biff>8?4:2,s=t.read_shift(r),i=t.read_shift(r,"i"),o=t.read_shift(r,"i");return[s,i,o]}function sz(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2);return{s:{c:r,r:e},e:{c:s,r:n}}}function RC(t,e){return e||(e=we(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function $v(t,e,n){var r=1536,s=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,s=8;break;case"biff4":r=4,s=6;break;case"biff3":r=3,s=6;break;case"biff2":r=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=we(s);return i.write_shift(2,r),i.write_shift(2,e),s>4&&i.write_shift(2,29282),s>6&&i.write_shift(2,1997),s>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function iz(t,e){var n=!e||e.biff==8,r=we(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function az(t,e){var n=!e||e.biff>=8?2:1,r=we(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var s=r.slice(0,r.l);return s.l=r.l,s}function oz(t,e){var n=we(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],s=0;s<t.length;++s)r[s]=JB(t[s]);var i=nr([n].concat(r));return i.parts=[n.length].concat(r.map(function(o){return o.length})),i}function lz(){var t=we(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function cz(t){var e=we(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function uz(t,e){var n=t.name||"Arial",r=e&&e.biff==5,s=r?15+n.length:16+2*n.length,i=we(s);return i.write_shift(2,t.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,n.length),r||i.write_shift(1,1),i.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),i}function hz(t,e,n,r){var s=we(10);return fl(t,e,r,s),s.write_shift(4,n),s}function dz(t,e,n,r,s){var i=!s||s.biff==8,o=we(8+ +i+(1+i)*n.length);return fl(t,e,r,o),o.write_shift(2,n.length),i&&o.write_shift(1,1),o.write_shift((1+i)*n.length,n,i?"utf16le":"sbcs"),o}function fz(t,e,n,r){var s=n&&n.biff==5;r||(r=we(s?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(s?1:2,e.length),s||r.write_shift(1,1),r.write_shift((s?1:2)*e.length,e,s?"sbcs":"utf16le");var i=r.length>r.l?r.slice(0,r.l):r;return i.l==null&&(i.l=i.length),i}function mz(t,e){var n=e.biff==8||!e.biff?4:2,r=we(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function VT(t,e,n,r){var s=n&&n.biff==5;r||(r=we(s?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var i=0;return t.numFmtId>0&&s&&(i|=1024),r.write_shift(4,i),r.write_shift(4,0),s||r.write_shift(4,0),r.write_shift(2,0),r}function pz(t){var e=we(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function gz(t,e,n,r,s,i){var o=we(8);return fl(t,e,r,o),IC(n,i,o),o}function xz(t,e,n,r){var s=we(14);return fl(t,e,r,s),dl(n,s),s}function vz(t,e,n){if(n.biff<8)return yz(t,e,n);for(var r=[],s=t.l+e,i=t.read_shift(n.biff>8?4:2);i--!==0;)r.push(rz(t,n.biff>8?12:6,n));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return r}function yz(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=PC(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function _z(t){var e=we(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)RC(t[n],e);return e}function wz(t){var e=we(24),n=$n(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)e.write_shift(1,parseInt(r[s],16));return nr([e,nz(t[1])])}function Ez(t){var e=t[1].Tooltip,n=we(10+2*(e.length+1));n.write_shift(2,2048);var r=$n(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var s=0;s<e.length;++s)n.write_shift(2,e.charCodeAt(s));return n.write_shift(2,0),n}function Tz(t){return t||(t=we(4)),t.write_shift(2,1),t.write_shift(2,1),t}function Sz(t,e,n){if(!n.cellStyles)return Ni(t,e);var r=n&&n.biff>=12?4:2,s=t.read_shift(r),i=t.read_shift(r),o=t.read_shift(r),u=t.read_shift(r),h=t.read_shift(2);r==2&&(t.l+=2);var f={s,e:i,w:o,ixfe:u,flags:h};return(n.biff>=5||!n.biff)&&(f.level=h>>8&7),f}function bz(t,e){var n=we(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function Nz(t){for(var e=we(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}function Az(t,e,n){var r=we(15);return ld(r,t,e),r.write_shift(8,n,"f"),r}function Cz(t,e,n){var r=we(9);return ld(r,t,e),r.write_shift(2,n),r}var Iz=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Dv({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(u,h){var f=[],m=hl(1);switch(h.type){case"base64":m=Ws(ha(u));break;case"binary":m=Ws(u);break;case"buffer":case"array":m=u;break}Zr(m,0);var x=m.read_shift(1),v=!!(x&136),_=!1,A=!1;switch(x){case 2:break;case 3:break;case 48:_=!0,v=!0;break;case 49:_=!0,v=!0;break;case 131:break;case 139:break;case 140:A=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+x.toString(16))}var w=0,N=521;x==2&&(w=m.read_shift(2)),m.l+=3,x!=2&&(w=m.read_shift(4)),w>1048576&&(w=1e6),x!=2&&(N=m.read_shift(2));var M=m.read_shift(2),j=h.codepage||1252;x!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(j=t[m[m.l]]),m.l+=1,m.l+=2),A&&(m.l+=36);for(var O=[],z={},ne=Math.min(m.length,x==2?521:N-10-(_?264:0)),re=A?32:11;m.l<ne&&m[m.l]!=13;)switch(z={},z.name=N0.utils.decode(j,m.slice(m.l,m.l+re)).replace(/[\u0000\r\n].*$/g,""),m.l+=re,z.type=String.fromCharCode(m.read_shift(1)),x!=2&&!A&&(z.offset=m.read_shift(4)),z.len=m.read_shift(1),x==2&&(z.offset=m.read_shift(2)),z.dec=m.read_shift(1),z.name.length&&O.push(z),x!=2&&(m.l+=A?13:14),z.type){case"B":(!_||z.len!=8)&&h.WTF&&console.log("Skipping "+z.name+":"+z.type);break;case"G":case"P":h.WTF&&console.log("Skipping "+z.name+":"+z.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+z.type)}if(m[m.l]!==13&&(m.l=N-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=N;var P=0,T=0;for(f[0]=[],T=0;T!=O.length;++T)f[0][T]=O[T].name;for(;w-- >0;){if(m[m.l]===42){m.l+=M;continue}for(++m.l,f[++P]=[],T=0,T=0;T!=O.length;++T){var b=m.slice(m.l,m.l+O[T].len);m.l+=O[T].len,Zr(b,0);var R=N0.utils.decode(j,b);switch(O[T].type){case"C":R.trim().length&&(f[P][T]=R.replace(/\s+$/,""));break;case"D":R.length===8?f[P][T]=new Date(+R.slice(0,4),+R.slice(4,6)-1,+R.slice(6,8)):f[P][T]=R;break;case"F":f[P][T]=parseFloat(R.trim());break;case"+":case"I":f[P][T]=A?b.read_shift(-4,"i")^2147483648:b.read_shift(4,"i");break;case"L":switch(R.trim().toUpperCase()){case"Y":case"T":f[P][T]=!0;break;case"N":case"F":f[P][T]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+R+"|")}break;case"M":if(!v)throw new Error("DBF Unexpected MEMO for type "+x.toString(16));f[P][T]="##MEMO##"+(A?parseInt(R.trim(),10):b.read_shift(4));break;case"N":R=R.replace(/\u0000/g,"").trim(),R&&R!="."&&(f[P][T]=+R||0);break;case"@":f[P][T]=new Date(b.read_shift(-8,"f")-621356832e5);break;case"T":f[P][T]=new Date((b.read_shift(4)-2440588)*864e5+b.read_shift(4));break;case"Y":f[P][T]=b.read_shift(4,"i")/1e4+b.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[P][T]=-b.read_shift(-8,"f");break;case"B":if(_&&O[T].len==8){f[P][T]=b.read_shift(8,"f");break}case"G":case"P":b.l+=O[T].len;break;case"0":if(O[T].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+O[T].type)}}}if(x!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return h&&h.sheetRows&&(f=f.slice(0,h.sheetRows)),h.DBF=O,f}function r(u,h){var f=h||{};f.dateNF||(f.dateNF="yyyymmdd");var m=Zc(n(u,f),f);return m["!cols"]=f.DBF.map(function(x){return{wch:x.len,DBF:x}}),delete f.DBF,m}function s(u,h){try{return xl(r(u,h),h)}catch(f){if(h&&h.WTF)throw f}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(u,h){var f=h||{};if(+f.codepage>=0&&kh(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var m=zr(),x=V0(u,{header:1,raw:!0,cellDates:!0}),v=x[0],_=x.slice(1),A=u["!cols"]||[],w=0,N=0,M=0,j=1;for(w=0;w<v.length;++w){if(((A[w]||{}).DBF||{}).name){v[w]=A[w].DBF.name,++M;continue}if(v[w]!=null){if(++M,typeof v[w]=="number"&&(v[w]=v[w].toString(10)),typeof v[w]!="string")throw new Error("DBF Invalid column name "+v[w]+" |"+typeof v[w]+"|");if(v.indexOf(v[w])!==w){for(N=0;N<1024;++N)if(v.indexOf(v[w]+"_"+N)==-1){v[w]+="_"+N;break}}}}var O=Zt(u["!ref"]),z=[],ne=[],re=[];for(w=0;w<=O.e.c-O.s.c;++w){var P="",T="",b=0,R=[];for(N=0;N<_.length;++N)_[N][w]!=null&&R.push(_[N][w]);if(R.length==0||v[w]==null){z[w]="?";continue}for(N=0;N<R.length;++N){switch(typeof R[N]){case"number":T="B";break;case"string":T="C";break;case"boolean":T="L";break;case"object":T=R[N]instanceof Date?"D":"C";break;default:T="C"}b=Math.max(b,String(R[N]).length),P=P&&P!=T?"C":T}b>250&&(b=250),T=((A[w]||{}).DBF||{}).type,T=="C"&&A[w].DBF.len>b&&(b=A[w].DBF.len),P=="B"&&T=="N"&&(P="N",re[w]=A[w].DBF.dec,b=A[w].DBF.len),ne[w]=P=="C"||T=="N"?b:i[P]||0,j+=ne[w],z[w]=P}var I=m.next(32);for(I.write_shift(4,318902576),I.write_shift(4,_.length),I.write_shift(2,296+32*M),I.write_shift(2,j),w=0;w<4;++w)I.write_shift(4,0);for(I.write_shift(4,0|(+e[j4]||3)<<8),w=0,N=0;w<v.length;++w)if(v[w]!=null){var L=m.next(32),k=(v[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);L.write_shift(1,k,"sbcs"),L.write_shift(1,z[w]=="?"?"C":z[w],"sbcs"),L.write_shift(4,N),L.write_shift(1,ne[w]||i[z[w]]||0),L.write_shift(1,re[w]||0),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(1,0),L.write_shift(4,0),L.write_shift(4,0),N+=ne[w]||i[z[w]]||0}var Ae=m.next(264);for(Ae.write_shift(4,13),w=0;w<65;++w)Ae.write_shift(4,0);for(w=0;w<_.length;++w){var Ce=m.next(j);for(Ce.write_shift(1,0),N=0;N<v.length;++N)if(v[N]!=null)switch(z[N]){case"L":Ce.write_shift(1,_[w][N]==null?63:_[w][N]?84:70);break;case"B":Ce.write_shift(8,_[w][N]||0,"f");break;case"N":var Ue="0";for(typeof _[w][N]=="number"&&(Ue=_[w][N].toFixed(re[N]||0)),M=0;M<ne[N]-Ue.length;++M)Ce.write_shift(1,32);Ce.write_shift(1,Ue,"sbcs");break;case"D":_[w][N]?(Ce.write_shift(4,("0000"+_[w][N].getFullYear()).slice(-4),"sbcs"),Ce.write_shift(2,("00"+(_[w][N].getMonth()+1)).slice(-2),"sbcs"),Ce.write_shift(2,("00"+_[w][N].getDate()).slice(-2),"sbcs")):Ce.write_shift(8,"00000000","sbcs");break;case"C":var Re=String(_[w][N]!=null?_[w][N]:"").slice(0,ne[N]);for(Ce.write_shift(1,Re,"sbcs"),M=0;M<ne[N]-Re.length;++M)Ce.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:s,to_sheet:r,from_sheet:o}}(),Pz=function(){var t={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+or(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(v,_){var A=t[_];return typeof A=="number"?cT(A):A},r=function(v,_,A){var w=_.charCodeAt(0)-32<<4|A.charCodeAt(0)-48;return w==59?v:cT(w)};t["|"]=254;function s(v,_){switch(_.type){case"base64":return i(ha(v),_);case"binary":return i(v,_);case"buffer":return i(kt&&Buffer.isBuffer(v)?v.toString("binary"):rd(v),_);case"array":return i(Em(v),_)}throw new Error("Unrecognized type "+_.type)}function i(v,_){var A=v.split(/[\n\r]+/),w=-1,N=-1,M=0,j=0,O=[],z=[],ne=null,re={},P=[],T=[],b=[],R=0,I;for(+_.codepage>=0&&kh(+_.codepage);M!==A.length;++M){R=0;var L=A[M].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),k=L.replace(/;;/g,"\0").split(";").map(function(J){return J.replace(/\u0000/g,";")}),Ae=k[0],Ce;if(L.length>0)switch(Ae){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":k[1].charAt(0)=="P"&&z.push(L.slice(3).replace(/;;/g,";"));break;case"C":var Ue=!1,Re=!1,ae=!1,_e=!1,Ee=-1,W=-1;for(j=1;j<k.length;++j)switch(k[j].charAt(0)){case"A":break;case"X":N=parseInt(k[j].slice(1))-1,Re=!0;break;case"Y":for(w=parseInt(k[j].slice(1))-1,Re||(N=0),I=O.length;I<=w;++I)O[I]=[];break;case"K":Ce=k[j].slice(1),Ce.charAt(0)==='"'?Ce=Ce.slice(1,Ce.length-1):Ce==="TRUE"?Ce=!0:Ce==="FALSE"?Ce=!1:isNaN(ta(Ce))?isNaN(Dh(Ce).getDate())||(Ce=Ir(Ce)):(Ce=ta(Ce),ne!==null&&G4(ne)&&(Ce=Y4(Ce))),Ue=!0;break;case"E":_e=!0;var V=CH(k[j].slice(1),{r:w,c:N});O[w][N]=[O[w][N],V];break;case"S":ae=!0,O[w][N]=[O[w][N],"S5S"];break;case"G":break;case"R":Ee=parseInt(k[j].slice(1))-1;break;case"C":W=parseInt(k[j].slice(1))-1;break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+L)}if(Ue&&(O[w][N]&&O[w][N].length==2?O[w][N][0]=Ce:O[w][N]=Ce,ne=null),ae){if(_e)throw new Error("SYLK shared formula cannot have own formula");var Y=Ee>-1&&O[Ee][W];if(!Y||!Y[1])throw new Error("SYLK shared formula cannot find base");O[w][N][1]=IH(Y[1],{r:w-Ee,c:N-W})}break;case"F":var X=0;for(j=1;j<k.length;++j)switch(k[j].charAt(0)){case"X":N=parseInt(k[j].slice(1))-1,++X;break;case"Y":for(w=parseInt(k[j].slice(1))-1,I=O.length;I<=w;++I)O[I]=[];break;case"M":R=parseInt(k[j].slice(1))/20;break;case"F":break;case"G":break;case"P":ne=z[parseInt(k[j].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(b=k[j].slice(1).split(" "),I=parseInt(b[0],10);I<=parseInt(b[1],10);++I)R=parseInt(b[2],10),T[I-1]=R===0?{hidden:!0}:{wch:R},Wv(T[I-1]);break;case"C":N=parseInt(k[j].slice(1))-1,T[N]||(T[N]={});break;case"R":w=parseInt(k[j].slice(1))-1,P[w]||(P[w]={}),R>0?(P[w].hpt=R,P[w].hpx=MC(R)):R===0&&(P[w].hidden=!0);break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+L)}X<1&&(ne=null);break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+L)}}return P.length>0&&(re["!rows"]=P),T.length>0&&(re["!cols"]=T),_&&_.sheetRows&&(O=O.slice(0,_.sheetRows)),[O,re]}function o(v,_){var A=s(v,_),w=A[0],N=A[1],M=Zc(w,_);return or(N).forEach(function(j){M[j]=N[j]}),M}function u(v,_){return xl(o(v,_),_)}function h(v,_,A,w){var N="C;Y"+(A+1)+";X"+(w+1)+";K";switch(v.t){case"n":N+=v.v||0,v.f&&!v.F&&(N+=";E"+Kv(v.f,{r:A,c:w}));break;case"b":N+=v.v?"TRUE":"FALSE";break;case"e":N+=v.w||v.v;break;case"d":N+='"'+(v.w||v.v)+'"';break;case"s":N+='"'+v.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return N}function f(v,_){_.forEach(function(A,w){var N="F;W"+(w+1)+" "+(w+1)+" ";A.hidden?N+="0":(typeof A.width=="number"&&!A.wpx&&(A.wpx=O0(A.width)),typeof A.wpx=="number"&&!A.wch&&(A.wch=F0(A.wpx)),typeof A.wch=="number"&&(N+=Math.round(A.wch))),N.charAt(N.length-1)!=" "&&v.push(N)})}function m(v,_){_.forEach(function(A,w){var N="F;";A.hidden?N+="M0;":A.hpt?N+="M"+20*A.hpt+";":A.hpx&&(N+="M"+20*M0(A.hpx)+";"),N.length>2&&v.push(N+"R"+(w+1))})}function x(v,_){var A=["ID;PWXL;N;E"],w=[],N=Zt(v["!ref"]),M,j=Array.isArray(v),O=`\r
`;A.push("P;PGeneral"),A.push("F;P0;DG0G8;M255"),v["!cols"]&&f(A,v["!cols"]),v["!rows"]&&m(A,v["!rows"]),A.push("B;Y"+(N.e.r-N.s.r+1)+";X"+(N.e.c-N.s.c+1)+";D"+[N.s.c,N.s.r,N.e.c,N.e.r].join(" "));for(var z=N.s.r;z<=N.e.r;++z)for(var ne=N.s.c;ne<=N.e.c;++ne){var re=Ut({r:z,c:ne});M=j?(v[z]||[])[ne]:v[re],!(!M||M.v==null&&(!M.f||M.F))&&w.push(h(M,v,z,ne))}return A.join(O)+O+w.join(O)+O+"E"+O}return{to_workbook:u,to_sheet:o,from_sheet:x}}(),kz=function(){function t(i,o){switch(o.type){case"base64":return e(ha(i),o);case"binary":return e(i,o);case"buffer":return e(kt&&Buffer.isBuffer(i)?i.toString("binary"):rd(i),o);case"array":return e(Em(i),o)}throw new Error("Unrecognized type "+o.type)}function e(i,o){for(var u=i.split(`
`),h=-1,f=-1,m=0,x=[];m!==u.length;++m){if(u[m].trim()==="BOT"){x[++h]=[],f=0;continue}if(!(h<0)){var v=u[m].trim().split(","),_=v[0],A=v[1];++m;for(var w=u[m]||"";(w.match(/["]/g)||[]).length&1&&m<u.length-1;)w+=`
`+u[++m];switch(w=w.trim(),+_){case-1:if(w==="BOT"){x[++h]=[],f=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?x[h][f]=!0:w==="FALSE"?x[h][f]=!1:isNaN(ta(A))?isNaN(Dh(A).getDate())?x[h][f]=A:x[h][f]=Ir(A):x[h][f]=ta(A),++f;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),x[h][f++]=w!==""?w:null;break}if(w==="EOD")break}}return o&&o.sheetRows&&(x=x.slice(0,o.sheetRows)),x}function n(i,o){return Zc(t(i,o),o)}function r(i,o){return xl(n(i,o),o)}var s=function(){var i=function(h,f,m,x,v){h.push(f),h.push(m+","+x),h.push('"'+v.replace(/"/g,'""')+'"')},o=function(h,f,m,x){h.push(f+","+m),h.push(f==1?'"'+x.replace(/"/g,'""')+'"':x)};return function(h){var f=[],m=Zt(h["!ref"]),x,v=Array.isArray(h);i(f,"TABLE",0,1,"sheetjs"),i(f,"VECTORS",0,m.e.r-m.s.r+1,""),i(f,"TUPLES",0,m.e.c-m.s.c+1,""),i(f,"DATA",0,0,"");for(var _=m.s.r;_<=m.e.r;++_){o(f,-1,0,"BOT");for(var A=m.s.c;A<=m.e.c;++A){var w=Ut({r:_,c:A});if(x=v?(h[_]||[])[A]:h[w],!x){o(f,1,0,"");continue}switch(x.t){case"n":var N=x.w;!N&&x.v!=null&&(N=x.v),N==null?x.f&&!x.F?o(f,1,0,"="+x.f):o(f,1,0,""):o(f,0,N,"V");break;case"b":o(f,0,x.v?1:0,x.v?"TRUE":"FALSE");break;case"s":o(f,1,0,isNaN(x.v)?x.v:'="'+x.v+'"');break;case"d":x.w||(x.w=ho(x.z||pn[14],Hr(Ir(x.v)))),o(f,0,x.w,"V");break;default:o(f,1,0,"")}}}o(f,-1,0,"EOD");var M=`\r
`,j=f.join(M);return j}}();return{to_workbook:r,to_sheet:n,from_sheet:s}}(),DC=function(){function t(x){return x.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(x){return x.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(x,v){for(var _=x.split(`
`),A=-1,w=-1,N=0,M=[];N!==_.length;++N){var j=_[N].trim().split(":");if(j[0]==="cell"){var O=$n(j[1]);if(M.length<=O.r)for(A=M.length;A<=O.r;++A)M[A]||(M[A]=[]);switch(A=O.r,w=O.c,j[2]){case"t":M[A][w]=t(j[3]);break;case"v":M[A][w]=+j[3];break;case"vtf":var z=j[j.length-1];case"vtc":switch(j[3]){case"nl":M[A][w]=!!+j[4];break;default:M[A][w]=+j[4];break}j[2]=="vtf"&&(M[A][w]=[M[A][w],z])}}}return v&&v.sheetRows&&(M=M.slice(0,v.sheetRows)),M}function r(x,v){return Zc(n(x,v),v)}function s(x,v){return xl(r(x,v),v)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),h="--SocialCalcSpreadsheetControlSave--";function f(x){if(!x||!x["!ref"])return"";for(var v=[],_=[],A,w="",N=is(x["!ref"]),M=Array.isArray(x),j=N.s.r;j<=N.e.r;++j)for(var O=N.s.c;O<=N.e.c;++O)if(w=Ut({r:j,c:O}),A=M?(x[j]||[])[O]:x[w],!(!A||A.v==null||A.t==="z")){switch(_=["cell",w,"t"],A.t){case"s":case"str":_.push(e(A.v));break;case"n":A.f?(_[2]="vtf",_[3]="n",_[4]=A.v,_[5]=e(A.f)):(_[2]="v",_[3]=A.v);break;case"b":_[2]="vt"+(A.f?"f":"c"),_[3]="nl",_[4]=A.v?"1":"0",_[5]=e(A.f||(A.v?"TRUE":"FALSE"));break;case"d":var z=Hr(Ir(A.v));_[2]="vtc",_[3]="nd",_[4]=""+z,_[5]=A.w||ho(A.z||pn[14],z);break;case"e":continue}v.push(_.join(":"))}return v.push("sheet:c:"+(N.e.c-N.s.c+1)+":r:"+(N.e.r-N.s.r+1)+":tvf:1"),v.push("valueformat:1:text-wiki"),v.join(`
`)}function m(x){return[i,o,u,o,f(x),h].join(`
`)}return{to_workbook:s,to_sheet:r,from_sheet:m}}(),Rz=function(){function t(m,x,v,_,A){A.raw?x[v][_]=m:m===""||(m==="TRUE"?x[v][_]=!0:m==="FALSE"?x[v][_]=!1:isNaN(ta(m))?isNaN(Dh(m).getDate())?x[v][_]=m:x[v][_]=Ir(m):x[v][_]=ta(m))}function e(m,x){var v=x||{},_=[];if(!m||m.length===0)return _;for(var A=m.split(/[\r\n]/),w=A.length-1;w>=0&&A[w].length===0;)--w;for(var N=10,M=0,j=0;j<=w;++j)M=A[j].indexOf(" "),M==-1?M=A[j].length:M++,N=Math.max(N,M);for(j=0;j<=w;++j){_[j]=[];var O=0;for(t(A[j].slice(0,N).trim(),_,j,O,v),O=1;O<=(A[j].length-N)/10+1;++O)t(A[j].slice(N+(O-1)*10,N+O*10).trim(),_,j,O,v)}return v.sheetRows&&(_=_.slice(0,v.sheetRows)),_}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function s(m){for(var x={},v=!1,_=0,A=0;_<m.length;++_)(A=m.charCodeAt(_))==34?v=!v:!v&&A in n&&(x[A]=(x[A]||0)+1);A=[];for(_ in x)Object.prototype.hasOwnProperty.call(x,_)&&A.push([x[_],_]);if(!A.length){x=r;for(_ in x)Object.prototype.hasOwnProperty.call(x,_)&&A.push([x[_],_])}return A.sort(function(w,N){return w[0]-N[0]||r[w[1]]-r[N[1]]}),n[A.pop()[1]]||44}function i(m,x){var v=x||{},_="",A=v.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(_=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(_=m.charAt(4),m=m.slice(6)):_=s(m.slice(0,1024)):v&&v.FS?_=v.FS:_=s(m.slice(0,1024));var N=0,M=0,j=0,O=0,z=0,ne=_.charCodeAt(0),re=!1,P=0,T=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var b=v.dateNF!=null?q7(v.dateNF):null;function R(){var I=m.slice(O,z),L={};if(I.charAt(0)=='"'&&I.charAt(I.length-1)=='"'&&(I=I.slice(1,-1).replace(/""/g,'"')),I.length===0)L.t="z";else if(v.raw)L.t="s",L.v=I;else if(I.trim().length===0)L.t="s",L.v=I;else if(I.charCodeAt(0)==61)I.charCodeAt(1)==34&&I.charCodeAt(I.length-1)==34?(L.t="s",L.v=I.slice(2,-1).replace(/""/g,'"')):PH(I)?(L.t="n",L.f=I.slice(1)):(L.t="s",L.v=I);else if(I=="TRUE")L.t="b",L.v=!0;else if(I=="FALSE")L.t="b",L.v=!1;else if(!isNaN(j=ta(I)))L.t="n",v.cellText!==!1&&(L.w=I),L.v=j;else if(!isNaN(Dh(I).getDate())||b&&I.match(b)){L.z=v.dateNF||pn[14];var k=0;b&&I.match(b)&&(I=X7(I,v.dateNF,I.match(b)||[]),k=1),v.cellDates?(L.t="d",L.v=Ir(I,k)):(L.t="n",L.v=Hr(Ir(I,k))),v.cellText!==!1&&(L.w=ho(L.z,L.v instanceof Date?Hr(L.v):L.v)),v.cellNF||delete L.z}else L.t="s",L.v=I;if(L.t=="z"||(v.dense?(A[N]||(A[N]=[]),A[N][M]=L):A[Ut({c:M,r:N})]=L),O=z+1,T=m.charCodeAt(O),w.e.c<M&&(w.e.c=M),w.e.r<N&&(w.e.r=N),P==ne)++M;else if(M=0,++N,v.sheetRows&&v.sheetRows<=N)return!0}e:for(;z<m.length;++z)switch(P=m.charCodeAt(z)){case 34:T===34&&(re=!re);break;case ne:case 10:case 13:if(!re&&R())break e;break}return z-O>0&&R(),A["!ref"]=Cn(w),A}function o(m,x){return!(x&&x.PRN)||x.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?i(m,x):Zc(e(m,x),x)}function u(m,x){var v="",_=x.type=="string"?[0,0,0,0]:$K(m,x);switch(x.type){case"base64":v=ha(m);break;case"binary":v=m;break;case"buffer":x.codepage==65001?v=m.toString("utf8"):x.codepage&&typeof N0<"u"||(v=kt&&Buffer.isBuffer(m)?m.toString("binary"):rd(m));break;case"array":v=Em(m);break;case"string":v=m;break;default:throw new Error("Unrecognized type "+x.type)}return _[0]==239&&_[1]==187&&_[2]==191?v=ah(v.slice(3)):x.type!="string"&&x.type!="buffer"&&x.codepage==65001?v=ah(v):x.type=="binary"&&typeof N0<"u",v.slice(0,19)=="socialcalc:version:"?DC.to_sheet(x.type=="string"?v:ah(v),x):o(v,x)}function h(m,x){return xl(u(m,x),x)}function f(m){for(var x=[],v=Zt(m["!ref"]),_,A=Array.isArray(m),w=v.s.r;w<=v.e.r;++w){for(var N=[],M=v.s.c;M<=v.e.c;++M){var j=Ut({r:w,c:M});if(_=A?(m[w]||[])[M]:m[j],!_||_.v==null){N.push("          ");continue}for(var O=(_.w||(da(_),_.w)||"").slice(0,10);O.length<10;)O+=" ";N.push(O+(M===0?" ":""))}x.push(N.join(""))}return x.join(`
`)}return{to_workbook:h,to_sheet:u,from_sheet:f}}(),UT=function(){function t(V,Y,X){if(V){Zr(V,V.l||0);for(var J=X.Enum||Ee;V.l<V.length;){var fe=V.read_shift(2),Ie=J[fe]||J[65535],Z=V.read_shift(2),ge=V.l+Z,pe=Ie.f&&Ie.f(V,Z,X);if(V.l=ge,Y(pe,Ie,fe))return}}}function e(V,Y){switch(Y.type){case"base64":return n(Ws(ha(V)),Y);case"binary":return n(Ws(V),Y);case"buffer":case"array":return n(V,Y)}throw"Unsupported type "+Y.type}function n(V,Y){if(!V)return V;var X=Y||{},J=X.dense?[]:{},fe="Sheet1",Ie="",Z=0,ge={},pe=[],Se=[],Qe={s:{r:0,c:0},e:{r:0,c:0}},xt=X.sheetRows||0;if(V[2]==0&&(V[3]==8||V[3]==9)&&V.length>=16&&V[14]==5&&V[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(V[2]==2)X.Enum=Ee,t(V,function(te,Le,Ke){switch(Ke){case 0:X.vers=te,te>=4096&&(X.qpro=!0);break;case 6:Qe=te;break;case 204:te&&(Ie=te);break;case 222:Ie=te;break;case 15:case 51:X.qpro||(te[1].v=te[1].v.slice(1));case 13:case 14:case 16:Ke==14&&(te[2]&112)==112&&(te[2]&15)>1&&(te[2]&15)<15&&(te[1].z=X.dateNF||pn[14],X.cellDates&&(te[1].t="d",te[1].v=Y4(te[1].v))),X.qpro&&te[3]>Z&&(J["!ref"]=Cn(Qe),ge[fe]=J,pe.push(fe),J=X.dense?[]:{},Qe={s:{r:0,c:0},e:{r:0,c:0}},Z=te[3],fe=Ie||"Sheet"+(Z+1),Ie="");var nt=X.dense?(J[te[0].r]||[])[te[0].c]:J[Ut(te[0])];if(nt){nt.t=te[1].t,nt.v=te[1].v,te[1].z!=null&&(nt.z=te[1].z),te[1].f!=null&&(nt.f=te[1].f);break}X.dense?(J[te[0].r]||(J[te[0].r]=[]),J[te[0].r][te[0].c]=te[1]):J[Ut(te[0])]=te[1];break}},X);else if(V[2]==26||V[2]==14)X.Enum=W,V[2]==14&&(X.qpro=!0,V.l=0),t(V,function(te,Le,Ke){switch(Ke){case 204:fe=te;break;case 22:te[1].v=te[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(te[3]>Z&&(J["!ref"]=Cn(Qe),ge[fe]=J,pe.push(fe),J=X.dense?[]:{},Qe={s:{r:0,c:0},e:{r:0,c:0}},Z=te[3],fe="Sheet"+(Z+1)),xt>0&&te[0].r>=xt)break;X.dense?(J[te[0].r]||(J[te[0].r]=[]),J[te[0].r][te[0].c]=te[1]):J[Ut(te[0])]=te[1],Qe.e.c<te[0].c&&(Qe.e.c=te[0].c),Qe.e.r<te[0].r&&(Qe.e.r=te[0].r);break;case 27:te[14e3]&&(Se[te[14e3][0]]=te[14e3][1]);break;case 1537:Se[te[0]]=te[1],te[0]==Z&&(fe=te[1]);break}},X);else throw new Error("Unrecognized LOTUS BOF "+V[2]);if(J["!ref"]=Cn(Qe),ge[Ie||fe]=J,pe.push(Ie||fe),!Se.length)return{SheetNames:pe,Sheets:ge};for(var lt={},Kt=[],dt=0;dt<Se.length;++dt)ge[pe[dt]]?(Kt.push(Se[dt]||pe[dt]),lt[Se[dt]]=ge[Se[dt]]||ge[pe[dt]]):(Kt.push(Se[dt]),lt[Se[dt]]={"!ref":"A1"});return{SheetNames:Kt,Sheets:lt}}function r(V,Y){var X=Y||{};if(+X.codepage>=0&&kh(+X.codepage),X.type=="string")throw new Error("Cannot write WK1 to JS string");var J=zr(),fe=Zt(V["!ref"]),Ie=Array.isArray(V),Z=[];He(J,0,i(1030)),He(J,6,h(fe));for(var ge=Math.min(fe.e.r,8191),pe=fe.s.r;pe<=ge;++pe)for(var Se=ir(pe),Qe=fe.s.c;Qe<=fe.e.c;++Qe){pe===fe.s.r&&(Z[Qe]=xr(Qe));var xt=Z[Qe]+Se,lt=Ie?(V[pe]||[])[Qe]:V[xt];if(!(!lt||lt.t=="z"))if(lt.t=="n")(lt.v|0)==lt.v&&lt.v>=-32768&&lt.v<=32767?He(J,13,_(pe,Qe,lt.v)):He(J,14,w(pe,Qe,lt.v));else{var Kt=da(lt);He(J,15,x(pe,Qe,Kt.slice(0,239)))}}return He(J,1),J.end()}function s(V,Y){var X=Y||{};if(+X.codepage>=0&&kh(+X.codepage),X.type=="string")throw new Error("Cannot write WK3 to JS string");var J=zr();He(J,0,o(V));for(var fe=0,Ie=0;fe<V.SheetNames.length;++fe)(V.Sheets[V.SheetNames[fe]]||{})["!ref"]&&He(J,27,_e(V.SheetNames[fe],Ie++));var Z=0;for(fe=0;fe<V.SheetNames.length;++fe){var ge=V.Sheets[V.SheetNames[fe]];if(!(!ge||!ge["!ref"])){for(var pe=Zt(ge["!ref"]),Se=Array.isArray(ge),Qe=[],xt=Math.min(pe.e.r,8191),lt=pe.s.r;lt<=xt;++lt)for(var Kt=ir(lt),dt=pe.s.c;dt<=pe.e.c;++dt){lt===pe.s.r&&(Qe[dt]=xr(dt));var te=Qe[dt]+Kt,Le=Se?(ge[lt]||[])[dt]:ge[te];if(!(!Le||Le.t=="z"))if(Le.t=="n")He(J,23,R(lt,dt,Z,Le.v));else{var Ke=da(Le);He(J,22,P(lt,dt,Z,Ke.slice(0,239)))}}++Z}}return He(J,1),J.end()}function i(V){var Y=we(2);return Y.write_shift(2,V),Y}function o(V){var Y=we(26);Y.write_shift(2,4096),Y.write_shift(2,4),Y.write_shift(4,0);for(var X=0,J=0,fe=0,Ie=0;Ie<V.SheetNames.length;++Ie){var Z=V.SheetNames[Ie],ge=V.Sheets[Z];if(!(!ge||!ge["!ref"])){++fe;var pe=is(ge["!ref"]);X<pe.e.r&&(X=pe.e.r),J<pe.e.c&&(J=pe.e.c)}}return X>8191&&(X=8191),Y.write_shift(2,X),Y.write_shift(1,fe),Y.write_shift(1,J),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(1,1),Y.write_shift(1,2),Y.write_shift(4,0),Y.write_shift(4,0),Y}function u(V,Y,X){var J={s:{c:0,r:0},e:{c:0,r:0}};return Y==8&&X.qpro?(J.s.c=V.read_shift(1),V.l++,J.s.r=V.read_shift(2),J.e.c=V.read_shift(1),V.l++,J.e.r=V.read_shift(2),J):(J.s.c=V.read_shift(2),J.s.r=V.read_shift(2),Y==12&&X.qpro&&(V.l+=2),J.e.c=V.read_shift(2),J.e.r=V.read_shift(2),Y==12&&X.qpro&&(V.l+=2),J.s.c==65535&&(J.s.c=J.e.c=J.s.r=J.e.r=0),J)}function h(V){var Y=we(8);return Y.write_shift(2,V.s.c),Y.write_shift(2,V.s.r),Y.write_shift(2,V.e.c),Y.write_shift(2,V.e.r),Y}function f(V,Y,X){var J=[{c:0,r:0},{t:"n",v:0},0,0];return X.qpro&&X.vers!=20768?(J[0].c=V.read_shift(1),J[3]=V.read_shift(1),J[0].r=V.read_shift(2),V.l+=2):(J[2]=V.read_shift(1),J[0].c=V.read_shift(2),J[0].r=V.read_shift(2)),J}function m(V,Y,X){var J=V.l+Y,fe=f(V,Y,X);if(fe[1].t="s",X.vers==20768){V.l++;var Ie=V.read_shift(1);return fe[1].v=V.read_shift(Ie,"utf8"),fe}return X.qpro&&V.l++,fe[1].v=V.read_shift(J-V.l,"cstr"),fe}function x(V,Y,X){var J=we(7+X.length);J.write_shift(1,255),J.write_shift(2,Y),J.write_shift(2,V),J.write_shift(1,39);for(var fe=0;fe<J.length;++fe){var Ie=X.charCodeAt(fe);J.write_shift(1,Ie>=128?95:Ie)}return J.write_shift(1,0),J}function v(V,Y,X){var J=f(V,Y,X);return J[1].v=V.read_shift(2,"i"),J}function _(V,Y,X){var J=we(7);return J.write_shift(1,255),J.write_shift(2,Y),J.write_shift(2,V),J.write_shift(2,X,"i"),J}function A(V,Y,X){var J=f(V,Y,X);return J[1].v=V.read_shift(8,"f"),J}function w(V,Y,X){var J=we(13);return J.write_shift(1,255),J.write_shift(2,Y),J.write_shift(2,V),J.write_shift(8,X,"f"),J}function N(V,Y,X){var J=V.l+Y,fe=f(V,Y,X);if(fe[1].v=V.read_shift(8,"f"),X.qpro)V.l=J;else{var Ie=V.read_shift(2);z(V.slice(V.l,V.l+Ie),fe),V.l+=Ie}return fe}function M(V,Y,X){var J=Y&32768;return Y&=-32769,Y=(J?V:0)+(Y>=8192?Y-16384:Y),(J?"":"$")+(X?xr(Y):ir(Y))}var j={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},O=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function z(V,Y){Zr(V,0);for(var X=[],J=0,fe="",Ie="",Z="",ge="";V.l<V.length;){var pe=V[V.l++];switch(pe){case 0:X.push(V.read_shift(8,"f"));break;case 1:Ie=M(Y[0].c,V.read_shift(2),!0),fe=M(Y[0].r,V.read_shift(2),!1),X.push(Ie+fe);break;case 2:{var Se=M(Y[0].c,V.read_shift(2),!0),Qe=M(Y[0].r,V.read_shift(2),!1);Ie=M(Y[0].c,V.read_shift(2),!0),fe=M(Y[0].r,V.read_shift(2),!1),X.push(Se+Qe+":"+Ie+fe)}break;case 3:if(V.l<V.length){console.error("WK1 premature formula end");return}break;case 4:X.push("("+X.pop()+")");break;case 5:X.push(V.read_shift(2));break;case 6:{for(var xt="";pe=V[V.l++];)xt+=String.fromCharCode(pe);X.push('"'+xt.replace(/"/g,'""')+'"')}break;case 8:X.push("-"+X.pop());break;case 23:X.push("+"+X.pop());break;case 22:X.push("NOT("+X.pop()+")");break;case 20:case 21:ge=X.pop(),Z=X.pop(),X.push(["AND","OR"][pe-20]+"("+Z+","+ge+")");break;default:if(pe<32&&O[pe])ge=X.pop(),Z=X.pop(),X.push(Z+O[pe]+ge);else if(j[pe]){if(J=j[pe][1],J==69&&(J=V[V.l++]),J>X.length){console.error("WK1 bad formula parse 0x"+pe.toString(16)+":|"+X.join("|")+"|");return}var lt=X.slice(-J);X.length-=J,X.push(j[pe][0]+"("+lt.join(",")+")")}else return pe<=7?console.error("WK1 invalid opcode "+pe.toString(16)):pe<=24?console.error("WK1 unsupported op "+pe.toString(16)):pe<=30?console.error("WK1 invalid opcode "+pe.toString(16)):pe<=115?console.error("WK1 unsupported function opcode "+pe.toString(16)):console.error("WK1 unrecognized opcode "+pe.toString(16))}}X.length==1?Y[1].f=""+X[0]:console.error("WK1 bad formula parse |"+X.join("|")+"|")}function ne(V){var Y=[{c:0,r:0},{t:"n",v:0},0];return Y[0].r=V.read_shift(2),Y[3]=V[V.l++],Y[0].c=V[V.l++],Y}function re(V,Y){var X=ne(V);return X[1].t="s",X[1].v=V.read_shift(Y-4,"cstr"),X}function P(V,Y,X,J){var fe=we(6+J.length);fe.write_shift(2,V),fe.write_shift(1,X),fe.write_shift(1,Y),fe.write_shift(1,39);for(var Ie=0;Ie<J.length;++Ie){var Z=J.charCodeAt(Ie);fe.write_shift(1,Z>=128?95:Z)}return fe.write_shift(1,0),fe}function T(V,Y){var X=ne(V);X[1].v=V.read_shift(2);var J=X[1].v>>1;if(X[1].v&1)switch(J&7){case 0:J=(J>>3)*5e3;break;case 1:J=(J>>3)*500;break;case 2:J=(J>>3)/20;break;case 3:J=(J>>3)/200;break;case 4:J=(J>>3)/2e3;break;case 5:J=(J>>3)/2e4;break;case 6:J=(J>>3)/16;break;case 7:J=(J>>3)/64;break}return X[1].v=J,X}function b(V,Y){var X=ne(V),J=V.read_shift(4),fe=V.read_shift(4),Ie=V.read_shift(2);if(Ie==65535)return J===0&&fe===3221225472?(X[1].t="e",X[1].v=15):J===0&&fe===3489660928?(X[1].t="e",X[1].v=42):X[1].v=0,X;var Z=Ie&32768;return Ie=(Ie&32767)-16446,X[1].v=(1-Z*2)*(fe*Math.pow(2,Ie+32)+J*Math.pow(2,Ie)),X}function R(V,Y,X,J){var fe=we(14);if(fe.write_shift(2,V),fe.write_shift(1,X),fe.write_shift(1,Y),J==0)return fe.write_shift(4,0),fe.write_shift(4,0),fe.write_shift(2,65535),fe;var Ie=0,Z=0,ge=0,pe=0;return J<0&&(Ie=1,J=-J),Z=Math.log2(J)|0,J/=Math.pow(2,Z-31),pe=J>>>0,(pe&2147483648)==0&&(J/=2,++Z,pe=J>>>0),J-=pe,pe|=2147483648,pe>>>=0,J*=Math.pow(2,32),ge=J>>>0,fe.write_shift(4,ge),fe.write_shift(4,pe),Z+=16383+(Ie?32768:0),fe.write_shift(2,Z),fe}function I(V,Y){var X=b(V);return V.l+=Y-14,X}function L(V,Y){var X=ne(V),J=V.read_shift(4);return X[1].v=J>>6,X}function k(V,Y){var X=ne(V),J=V.read_shift(8,"f");return X[1].v=J,X}function Ae(V,Y){var X=k(V);return V.l+=Y-10,X}function Ce(V,Y){return V[V.l+Y-1]==0?V.read_shift(Y,"cstr"):""}function Ue(V,Y){var X=V[V.l++];X>Y-1&&(X=Y-1);for(var J="";J.length<X;)J+=String.fromCharCode(V[V.l++]);return J}function Re(V,Y,X){if(!(!X.qpro||Y<21)){var J=V.read_shift(1);V.l+=17,V.l+=1,V.l+=2;var fe=V.read_shift(Y-21,"cstr");return[J,fe]}}function ae(V,Y){for(var X={},J=V.l+Y;V.l<J;){var fe=V.read_shift(2);if(fe==14e3){for(X[fe]=[0,""],X[fe][0]=V.read_shift(2);V[V.l];)X[fe][1]+=String.fromCharCode(V[V.l]),V.l++;V.l++}}return X}function _e(V,Y){var X=we(5+V.length);X.write_shift(2,14e3),X.write_shift(2,Y);for(var J=0;J<V.length;++J){var fe=V.charCodeAt(J);X[X.l++]=fe>127?95:fe}return X[X.l++]=0,X}var Ee={0:{n:"BOF",f:CC},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:v},14:{n:"NUMBER",f:A},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:N},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ce},222:{n:"SHEETNAMELP",f:Ue},65535:{n:""}},W={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:re},23:{n:"NUMBER17",f:b},24:{n:"NUMBER18",f:T},25:{n:"FORMULA19",f:I},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ae},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:L},38:{n:"??"},39:{n:"NUMBER27",f:k},40:{n:"FORMULA28",f:Ae},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ce},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Re},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:s,to_workbook:e}}(),Dz=/^\s|\s$|[\t\n\r]/;function jC(t,e){if(!e.bookSST)return"";var n=[In];n[n.length]=Be("sst",null,{xmlns:Jc[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var s=t[r],i="<si>";s.r?i+=s.r:(i+="<t",s.t||(s.t=""),s.t.match(Dz)&&(i+=' xml:space="preserve"'),i+=">"+Lt(s.t)+"</t>"),i+="</si>",n[n.length]=i}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function jz(t){return[t.read_shift(4),t.read_shift(4)]}function Oz(t,e){return e||(e=we(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var Fz=NB;function Mz(t){var e=zr();Ne(e,159,Oz(t));for(var n=0;n<t.length;++n)Ne(e,19,Fz(t[n]));return Ne(e,160),e.end()}function Lz(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function OC(t){var e=0,n,r=Lz(t),s=r.length+1,i,o,u,h,f;for(n=hl(s),n[0]=r.length,i=1;i!=s;++i)n[i]=r[i-1];for(i=s-1;i>=0;--i)o=n[i],u=(e&16384)===0?0:1,h=e<<1&32767,f=u|h,e=f^o;return e^52811}var Vz=function(){function t(s,i){switch(i.type){case"base64":return e(ha(s),i);case"binary":return e(s,i);case"buffer":return e(kt&&Buffer.isBuffer(s)?s.toString("binary"):rd(s),i);case"array":return e(Em(s),i)}throw new Error("Unrecognized type "+i.type)}function e(s,i){var o=i||{},u=o.dense?[]:{},h=s.match(/\\trowd.*?\\row\b/g);if(!h.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:h.length-1}};return h.forEach(function(m,x){Array.isArray(u)&&(u[x]=[]);for(var v=/\\\w+\b/g,_=0,A,w=-1;A=v.exec(m);){switch(A[0]){case"\\cell":var N=m.slice(_,v.lastIndex-A[0].length);if(N[0]==" "&&(N=N.slice(1)),++w,N.length){var M={v:N,t:"s"};Array.isArray(u)?u[x][w]=M:u[Ut({r:x,c:w})]=M}break}_=v.lastIndex}w>f.e.c&&(f.e.c=w)}),u["!ref"]=Cn(f),u}function n(s,i){return xl(t(s,i),i)}function r(s){for(var i=["{\\rtf1\\ansi"],o=Zt(s["!ref"]),u,h=Array.isArray(s),f=o.s.r;f<=o.e.r;++f){i.push("\\trowd\\trautofit1");for(var m=o.s.c;m<=o.e.c;++m)i.push("\\cellx"+(m+1));for(i.push("\\pard\\intbl"),m=o.s.c;m<=o.e.c;++m){var x=Ut({r:f,c:m});u=h?(s[f]||[])[m]:s[x],!(!u||u.v==null&&(!u.f||u.F))&&(i.push(" "+(u.w||(da(u),u.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}}();function BT(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}var Uz=6,na=Uz;function O0(t){return Math.floor((t+Math.round(128/na)/256)*na)}function F0(t){return Math.floor((t-5)/na*100+.5)/100}function Vx(t){return Math.round((t*na+5)/na*256)/256}function Wv(t){t.width?(t.wpx=O0(t.width),t.wch=F0(t.wpx),t.MDW=na):t.wpx?(t.wch=F0(t.wpx),t.width=Vx(t.wch),t.MDW=na):typeof t.wch=="number"&&(t.width=Vx(t.wch),t.wpx=O0(t.width),t.MDW=na),t.customWidth&&delete t.customWidth}var Bz=96,FC=Bz;function M0(t){return t*96/FC}function MC(t){return t*FC/96}function zz(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=Be("numFmt",null,{numFmtId:r,formatCode:Lt(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Be("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function Hz(t){var e=[];return e[e.length]=Be("cellXfs",null),t.forEach(function(n){e[e.length]=Be("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Be("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function LC(t,e){var n=[In,Be("styleSheet",null,{xmlns:Jc[0],"xmlns:vt":Hn.vt})],r;return t.SSF&&(r=zz(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=Hz(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function $z(t,e){var n=t.read_shift(2),r=vr(t);return[n,r]}function Wz(t,e,n){n||(n=we(6+4*e.length)),n.write_shift(2,t),Wn(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function Gz(t,e,n){var r={};r.sz=t.read_shift(2)/20;var s=DB(t);s.fItalic&&(r.italic=1),s.fCondense&&(r.condense=1),s.fExtend&&(r.extend=1),s.fShadow&&(r.shadow=1),s.fOutline&&(r.outline=1),s.fStrikeout&&(r.strike=1);var i=t.read_shift(2);switch(i===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(r.underline=o);var u=t.read_shift(1);u>0&&(r.family=u);var h=t.read_shift(1);switch(h>0&&(r.charset=h),t.l++,r.color=RB(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=vr(t),r}function Kz(t,e){e||(e=we(25+4*32)),e.write_shift(2,t.sz*20),jB(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),D0(t.color,e);var r=0;return r=2,e.write_shift(1,r),Wn(t.name,e),e.length>e.l?e.slice(0,e.l):e}var qz=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Mg,Xz=Ni;function zT(t,e){e||(e=we(4*3+8*7+16*1)),Mg||(Mg=Dv(qz));var n=Mg[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(D0({auto:1},e),D0({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function Yz(t,e){var n=t.l+e,r=t.read_shift(2),s=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:s}}function VC(t,e,n){n||(n=we(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function Lu(t,e){return e||(e=we(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var Qz=Ni;function Jz(t,e){return e||(e=we(51)),e.write_shift(1,0),Lu(null,e),Lu(null,e),Lu(null,e),Lu(null,e),Lu(null,e),e.length>e.l?e.slice(0,e.l):e}function Zz(t,e){return e||(e=we(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),R0(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function eH(t,e,n){var r=we(2052);return r.write_shift(4,t),R0(e,r),R0(n,r),r.length>r.l?r.slice(0,r.l):r}function tH(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&++n}),n!=0&&(Ne(t,615,Qs(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&Ne(t,44,Wz(s,e[s]))}),Ne(t,616))}}function nH(t){var e=1;Ne(t,611,Qs(e)),Ne(t,43,Kz({sz:12,color:{theme:1},name:"Calibri",family:2})),Ne(t,612)}function rH(t){var e=2;Ne(t,603,Qs(e)),Ne(t,45,zT({patternType:"none"})),Ne(t,45,zT({patternType:"gray125"})),Ne(t,604)}function sH(t){var e=1;Ne(t,613,Qs(e)),Ne(t,46,Jz()),Ne(t,614)}function iH(t){var e=1;Ne(t,626,Qs(e)),Ne(t,47,VC({numFmtId:0},65535)),Ne(t,627)}function aH(t,e){Ne(t,617,Qs(e.length)),e.forEach(function(n){Ne(t,47,VC(n,0))}),Ne(t,618)}function oH(t){var e=1;Ne(t,619,Qs(e)),Ne(t,48,Zz({xfId:0,name:"Normal"})),Ne(t,620)}function lH(t){var e=0;Ne(t,505,Qs(e)),Ne(t,506)}function cH(t){var e=0;Ne(t,508,eH(e,"TableStyleMedium9","PivotStyleMedium4")),Ne(t,509)}function uH(t,e){var n=zr();return Ne(n,278),tH(n,t.SSF),nH(n),rH(n),sH(n),iH(n),aH(n,e.cellXfs),oH(n),lH(n),cH(n),Ne(n,279),n.end()}function UC(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[In];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',n[n.length]='<a:font script="Hang" typeface="맑은 고딕"/>',n[n.length]='<a:font script="Hans" typeface="宋体"/>',n[n.length]='<a:font script="Hant" typeface="新細明體"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',n[n.length]='<a:font script="Hang" typeface="맑은 고딕"/>',n[n.length]='<a:font script="Hans" typeface="宋体"/>',n[n.length]='<a:font script="Hant" typeface="新細明體"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function hH(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:vr(t)}}function dH(t){var e=we(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Wn(t.name,e),e.slice(0,e.l)}function fH(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function mH(t){var e=we(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function pH(t,e){var n=we(8+2*e.length);return n.write_shift(4,t),Wn(e,n),n.slice(0,n.l)}function gH(t){return t.l+=4,t.read_shift(4)!=0}function xH(t,e){var n=we(8);return n.write_shift(4,t),n.write_shift(4,1),n}function vH(){var t=zr();return Ne(t,332),Ne(t,334,Qs(1)),Ne(t,335,dH({name:"XLDAPR",version:12e4,flags:3496657072})),Ne(t,336),Ne(t,339,pH(1,"XLDAPR")),Ne(t,52),Ne(t,35,Qs(514)),Ne(t,4096,Qs(0)),Ne(t,4097,ws(1)),Ne(t,36),Ne(t,53),Ne(t,340),Ne(t,337,xH(1)),Ne(t,51,mH([[1,0]])),Ne(t,338),Ne(t,333),t.end()}function BC(){var t=[In];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function yH(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=Ut(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var mc=1024;function zC(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),s=[Be("xml",null,{"xmlns:v":ts.v,"xmlns:o":ts.o,"xmlns:x":ts.x,"xmlns:mv":ts.mv}).replace(/\/>/,">"),Be("o:shapelayout",Be("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Be("v:shapetype",[Be("v:stroke",null,{joinstyle:"miter"}),Be("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];mc<t*1e3;)mc+=1e3;return e.forEach(function(i){var o=$n(i[0]),u={color2:"#BEFF82",type:"gradient"};u.type=="gradient"&&(u.angle="-180");var h=u.type=="gradient"?Be("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=Be("v:fill",h,u),m={on:"t",obscured:"t"};++mc,s=s.concat(["<v:shape"+Oh({id:"_x0000_s"+mc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,Be("v:shadow",null,m),Be("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",rr("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),rr("x:AutoFill","False"),rr("x:Row",String(o.r)),rr("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function HC(t){var e=[In,Be("comments",null,{xmlns:Jc[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(s){var i=Lt(s.a);n.indexOf(i)==-1&&(n.push(i),e.push("<author>"+i+"</author>")),s.T&&s.ID&&n.indexOf("tc="+s.ID)==-1&&(n.push("tc="+s.ID),e.push("<author>tc="+s.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var s=0,i=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?s=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(h){h.a&&(s=n.indexOf(Lt(h.a))),i.push(h.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+s+'"><text>'),i.length<=1)e.push(rr("t",Lt(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,u=1;u<i.length;++u)o+=`Reply:
    `+i[u]+`
`;e.push(rr("t",Lt(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function _H(t,e,n){var r=[In,Be("ThreadedComments",null,{xmlns:Hn.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(s){var i="";(s[1]||[]).forEach(function(o,u){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var h={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};u==0?i=h.id:h.parentId=i,o.ID=h.id,o.a&&(h.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),r.push(Be("threadedComment",rr("text",o.t||""),h))})}),r.push("</ThreadedComments>"),r.join("")}function wH(t){var e=[In,Be("personList",null,{xmlns:Hn.TCMNT,"xmlns:x":Jc[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(Be("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function EH(t){var e={};e.iauthor=t.read_shift(4);var n=wl(t);return e.rfx=n.s,e.ref=Ut(n.s),t.l+=16,e}function TH(t,e){return e==null&&(e=we(36)),e.write_shift(4,t[1].iauthor),eu(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var SH=vr;function bH(t){return Wn(t.slice(0,54))}function NH(t){var e=zr(),n=[];return Ne(e,628),Ne(e,630),t.forEach(function(r){r[1].forEach(function(s){n.indexOf(s.a)>-1||(n.push(s.a.slice(0,54)),Ne(e,632,bH(s.a)))})}),Ne(e,631),Ne(e,633),t.forEach(function(r){r[1].forEach(function(s){s.iauthor=n.indexOf(s.a);var i={s:$n(r[0]),e:$n(r[0])};Ne(e,635,TH([i,s])),s.t&&s.t.length>0&&Ne(e,637,CB(s)),Ne(e,636),delete s.iauthor})}),Ne(e,634),Ne(e,629),e.end()}function AH(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var s=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&Bt.utils.cfb_add(t,s,e.FileIndex[r].content)}})}var $C=["xlsb","xlsm","xlam","biff8","xla"],CH=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,s,i,o){var u=!1,h=!1;i.length==0?h=!0:i.charAt(0)=="["&&(h=!0,i=i.slice(1,-1)),o.length==0?u=!0:o.charAt(0)=="["&&(u=!0,o=o.slice(1,-1));var f=i.length>0?parseInt(i,10)|0:0,m=o.length>0?parseInt(o,10)|0:0;return u?m+=e.c:--m,h?f+=e.r:--f,s+(u?"":"$")+xr(m)+(h?"":"$")+ir(f)}return function(s,i){return e=i,s.replace(t,n)}}(),Gv=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Kv=function(){return function(e,n){return e.replace(Gv,function(r,s,i,o,u,h){var f=Uv(o)-(i?0:n.c),m=Vv(h)-(u?0:n.r),x=m==0?"":u?m+1:"["+m+"]",v=f==0?"":i?f+1:"["+f+"]";return s+"R"+x+"C"+v})}}();function IH(t,e){return t.replace(Gv,function(n,r,s,i,o,u){return r+(s=="$"?s+i:xr(Uv(i)+e.c))+(o=="$"?o+u:ir(Vv(u)+e.r))})}function PH(t){return t.length!=1}function Sn(t){t.l+=1}function fo(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function WC(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return GC(t);n.biff==12&&(r=4)}var s=t.read_shift(r),i=t.read_shift(r),o=fo(t),u=fo(t);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:u[0],cRel:u[1],rRel:u[2]}}}function GC(t){var e=fo(t),n=fo(t),r=t.read_shift(1),s=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:s,cRel:n[1],rRel:n[2]}}}function kH(t,e,n){if(n.biff<8)return GC(t);var r=t.read_shift(n.biff==12?4:2),s=t.read_shift(n.biff==12?4:2),i=fo(t),o=fo(t);return{s:{r,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function KC(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return RH(t);var r=t.read_shift(n&&n.biff==12?4:2),s=fo(t);return{r,c:s[0],cRel:s[1],rRel:s[2]}}function RH(t){var e=fo(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function DH(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function jH(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return OH(t);var s=t.read_shift(r>=12?4:2),i=t.read_shift(2),o=(i&16384)>>14,u=(i&32768)>>15;if(i&=16383,u==1)for(;s>524287;)s-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:o,rRel:u}}function OH(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),s==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:s,rRel:r}}function FH(t,e,n){var r=(t[t.l++]&96)>>5,s=WC(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,s]}function MH(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2,"i"),i=8;if(n)switch(n.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}var o=WC(t,i,n);return[r,s,o]}function LH(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function VH(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2),i=8;if(n)switch(n.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}return t.l+=i,[r,s]}function UH(t,e,n){var r=(t[t.l++]&96)>>5,s=kH(t,e-1,n);return[r,s]}function BH(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function HT(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function zH(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),s=[],i=0;i<=r;++i)s.push(t.read_shift(n&&n.biff==2?1:2));return s}function HH(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function $H(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function WH(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function GH(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function qC(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function KH(t){return t.read_shift(2),qC(t)}function qH(t){return t.read_shift(2),qC(t)}function XH(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=KC(t,0,n);return[r,s]}function YH(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=jH(t,0,n);return[r,s]}function QH(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var i=KC(t,0,n);return[r,s,i]}function JH(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(n&&n.biff<=3?1:2);return[J$[s],QC[s],r]}function ZH(t,e,n){var r=t[t.l++],s=t.read_shift(1),i=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:e$(t);return[s,(i[0]===0?QC:Q$)[i[1]]]}function e$(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function t$(t,e,n){t.l+=n&&n.biff==2?3:4}function n$(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function r$(t){return t.l++,ad[t.read_shift(1)]}function s$(t){return t.l++,t.read_shift(2)}function i$(t){return t.l++,t.read_shift(1)!==0}function a$(t){return t.l++,tu(t)}function o$(t,e,n){return t.l++,PC(t,e-1,n)}function l$(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=QB(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=ad[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=tu(t);break;case 2:n[1]=tz(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function c$(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),s=[],i=0;i!=r;++i)s.push((n.biff==12?wl:sz)(t));return s}function u$(t,e,n){var r=0,s=0;n.biff==12?(r=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--s==0&&(s=256));for(var i=0,o=[];i!=r&&(o[i]=[]);++i)for(var u=0;u!=s;++u)o[i][u]=l$(t,n.biff);return o}function h$(t,e,n){var r=t.read_shift(1)>>>5&3,s=!n||n.biff>=8?4:2,i=t.read_shift(s);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,i]}function d$(t,e,n){if(n.biff==5)return f$(t);var r=t.read_shift(1)>>>5&3,s=t.read_shift(2),i=t.read_shift(4);return[r,s,i]}function f$(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function m$(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function p$(t,e,n){var r=t.read_shift(1)>>>5&3,s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function g$(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function x$(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2),i=4;if(n)switch(n.biff){case 5:i=15;break;case 12:i=6;break}return t.l+=i,[r,s]}var v$=Ni,y$=Ni,_$=Ni;function od(t,e,n){return t.l+=2,[DH(t)]}function qv(t){return t.l+=6,[]}var w$=od,E$=qv,T$=qv,S$=od;function XC(t){return t.l+=2,[CC(t),t.read_shift(2)&1]}var b$=od,N$=XC,A$=qv,C$=od,I$=od,P$=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function k$(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),s=t.read_shift(2),i=t.read_shift(2),o=P$[n>>2&31];return{ixti:e,coltype:n&3,rt:o,idx:r,c:s,C:i}}function R$(t){return t.l+=2,[t.read_shift(4)]}function D$(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function j$(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function O$(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function F$(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function M$(t){return t.l+=4,[0,0]}var $T={1:{n:"PtgExp",f:n$},2:{n:"PtgTbl",f:_$},3:{n:"PtgAdd",f:Sn},4:{n:"PtgSub",f:Sn},5:{n:"PtgMul",f:Sn},6:{n:"PtgDiv",f:Sn},7:{n:"PtgPower",f:Sn},8:{n:"PtgConcat",f:Sn},9:{n:"PtgLt",f:Sn},10:{n:"PtgLe",f:Sn},11:{n:"PtgEq",f:Sn},12:{n:"PtgGe",f:Sn},13:{n:"PtgGt",f:Sn},14:{n:"PtgNe",f:Sn},15:{n:"PtgIsect",f:Sn},16:{n:"PtgUnion",f:Sn},17:{n:"PtgRange",f:Sn},18:{n:"PtgUplus",f:Sn},19:{n:"PtgUminus",f:Sn},20:{n:"PtgPercent",f:Sn},21:{n:"PtgParen",f:Sn},22:{n:"PtgMissArg",f:Sn},23:{n:"PtgStr",f:o$},26:{n:"PtgSheet",f:D$},27:{n:"PtgEndSheet",f:j$},28:{n:"PtgErr",f:r$},29:{n:"PtgBool",f:i$},30:{n:"PtgInt",f:s$},31:{n:"PtgNum",f:a$},32:{n:"PtgArray",f:BH},33:{n:"PtgFunc",f:JH},34:{n:"PtgFuncVar",f:ZH},35:{n:"PtgName",f:h$},36:{n:"PtgRef",f:XH},37:{n:"PtgArea",f:FH},38:{n:"PtgMemArea",f:m$},39:{n:"PtgMemErr",f:v$},40:{n:"PtgMemNoMem",f:y$},41:{n:"PtgMemFunc",f:p$},42:{n:"PtgRefErr",f:g$},43:{n:"PtgAreaErr",f:LH},44:{n:"PtgRefN",f:YH},45:{n:"PtgAreaN",f:UH},46:{n:"PtgMemAreaN",f:O$},47:{n:"PtgMemNoMemN",f:F$},57:{n:"PtgNameX",f:d$},58:{n:"PtgRef3d",f:QH},59:{n:"PtgArea3d",f:MH},60:{n:"PtgRefErr3d",f:x$},61:{n:"PtgAreaErr3d",f:VH},255:{}},L$={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},V$={1:{n:"PtgElfLel",f:XC},2:{n:"PtgElfRw",f:C$},3:{n:"PtgElfCol",f:w$},6:{n:"PtgElfRwV",f:I$},7:{n:"PtgElfColV",f:S$},10:{n:"PtgElfRadical",f:b$},11:{n:"PtgElfRadicalS",f:A$},13:{n:"PtgElfColS",f:E$},15:{n:"PtgElfColSV",f:T$},16:{n:"PtgElfRadicalLel",f:N$},25:{n:"PtgList",f:k$},29:{n:"PtgSxName",f:R$},255:{}},U$={0:{n:"PtgAttrNoop",f:M$},1:{n:"PtgAttrSemi",f:GH},2:{n:"PtgAttrIf",f:$H},4:{n:"PtgAttrChoose",f:zH},8:{n:"PtgAttrGoto",f:HH},16:{n:"PtgAttrSum",f:t$},32:{n:"PtgAttrBaxcel",f:HT},33:{n:"PtgAttrBaxcel",f:HT},64:{n:"PtgAttrSpace",f:KH},65:{n:"PtgAttrSpaceSemi",f:qH},128:{n:"PtgAttrIfError",f:WH},255:{}};function B$(t,e,n,r){if(r.biff<8)return Ni(t,e);for(var s=t.l+e,i=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=u$(t,0,r),i.push(n[o][1]);break;case"PtgMemArea":n[o][2]=c$(t,n[o][1],r),i.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=t.read_shift(4),i.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return e=s-t.l,e!==0&&i.push(Ni(t,e)),i}function z$(t,e,n){for(var r=t.l+e,s,i,o=[];r!=t.l;)e=r-t.l,i=t[t.l],s=$T[i]||$T[L$[i]],(i===24||i===25)&&(s=(i===24?V$:U$)[t[t.l+1]]),!s||!s.f?Ni(t,e):o.push([s.n,s.f(t,e,n)]);return o}function H$(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],s=[],i=0;i<r.length;++i){var o=r[i];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var $$={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function W$(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function YC(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var s="";if(n.biff>8)switch(t[r[0]][0]){case 357:return s=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?s:s+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return s=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?s:s+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return t[r[0]][0][3]?(s=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?s:s+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function WT(t,e,n){var r=YC(t,e,n);return r=="#REF"?r:W$(r,n)}function Uc(t,e,n,r,s){var i=s&&s.biff||8,o={s:{c:0,r:0}},u=[],h,f,m,x=0,v=0,_,A="";if(!t[0]||!t[0][0])return"";for(var w=-1,N="",M=0,j=t[0].length;M<j;++M){var O=t[0][M];switch(O[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(h=u.pop(),f=u.pop(),w>=0){switch(t[0][w][1][0]){case 0:N=mn(" ",t[0][w][1][1]);break;case 1:N=mn("\r",t[0][w][1][1]);break;default:if(N="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}f=f+N,w=-1}u.push(f+$$[O[0]]+h);break;case"PtgIsect":h=u.pop(),f=u.pop(),u.push(f+" "+h);break;case"PtgUnion":h=u.pop(),f=u.pop(),u.push(f+","+h);break;case"PtgRange":h=u.pop(),f=u.pop(),u.push(f+":"+h);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=lh(O[1][1],o,s),u.push(ch(m,i));break;case"PtgRefN":m=n?lh(O[1][1],n,s):O[1][1],u.push(ch(m,i));break;case"PtgRef3d":x=O[1][1],m=lh(O[1][2],o,s),A=WT(r,x,s),u.push(A+"!"+ch(m,i));break;case"PtgFunc":case"PtgFuncVar":var z=O[1][0],ne=O[1][1];z||(z=0),z&=127;var re=z==0?[]:u.slice(-z);u.length-=z,ne==="User"&&(ne=re.shift()),u.push(ne+"("+re.join(",")+")");break;case"PtgBool":u.push(O[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(O[1]);break;case"PtgNum":u.push(String(O[1]));break;case"PtgStr":u.push('"'+O[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(O[1]);break;case"PtgAreaN":_=IT(O[1][1],n?{s:n}:o,s),u.push(Og(_,s));break;case"PtgArea":_=IT(O[1][1],o,s),u.push(Og(_,s));break;case"PtgArea3d":x=O[1][1],_=O[1][2],A=WT(r,x,s),u.push(A+"!"+Og(_,s));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":v=O[1][2];var P=(r.names||[])[v-1]||(r[0]||[])[v],T=P?P.Name:"SH33TJSNAME"+String(v);T&&T.slice(0,6)=="_xlfn."&&!s.xlfn&&(T=T.slice(6)),u.push(T);break;case"PtgNameX":var b=O[1][1];v=O[1][2];var R;if(s.biff<=5)b<0&&(b=-b),r[b]&&(R=r[b][v]);else{var I="";if(((r[b]||[])[0]||[])[0]==14849||(((r[b]||[])[0]||[])[0]==1025?r[b][v]&&r[b][v].itab>0&&(I=r.SheetNames[r[b][v].itab-1]+"!"):I=r.SheetNames[v-1]+"!"),r[b]&&r[b][v])I+=r[b][v].Name;else if(r[0]&&r[0][v])I+=r[0][v].Name;else{var L=(YC(r,b,s)||"").split(";;");L[v-1]?I=L[v-1]:I+="SH33TJSERRX"}u.push(I);break}R||(R={Name:"SH33TJSERRY"}),u.push(R.Name);break;case"PtgParen":var k="(",Ae=")";if(w>=0){switch(N="",t[0][w][1][0]){case 2:k=mn(" ",t[0][w][1][1])+k;break;case 3:k=mn("\r",t[0][w][1][1])+k;break;case 4:Ae=mn(" ",t[0][w][1][1])+Ae;break;case 5:Ae=mn("\r",t[0][w][1][1])+Ae;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}w=-1}u.push(k+u.pop()+Ae);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":m={c:O[1][1],r:O[1][0]};var Ce={c:n.c,r:n.r};if(r.sharedf[Ut(m)]){var Ue=r.sharedf[Ut(m)];u.push(Uc(Ue,o,Ce,r,s))}else{var Re=!1;for(h=0;h!=r.arrayf.length;++h)if(f=r.arrayf[h],!(m.c<f[0].s.c||m.c>f[0].e.c)&&!(m.r<f[0].s.r||m.r>f[0].e.r)){u.push(Uc(f[1],o,Ce,r,s)),Re=!0;break}Re||u.push(O[1])}break;case"PtgArray":u.push("{"+H$(O[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=M;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+O[1].idx+"[#"+O[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(O));default:throw new Error("Unrecognized Formula Token: "+String(O))}var ae=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&w>=0&&ae.indexOf(t[0][M][0])==-1){O=t[0][w];var _e=!0;switch(O[1][0]){case 4:_e=!1;case 0:N=mn(" ",O[1][1]);break;case 5:_e=!1;case 1:N=mn("\r",O[1][1]);break;default:if(N="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+O[1][0])}u.push((_e?N:"")+u.pop()+(_e?"":N)),w=-1}}if(u.length>1&&s.WTF)throw new Error("bad formula stack");return u[0]}function G$(t){if(t==null){var e=we(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return dl(t);return dl(0)}function K$(t,e,n,r,s){var i=fl(e,n,s),o=G$(t.v),u=we(6),h=33;u.write_shift(2,h),u.write_shift(4,0);for(var f=we(t.bf.length),m=0;m<t.bf.length;++m)f[m]=t.bf[m];var x=nr([i,o,u,f]);return x}function Tm(t,e,n){var r=t.read_shift(4),s=z$(t,r,n),i=t.read_shift(4),o=i>0?B$(t,i,s,n):null;return[s,o]}var q$=Tm,Sm=Tm,X$=Tm,Y$=Tm,Q$={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},QC={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},J$={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Z$(t){var e="of:="+t.replace(Gv,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function eW(t){return t.replace(/\./,"!")}var uh=typeof Map<"u";function Xv(t,e,n){var r=0,s=t.length;if(n){if(uh?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var i=uh?n.get(e):n[e];r<i.length;++r)if(t[i[r]].t===e)return t.Count++,i[r]}}else for(;r<s;++r)if(t[r].t===e)return t.Count++,r;return t[s]={t:e},t.Count++,t.Unique++,n&&(uh?(n.has(e)||n.set(e,[]),n.get(e).push(s)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(s))),s}function bm(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(na=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=F0(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=Vx(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function JC(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function xo(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],s=60,i=t.length;if(r==null&&n.ssf){for(;s<392;++s)if(n.ssf[s]==null){K4(e.z,s),n.ssf[s]=e.z,n.revssf[e.z]=r=s;break}}for(s=0;s!=i;++s)if(t[s].numFmtId===r)return s;return t[i]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function tW(t,e,n){if(t&&t["!ref"]){var r=Zt(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function nW(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+Cn(t[n])+'"/>';return e+"</mergeCells>"}function rW(t,e,n,r,s){var i=!1,o={},u=null;if(r.bookType!=="xlsx"&&e.vbaraw){var h=e.SheetNames[n];try{e.Workbook&&(h=e.Workbook.Sheets[n].CodeName||h)}catch{}i=!0,o.codeName=jh(Lt(h))}if(t&&t["!outline"]){var f={summaryBelow:1,summaryRight:1};t["!outline"].above&&(f.summaryBelow=0),t["!outline"].left&&(f.summaryRight=0),u=(u||"")+Be("outlinePr",null,f)}!i&&!u||(s[s.length]=Be("sheetPr",u,o))}var sW=["objects","scenarios","selectLockedCells","selectUnlockedCells"],iW=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function aW(t){var e={sheet:1};return sW.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),iW.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=OC(t.password).toString(16).toUpperCase()),Be("sheetProtection",null,e)}function oW(t){return JC(t),Be("pageMargins",null,t)}function lW(t,e){for(var n=["<cols>"],r,s=0;s!=e.length;++s)(r=e[s])&&(n[n.length]=Be("col",null,bm(s,r)));return n[n.length]="</cols>",n.join("")}function cW(t,e,n,r){var s=typeof t.ref=="string"?t.ref:Cn(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var i=n.Workbook.Names,o=is(s);o.s.r==o.e.r&&(o.e.r=is(e["!ref"]).e.r,s=Cn(o));for(var u=0;u<i.length;++u){var h=i[u];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==r){h.Ref="'"+n.SheetNames[r]+"'!"+s;break}}return u==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),Be("autoFilter",null,{ref:s})}function uW(t,e,n,r){var s={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Be("sheetViews",Be("sheetView",null,s),{})}function hW(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var s="",i=t.t,o=t.v;if(t.t!=="z")switch(t.t){case"b":s=t.v?"1":"0";break;case"n":s=""+t.v;break;case"e":s=ad[t.v];break;case"d":r&&r.cellDates?s=Ir(t.v,-1).toISOString():(t=$r(t),t.t="n",s=""+(t.v=Hr(Ir(t.v)))),typeof t.z>"u"&&(t.z=pn[14]);break;default:s=t.v;break}var u=rr("v",Lt(s)),h={r:e},f=xo(r.cellXfs,t,r);switch(f!==0&&(h.s=f),t.t){case"n":break;case"d":h.t="d";break;case"b":h.t="b";break;case"e":h.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){u=rr("v",""+Xv(r.Strings,t.v,r.revStrings)),h.t="s";break}h.t="str";break}if(t.t!=i&&(t.t=i,t.v=o),typeof t.f=="string"&&t.f){var m=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;u=Be("f",Lt(t.f),m)+(t.v!=null?u:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(h.cm=1),Be("c",u,h)}function dW(t,e,n,r){var s=[],i=[],o=Zt(t["!ref"]),u="",h,f="",m=[],x=0,v=0,_=t["!rows"],A=Array.isArray(t),w={r:f},N,M=-1;for(v=o.s.c;v<=o.e.c;++v)m[v]=xr(v);for(x=o.s.r;x<=o.e.r;++x){for(i=[],f=ir(x),v=o.s.c;v<=o.e.c;++v){h=m[v]+f;var j=A?(t[x]||[])[v]:t[h];j!==void 0&&(u=hW(j,h,t,e))!=null&&i.push(u)}(i.length>0||_&&_[x])&&(w={r:f},_&&_[x]&&(N=_[x],N.hidden&&(w.hidden=1),M=-1,N.hpx?M=M0(N.hpx):N.hpt&&(M=N.hpt),M>-1&&(w.ht=M,w.customHeight=1),N.level&&(w.outlineLevel=N.level)),s[s.length]=Be("row",i.join(""),w))}if(_)for(;x<_.length;++x)_&&_[x]&&(w={r:x+1},N=_[x],N.hidden&&(w.hidden=1),M=-1,N.hpx?M=M0(N.hpx):N.hpt&&(M=N.hpt),M>-1&&(w.ht=M,w.customHeight=1),N.level&&(w.outlineLevel=N.level),s[s.length]=Be("row","",w));return s.join("")}function ZC(t,e,n,r){var s=[In,Be("worksheet",null,{xmlns:Jc[0],"xmlns:r":Hn.r})],i=n.SheetNames[t],o=0,u="",h=n.Sheets[i];h==null&&(h={});var f=h["!ref"]||"A1",m=Zt(f);if(m.e.c>16383||m.e.r>1048575){if(e.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575),f=Cn(m)}r||(r={}),h["!comments"]=[];var x=[];rW(h,n,t,e,s),s[s.length]=Be("dimension",null,{ref:f}),s[s.length]=uW(h,e,t,n),e.sheetFormat&&(s[s.length]=Be("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),h["!cols"]!=null&&h["!cols"].length>0&&(s[s.length]=lW(h,h["!cols"])),s[o=s.length]="<sheetData/>",h["!links"]=[],h["!ref"]!=null&&(u=dW(h,e),u.length>0&&(s[s.length]=u)),s.length>o+1&&(s[s.length]="</sheetData>",s[o]=s[o].replace("/>",">")),h["!protect"]&&(s[s.length]=aW(h["!protect"])),h["!autofilter"]!=null&&(s[s.length]=cW(h["!autofilter"],h,n,t)),h["!merges"]!=null&&h["!merges"].length>0&&(s[s.length]=nW(h["!merges"]));var v=-1,_,A=-1;return h["!links"].length>0&&(s[s.length]="<hyperlinks>",h["!links"].forEach(function(w){w[1].Target&&(_={ref:w[0]},w[1].Target.charAt(0)!="#"&&(A=Ft(r,-1,Lt(w[1].Target).replace(/#.*$/,""),Ct.HLINK),_["r:id"]="rId"+A),(v=w[1].Target.indexOf("#"))>-1&&(_.location=Lt(w[1].Target.slice(v+1))),w[1].Tooltip&&(_.tooltip=Lt(w[1].Tooltip)),s[s.length]=Be("hyperlink",null,_))}),s[s.length]="</hyperlinks>"),delete h["!links"],h["!margins"]!=null&&(s[s.length]=oW(h["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(s[s.length]=rr("ignoredErrors",Be("ignoredError",null,{numberStoredAsText:1,sqref:f}))),x.length>0&&(A=Ft(r,-1,"../drawings/drawing"+(t+1)+".xml",Ct.DRAW),s[s.length]=Be("drawing",null,{"r:id":"rId"+A}),h["!drawing"]=x),h["!comments"].length>0&&(A=Ft(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Ct.VML),s[s.length]=Be("legacyDrawing",null,{"r:id":"rId"+A}),h["!legacy"]=A),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function fW(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var i=t.read_shift(1);return t.l=r,i&7&&(n.level=i&7),i&16&&(n.hidden=!0),i&32&&(n.hpt=s/20),n}function mW(t,e,n){var r=we(145),s=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var i=320;s.hpx?i=M0(s.hpx)*20:s.hpt&&(i=s.hpt*20),r.write_shift(2,i),r.write_shift(1,0);var o=0;s.level&&(o|=s.level),s.hidden&&(o|=16),(s.hpx||s.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var u=0,h=r.l;r.l+=4;for(var f={r:t,c:0},m=0;m<16;++m)if(!(e.s.c>m+1<<10||e.e.c<m<<10)){for(var x=-1,v=-1,_=m<<10;_<m+1<<10;++_){f.c=_;var A=Array.isArray(n)?(n[f.r]||[])[f.c]:n[Ut(f)];A&&(x<0&&(x=_),v=_)}x<0||(++u,r.write_shift(4,x),r.write_shift(4,v))}var w=r.l;return r.l=h,r.write_shift(4,u),r.l=w,r.length>r.l?r.slice(0,r.l):r}function pW(t,e,n,r){var s=mW(r,n,e);(s.length>17||(e["!rows"]||[])[r])&&Ne(t,0,s)}var gW=wl,xW=eu;function vW(){}function yW(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=IB(t),n}function _W(t,e,n){n==null&&(n=we(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var s=1;s<3;++s)n.write_shift(1,0);return D0({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),mC(t,n),n.slice(0,n.l)}function wW(t){var e=Ns(t);return[e]}function EW(t,e,n){return n==null&&(n=we(8)),vl(e,n)}function TW(t){var e=yl(t);return[e]}function SW(t,e,n){return n==null&&(n=we(4)),_l(e,n)}function bW(t){var e=Ns(t),n=t.read_shift(1);return[e,n,"b"]}function NW(t,e,n){return n==null&&(n=we(9)),vl(e,n),n.write_shift(1,t.v?1:0),n}function AW(t){var e=yl(t),n=t.read_shift(1);return[e,n,"b"]}function CW(t,e,n){return n==null&&(n=we(5)),_l(e,n),n.write_shift(1,t.v?1:0),n}function IW(t){var e=Ns(t),n=t.read_shift(1);return[e,n,"e"]}function PW(t,e,n){return n==null&&(n=we(9)),vl(e,n),n.write_shift(1,t.v),n}function kW(t){var e=yl(t),n=t.read_shift(1);return[e,n,"e"]}function RW(t,e,n){return n==null&&(n=we(8)),_l(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function DW(t){var e=Ns(t),n=t.read_shift(4);return[e,n,"s"]}function jW(t,e,n){return n==null&&(n=we(12)),vl(e,n),n.write_shift(4,e.v),n}function OW(t){var e=yl(t),n=t.read_shift(4);return[e,n,"s"]}function FW(t,e,n){return n==null&&(n=we(8)),_l(e,n),n.write_shift(4,e.v),n}function MW(t){var e=Ns(t),n=tu(t);return[e,n,"n"]}function LW(t,e,n){return n==null&&(n=we(16)),vl(e,n),dl(t.v,n),n}function VW(t){var e=yl(t),n=tu(t);return[e,n,"n"]}function UW(t,e,n){return n==null&&(n=we(12)),_l(e,n),dl(t.v,n),n}function BW(t){var e=Ns(t),n=pC(t);return[e,n,"n"]}function zW(t,e,n){return n==null&&(n=we(12)),vl(e,n),gC(t.v,n),n}function HW(t){var e=yl(t),n=pC(t);return[e,n,"n"]}function $W(t,e,n){return n==null&&(n=we(8)),_l(e,n),gC(t.v,n),n}function WW(t){var e=Ns(t),n=Bv(t);return[e,n,"is"]}function GW(t){var e=Ns(t),n=vr(t);return[e,n,"str"]}function KW(t,e,n){return n==null&&(n=we(12+4*t.v.length)),vl(e,n),Wn(t.v,n),n.length>n.l?n.slice(0,n.l):n}function qW(t){var e=yl(t),n=vr(t);return[e,n,"str"]}function XW(t,e,n){return n==null&&(n=we(8+4*t.v.length)),_l(e,n),Wn(t.v,n),n.length>n.l?n.slice(0,n.l):n}function YW(t,e,n){var r=t.l+e,s=Ns(t);s.r=n["!row"];var i=t.read_shift(1),o=[s,i,"b"];if(n.cellFormula){t.l+=2;var u=Sm(t,r-t.l,n);o[3]=Uc(u,null,s,n.supbooks,n)}else t.l=r;return o}function QW(t,e,n){var r=t.l+e,s=Ns(t);s.r=n["!row"];var i=t.read_shift(1),o=[s,i,"e"];if(n.cellFormula){t.l+=2;var u=Sm(t,r-t.l,n);o[3]=Uc(u,null,s,n.supbooks,n)}else t.l=r;return o}function JW(t,e,n){var r=t.l+e,s=Ns(t);s.r=n["!row"];var i=tu(t),o=[s,i,"n"];if(n.cellFormula){t.l+=2;var u=Sm(t,r-t.l,n);o[3]=Uc(u,null,s,n.supbooks,n)}else t.l=r;return o}function ZW(t,e,n){var r=t.l+e,s=Ns(t);s.r=n["!row"];var i=vr(t),o=[s,i,"str"];if(n.cellFormula){t.l+=2;var u=Sm(t,r-t.l,n);o[3]=Uc(u,null,s,n.supbooks,n)}else t.l=r;return o}var eG=wl,tG=eu;function nG(t,e){return e==null&&(e=we(4)),e.write_shift(4,t),e}function rG(t,e){var n=t.l+e,r=wl(t),s=zv(t),i=vr(t),o=vr(t),u=vr(t);t.l=n;var h={rfx:r,relId:s,loc:i,display:u};return o&&(h.Tooltip=o),h}function sG(t,e){var n=we(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));eu({s:$n(t[0]),e:$n(t[0])},n),Hv("rId"+e,n);var r=t[1].Target.indexOf("#"),s=r==-1?"":t[1].Target.slice(r+1);return Wn(s||"",n),Wn(t[1].Tooltip||"",n),Wn("",n),n.slice(0,n.l)}function iG(){}function aG(t,e,n){var r=t.l+e,s=xC(t),i=t.read_shift(1),o=[s];if(o[2]=i,n.cellFormula){var u=q$(t,r-t.l,n);o[1]=u}else t.l=r;return o}function oG(t,e,n){var r=t.l+e,s=wl(t),i=[s];if(n.cellFormula){var o=Y$(t,r-t.l,n);i[1]=o,t.l=r}else t.l=r;return i}function lG(t,e,n){n==null&&(n=we(18));var r=bm(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var s=0;return e.hidden&&(s|=1),typeof r.width=="number"&&(s|=2),e.level&&(s|=e.level<<8),n.write_shift(2,s),n}var eI=["left","right","top","bottom","header","footer"];function cG(t){var e={};return eI.forEach(function(n){e[n]=tu(t)}),e}function uG(t,e){return e==null&&(e=we(6*8)),JC(t),eI.forEach(function(n){dl(t[n],e)}),e}function hG(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function dG(t,e,n){n==null&&(n=we(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function fG(t){var e=we(24);return e.write_shift(4,4),e.write_shift(4,1),eu(t,e),e}function mG(t,e){return e==null&&(e=we(16*4+2)),e.write_shift(2,t.password?OC(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function pG(){}function gG(){}function xG(t,e,n,r,s,i,o){if(e.v===void 0)return!1;var u="";switch(e.t){case"b":u=e.v?"1":"0";break;case"d":e=$r(e),e.z=e.z||pn[14],e.v=Hr(Ir(e.v)),e.t="n";break;case"n":case"e":u=""+e.v;break;default:u=e.v;break}var h={r:n,c:r};switch(h.s=xo(s.cellXfs,e,s),e.l&&i["!links"].push([Ut(h),e.l]),e.c&&i["!comments"].push([Ut(h),e.c]),e.t){case"s":case"str":return s.bookSST?(u=Xv(s.Strings,e.v,s.revStrings),h.t="s",h.v=u,o?Ne(t,18,FW(e,h)):Ne(t,7,jW(e,h))):(h.t="str",o?Ne(t,17,XW(e,h)):Ne(t,6,KW(e,h))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?Ne(t,13,$W(e,h)):Ne(t,2,zW(e,h)):o?Ne(t,16,UW(e,h)):Ne(t,5,LW(e,h)),!0;case"b":return h.t="b",o?Ne(t,15,CW(e,h)):Ne(t,4,NW(e,h)),!0;case"e":return h.t="e",o?Ne(t,14,RW(e,h)):Ne(t,3,PW(e,h)),!0}return o?Ne(t,12,SW(e,h)):Ne(t,1,EW(e,h)),!0}function vG(t,e,n,r){var s=Zt(e["!ref"]||"A1"),i,o="",u=[];Ne(t,145);var h=Array.isArray(e),f=s.e.r;e["!rows"]&&(f=Math.max(s.e.r,e["!rows"].length-1));for(var m=s.s.r;m<=f;++m){o=ir(m),pW(t,e,s,m);var x=!1;if(m<=s.e.r)for(var v=s.s.c;v<=s.e.c;++v){m===s.s.r&&(u[v]=xr(v)),i=u[v]+o;var _=h?(e[m]||[])[v]:e[i];if(!_){x=!1;continue}x=xG(t,_,m,v,r,e,x)}}Ne(t,146)}function yG(t,e){!e||!e["!merges"]||(Ne(t,177,nG(e["!merges"].length)),e["!merges"].forEach(function(n){Ne(t,176,tG(n))}),Ne(t,178))}function _G(t,e){!e||!e["!cols"]||(Ne(t,390),e["!cols"].forEach(function(n,r){n&&Ne(t,60,lG(r,n))}),Ne(t,391))}function wG(t,e){!e||!e["!ref"]||(Ne(t,648),Ne(t,649,fG(Zt(e["!ref"]))),Ne(t,650))}function EG(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var s=Ft(n,-1,r[1].Target.replace(/#.*$/,""),Ct.HLINK);Ne(t,494,sG(r,s))}}),delete e["!links"]}function TG(t,e,n,r){if(e["!comments"].length>0){var s=Ft(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Ct.VML);Ne(t,551,Hv("rId"+s)),e["!legacy"]=s}}function SG(t,e,n,r){if(e["!autofilter"]){var s=e["!autofilter"],i=typeof s.ref=="string"?s.ref:Cn(s.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,u=is(i);u.s.r==u.e.r&&(u.e.r=is(e["!ref"]).e.r,i=Cn(u));for(var h=0;h<o.length;++h){var f=o[h];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==r){f.Ref="'"+n.SheetNames[r]+"'!"+i;break}}h==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),Ne(t,161,eu(Zt(i))),Ne(t,162)}}function bG(t,e,n){Ne(t,133),Ne(t,137,dG(e,n)),Ne(t,138),Ne(t,134)}function NG(t,e){e["!protect"]&&Ne(t,535,mG(e["!protect"]))}function AG(t,e,n,r){var s=zr(),i=n.SheetNames[t],o=n.Sheets[i]||{},u=i;try{n&&n.Workbook&&(u=n.Workbook.Sheets[t].CodeName||u)}catch{}var h=Zt(o["!ref"]||"A1");if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Ne(s,129),(n.vbaraw||o["!outline"])&&Ne(s,147,_W(u,o["!outline"])),Ne(s,148,xW(h)),bG(s,o,n.Workbook),_G(s,o),vG(s,o,t,e),NG(s,o),SG(s,o,n,t),yG(s,o),EG(s,o,r),o["!margins"]&&Ne(s,476,uG(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&wG(s,o),TG(s,o,t,r),Ne(s,130),s.end()}function CG(t,e){t.l+=10;var n=vr(t);return{name:n}}var IG=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function PG(t){return!t.Workbook||!t.Workbook.WBProps?"false":oB(t.Workbook.WBProps.date1904)?"true":"false"}var kG="][*?/\\".split("");function tI(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return kG.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function RG(t,e,n){t.forEach(function(r,s){tI(r);for(var i=0;i<s;++i)if(r==t[i])throw new Error("Duplicate Sheet Name: "+r);if(n){var o=e&&e[s]&&e[s].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function DG(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];RG(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)tW(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}function nI(t){var e=[In];e[e.length]=Be("workbook",null,{xmlns:Jc[0],"xmlns:r":Hn.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(IG.forEach(function(u){t.Workbook.WBProps[u[0]]!=null&&t.Workbook.WBProps[u[0]]!=u[1]&&(r[u[0]]=t.Workbook.WBProps[u[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Be("workbookPr",null,r);var s=t.Workbook&&t.Workbook.Sheets||[],i=0;if(s&&s[0]&&s[0].Hidden){for(e[e.length]="<bookViews>",i=0;i!=t.SheetNames.length&&!(!s[i]||!s[i].Hidden);++i);i==t.SheetNames.length&&(i=0),e[e.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",i=0;i!=t.SheetNames.length;++i){var o={name:Lt(t.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),s[i])switch(s[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=Be("sheet",null,o)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(u){var h={name:u.Name};u.Comment&&(h.comment=u.Comment),u.Sheet!=null&&(h.localSheetId=""+u.Sheet),u.Hidden&&(h.hidden="1"),u.Ref&&(e[e.length]=Be("definedName",Lt(u.Ref),h))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function jG(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=Lx(t),n.name=vr(t),n}function OG(t,e){return e||(e=we(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),Hv(t.strRelID,e),Wn(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function FG(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var s=e>8?vr(t):"";return s.length>0&&(n.CodeName=s),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function MG(t,e){e||(e=we(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),mC(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function LG(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var s=t.read_shift(4),i=PB(t),o=X$(t,0,n),u=zv(t);t.l=r;var h={Name:i,Ptg:o};return s<268435455&&(h.Sheet=s),u&&(h.Comment=u),h}function VG(t,e){Ne(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,s={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};Ne(t,156,OG(s))}Ne(t,144)}function UG(t,e){e||(e=we(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return Wn("SheetJS",e),Wn(b0.version,e),Wn(b0.version,e),Wn("7262",e),e.length>e.l?e.slice(0,e.l):e}function BG(t,e){e||(e=we(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function zG(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,s=-1,i=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&s==-1?s=r:n[r].Hidden==1&&i==-1&&(i=r);i>s||(Ne(t,135),Ne(t,158,BG(s)),Ne(t,136))}}function HG(t,e){var n=zr();return Ne(n,131),Ne(n,128,UG()),Ne(n,153,MG(t.Workbook&&t.Workbook.WBProps||null)),zG(n,t),VG(n,t),Ne(n,132),n.end()}function $G(t,e,n){return(e.slice(-4)===".bin"?HG:nI)(t)}function WG(t,e,n,r,s){return(e.slice(-4)===".bin"?AG:ZC)(t,n,r,s)}function GG(t,e,n){return(e.slice(-4)===".bin"?uH:LC)(t,n)}function KG(t,e,n){return(e.slice(-4)===".bin"?Mz:jC)(t,n)}function qG(t,e,n){return(e.slice(-4)===".bin"?NH:HC)(t)}function XG(t){return(t.slice(-4)===".bin"?vH:BC)()}function YG(t,e){var n=[];return t.Props&&n.push(GB(t.Props,e)),t.Custprops&&n.push(KB(t.Props,t.Custprops)),n.join("")}function QG(){return""}function JG(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,s){var i=[];i.push(Be("NumberFormat",null,{"ss:Format":Lt(pn[r.numFmtId])}));var o={"ss:ID":"s"+(21+s)};n.push(Be("Style",i.join(""),o))}),Be("Styles",n.join(""))}function rI(t){return Be("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+Kv(t.Ref,{r:0,c:0})})}function ZG(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var s=e[r];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||n.push(rI(s)))}return Be("Names",n.join(""))}function eK(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var s=r.Workbook.Names,i=[],o=0;o<s.length;++o){var u=s[o];u.Sheet==n&&(u.Name.match(/^_xlfn\./)||i.push(rI(u)))}return i.join("")}function tK(t,e,n,r){if(!t)return"";var s=[];if(t["!margins"]&&(s.push("<PageSetup>"),t["!margins"].header&&s.push(Be("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&s.push(Be("Footer",null,{"x:Margin":t["!margins"].footer})),s.push(Be("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),s.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)s.push(Be("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<n&&!(r.Workbook.Sheets[i]&&!r.Workbook.Sheets[i].Hidden);++i);i==n&&s.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),t["!protect"]&&(s.push(rr("ProtectContents","True")),t["!protect"].objects&&s.push(rr("ProtectObjects","True")),t["!protect"].scenarios&&s.push(rr("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?s.push(rr("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&s.push(rr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){t["!protect"][o[0]]&&s.push("<"+o[1]+"/>")})),s.length==0?"":Be("WorksheetOptions",s.join(""),{xmlns:ts.x})}function nK(t){return t.map(function(e){var n=aB(e.t||""),r=Be("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return Be("Comment",r,{"ss:Author":e.a})}).join("")}function rK(t,e,n,r,s,i,o){if(!t||t.v==null&&t.f==null)return"";var u={};if(t.f&&(u["ss:Formula"]="="+Lt(Kv(t.f,o))),t.F&&t.F.slice(0,e.length)==e){var h=$n(t.F.slice(e.length+1));u["ss:ArrayRange"]="RC:R"+(h.r==o.r?"":"["+(h.r-o.r)+"]")+"C"+(h.c==o.c?"":"["+(h.c-o.c)+"]")}if(t.l&&t.l.Target&&(u["ss:HRef"]=Lt(t.l.Target),t.l.Tooltip&&(u["x:HRefScreenTip"]=Lt(t.l.Tooltip))),n["!merges"])for(var f=n["!merges"],m=0;m!=f.length;++m)f[m].s.c!=o.c||f[m].s.r!=o.r||(f[m].e.c>f[m].s.c&&(u["ss:MergeAcross"]=f[m].e.c-f[m].s.c),f[m].e.r>f[m].s.r&&(u["ss:MergeDown"]=f[m].e.r-f[m].s.r));var x="",v="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":x="Number",v=String(t.v);break;case"b":x="Boolean",v=t.v?"1":"0";break;case"e":x="Error",v=ad[t.v];break;case"d":x="DateTime",v=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||pn[14]);break;case"s":x="String",v=iB(t.v||"");break}var _=xo(r.cellXfs,t,r);u["ss:StyleID"]="s"+(21+_),u["ss:Index"]=o.c+1;var A=t.v!=null?v:"",w=t.t=="z"?"":'<Data ss:Type="'+x+'">'+A+"</Data>";return(t.c||[]).length>0&&(w+=nK(t.c)),Be("Cell",w,u)}function sK(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=MC(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function iK(t,e,n,r){if(!t["!ref"])return"";var s=Zt(t["!ref"]),i=t["!merges"]||[],o=0,u=[];t["!cols"]&&t["!cols"].forEach(function(N,M){Wv(N);var j=!!N.width,O=bm(M,N),z={"ss:Index":M+1};j&&(z["ss:Width"]=O0(O.width)),N.hidden&&(z["ss:Hidden"]="1"),u.push(Be("Column",null,z))});for(var h=Array.isArray(t),f=s.s.r;f<=s.e.r;++f){for(var m=[sK(f,(t["!rows"]||[])[f])],x=s.s.c;x<=s.e.c;++x){var v=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>x)&&!(i[o].s.r>f)&&!(i[o].e.c<x)&&!(i[o].e.r<f)){(i[o].s.c!=x||i[o].s.r!=f)&&(v=!0);break}if(!v){var _={r:f,c:x},A=Ut(_),w=h?(t[f]||[])[x]:t[A];m.push(rK(w,A,t,e,n,r,_))}}m.push("</Row>"),m.length>2&&u.push(m.join(""))}return u.join("")}function aK(t,e,n){var r=[],s=n.SheetNames[t],i=n.Sheets[s],o=i?eK(i,e,t,n):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=i?iK(i,e,t,n):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(tK(i,e,t,n)),r.join("")}function oK(t,e){e||(e={}),t.SSF||(t.SSF=$r(pn)),t.SSF&&(_m(),ym(t.SSF),e.revssf=wm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],xo(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(YG(t,e)),n.push(QG()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(Be("Worksheet",aK(r,e,t),{"ss:Name":Lt(t.SheetNames[r])}));return n[2]=JG(t,e),n[3]=ZG(t),In+Be("Workbook",n.join(""),{xmlns:ts.ss,"xmlns:o":ts.o,"xmlns:x":ts.x,"xmlns:ss":ts.ss,"xmlns:dt":ts.dt,"xmlns:html":ts.html})}var Lg={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function lK(t,e){var n=[],r=[],s=[],i=0,o,u=vT(kT,"n"),h=vT(RT,"n");if(t.Props)for(o=or(t.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(u,o[i])?n:Object.prototype.hasOwnProperty.call(h,o[i])?r:s).push([o[i],t.Props[o[i]]]);if(t.Custprops)for(o=or(t.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(t.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(u,o[i])?n:Object.prototype.hasOwnProperty.call(h,o[i])?r:s).push([o[i],t.Custprops[o[i]]]);var f=[];for(i=0;i<s.length;++i)AC.indexOf(s[i][0])>-1||SC.indexOf(s[i][0])>-1||s[i][1]!=null&&f.push(s[i]);r.length&&Bt.utils.cfb_add(e,"/SummaryInformation",MT(r,Lg.SI,h,RT)),(n.length||f.length)&&Bt.utils.cfb_add(e,"/DocumentSummaryInformation",MT(n,Lg.DSI,u,kT,f.length?f:null,Lg.UDI))}function cK(t,e){var n=e||{},r=Bt.utils.cfb_new({root:"R"}),s="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":s="/Workbook",n.biff=8;break;case"biff5":s="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Bt.utils.cfb_add(r,s,sI(t,n)),n.biff==8&&(t.Props||t.Custprops)&&lK(t,r),n.biff==8&&t.vbaraw&&AH(r,Bt.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var uK={0:{f:fW},1:{f:wW},2:{f:BW},3:{f:IW},4:{f:bW},5:{f:MW},6:{f:GW},7:{f:DW},8:{f:ZW},9:{f:JW},10:{f:YW},11:{f:QW},12:{f:TW},13:{f:HW},14:{f:kW},15:{f:AW},16:{f:VW},17:{f:qW},18:{f:OW},19:{f:Bv},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:LG},40:{},42:{},43:{f:Gz},44:{f:$z},45:{f:Xz},46:{f:Qz},47:{f:Yz},48:{},49:{f:TB},50:{},51:{f:fH},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Sz},62:{f:WW},63:{f:yH},64:{f:pG},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ni,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:hG},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:yW},148:{f:gW,p:16},151:{f:iG},152:{},153:{f:FG},154:{},155:{},156:{f:jG},157:{},158:{},159:{T:1,f:jz},160:{T:-1},161:{T:1,f:wl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:eG},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:hH},336:{T:-1},337:{f:gH,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Lx},357:{},358:{},359:{},360:{T:1},361:{},362:{f:vz},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:aG},427:{f:oG},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:cG},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:vW},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:rG},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Lx},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:SH},633:{T:1},634:{T:-1},635:{T:1,f:EH},636:{T:-1},637:{f:AB},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:CG},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:gG},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function He(t,e,n,r){var s=e;if(!isNaN(s)){var i=r||(n||[]).length||0,o=t.next(4);o.write_shift(2,s),o.write_shift(2,i),i>0&&Lv(n)&&t.push(n)}}function hK(t,e,n,r){var s=(n||[]).length||0;if(s<=8224)return He(t,e,n,s);var i=e;if(!isNaN(i)){for(var o=n.parts||[],u=0,h=0,f=0;f+(o[u]||8224)<=8224;)f+=o[u]||8224,u++;var m=t.next(4);for(m.write_shift(2,i),m.write_shift(2,f),t.push(n.slice(h,h+f)),h+=f;h<s;){for(m=t.next(4),m.write_shift(2,60),f=0;f+(o[u]||8224)<=8224;)f+=o[u]||8224,u++;m.write_shift(2,f),t.push(n.slice(h,h+f)),h+=f}}}function ld(t,e,n){return t||(t=we(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function dK(t,e,n,r){var s=we(9);return ld(s,t,e),IC(n,r||"b",s),s}function fK(t,e,n){var r=we(8+2*n.length);return ld(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function mK(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var s=e.t=="d"?Hr(Ir(e.v)):e.v;s==(s|0)&&s>=0&&s<65536?He(t,2,Cz(n,r,s)):He(t,3,Az(n,r,s));return;case"b":case"e":He(t,5,dK(n,r,e.v,e.t));return;case"s":case"str":He(t,4,fK(n,r,(e.v||"").slice(0,255)));return}He(t,1,ld(null,n,r))}function pK(t,e,n,r){var s=Array.isArray(e),i=Zt(e["!ref"]||"A1"),o,u="",h=[];if(i.e.c>255||i.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=Cn(i)}for(var f=i.s.r;f<=i.e.r;++f){u=ir(f);for(var m=i.s.c;m<=i.e.c;++m){f===i.s.r&&(h[m]=xr(m)),o=h[m]+u;var x=s?(e[f]||[])[m]:e[o];x&&mK(t,x,f,m)}}}function gK(t,e){for(var n=e||{},r=zr(),s=0,i=0;i<t.SheetNames.length;++i)t.SheetNames[i]==n.sheet&&(s=i);if(s==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return He(r,n.biff==4?1033:n.biff==3?521:9,$v(t,16,n)),pK(r,t.Sheets[t.SheetNames[s]],s,n),He(r,10),r.end()}function xK(t,e,n){He(t,49,uz({sz:12,name:"Arial"},n))}function vK(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&He(t,1054,fz(s,e[s],n))})}function yK(t,e){var n=we(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),He(t,2151,n),n=we(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),RC(Zt(e["!ref"]||"A1"),n),n.write_shift(4,4),He(t,2152,n)}function _K(t,e){for(var n=0;n<16;++n)He(t,224,VT({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){He(t,224,VT(r,0,e))})}function wK(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];He(t,440,wz(r)),r[1].Tooltip&&He(t,2048,Ez(r))}delete e["!links"]}function EK(t,e){if(e){var n=0;e.forEach(function(r,s){++n<=256&&r&&He(t,125,bz(bm(s,r),s))})}}function TK(t,e,n,r,s){var i=16+xo(s.cellXfs,e,s);if(e.v==null&&!e.bf){He(t,513,fl(n,r,i));return}if(e.bf)He(t,6,K$(e,n,r,s,i));else switch(e.t){case"d":case"n":var o=e.t=="d"?Hr(Ir(e.v)):e.v;He(t,515,xz(n,r,o,i));break;case"b":case"e":He(t,517,gz(n,r,e.v,i,s,e.t));break;case"s":case"str":if(s.bookSST){var u=Xv(s.Strings,e.v,s.revStrings);He(t,253,hz(n,r,u,i))}else He(t,516,dz(n,r,(e.v||"").slice(0,255),i,s));break;default:He(t,513,fl(n,r,i))}}function SK(t,e,n){var r=zr(),s=n.SheetNames[t],i=n.Sheets[s]||{},o=(n||{}).Workbook||{},u=(o.Sheets||[])[t]||{},h=Array.isArray(i),f=e.biff==8,m,x="",v=[],_=Zt(i["!ref"]||"A1"),A=f?65536:16384;if(_.e.c>255||_.e.r>=A){if(e.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");_.e.c=Math.min(_.e.c,255),_.e.r=Math.min(_.e.c,A-1)}He(r,2057,$v(n,16,e)),He(r,13,ws(1)),He(r,12,ws(100)),He(r,15,Nr(!0)),He(r,17,Nr(!1)),He(r,16,dl(.001)),He(r,95,Nr(!0)),He(r,42,Nr(!1)),He(r,43,Nr(!1)),He(r,130,ws(1)),He(r,128,pz()),He(r,131,Nr(!1)),He(r,132,Nr(!1)),f&&EK(r,i["!cols"]),He(r,512,mz(_,e)),f&&(i["!links"]=[]);for(var w=_.s.r;w<=_.e.r;++w){x=ir(w);for(var N=_.s.c;N<=_.e.c;++N){w===_.s.r&&(v[N]=xr(N)),m=v[N]+x;var M=h?(i[w]||[])[N]:i[m];M&&(TK(r,M,w,N,e),f&&M.l&&i["!links"].push([m,M.l]))}}var j=u.CodeName||u.name||s;return f&&He(r,574,cz((o.Views||[])[0])),f&&(i["!merges"]||[]).length&&He(r,229,_z(i["!merges"])),f&&wK(r,i),He(r,442,kC(j)),f&&yK(r,i),He(r,10),r.end()}function bK(t,e,n){var r=zr(),s=(t||{}).Workbook||{},i=s.Sheets||[],o=s.WBProps||{},u=n.biff==8,h=n.biff==5;if(He(r,2057,$v(t,5,n)),n.bookType=="xla"&&He(r,135),He(r,225,u?ws(1200):null),He(r,193,YB(2)),h&&He(r,191),h&&He(r,192),He(r,226),He(r,92,iz("SheetJS",n)),He(r,66,ws(u?1200:1252)),u&&He(r,353,ws(0)),u&&He(r,448),He(r,317,Nz(t.SheetNames.length)),u&&t.vbaraw&&He(r,211),u&&t.vbaraw){var f=o.CodeName||"ThisWorkbook";He(r,442,kC(f))}He(r,156,ws(17)),He(r,25,Nr(!1)),He(r,18,Nr(!1)),He(r,19,ws(0)),u&&He(r,431,Nr(!1)),u&&He(r,444,ws(0)),He(r,61,lz()),He(r,64,Nr(!1)),He(r,141,ws(0)),He(r,34,Nr(PG(t)=="true")),He(r,14,Nr(!0)),u&&He(r,439,Nr(!1)),He(r,218,ws(0)),xK(r,t,n),vK(r,t.SSF,n),_K(r,n),u&&He(r,352,Nr(!1));var m=r.end(),x=zr();u&&He(x,140,Tz()),u&&n.Strings&&hK(x,252,oz(n.Strings)),He(x,10);var v=x.end(),_=zr(),A=0,w=0;for(w=0;w<t.SheetNames.length;++w)A+=(u?12:11)+(u?2:1)*t.SheetNames[w].length;var N=m.length+A+v.length;for(w=0;w<t.SheetNames.length;++w){var M=i[w]||{};He(_,133,az({pos:N,hs:M.Hidden||0,dt:0,name:t.SheetNames[w]},n)),N+=e[w].length}var j=_.end();if(A!=j.length)throw new Error("BS8 "+A+" != "+j.length);var O=[];return m.length&&O.push(m),j.length&&O.push(j),v.length&&O.push(v),nr(O)}function NK(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=$r(pn)),t&&t.SSF&&(_m(),ym(t.SSF),n.revssf=wm(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,Yv(n),n.cellXfs=[],xo(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var s=0;s<t.SheetNames.length;++s)r[r.length]=SK(s,n,t);return r.unshift(bK(t,r,n)),nr(r)}function sI(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var s=is(r["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var i=e||{};switch(i.biff||2){case 8:case 5:return NK(t,e);case 4:case 3:case 2:return gK(t,e)}throw new Error("invalid type "+i.bookType+" for BIFF")}function AK(t,e,n,r){for(var s=t["!merges"]||[],i=[],o=e.s.c;o<=e.e.c;++o){for(var u=0,h=0,f=0;f<s.length;++f)if(!(s[f].s.r>n||s[f].s.c>o)&&!(s[f].e.r<n||s[f].e.c<o)){if(s[f].s.r<n||s[f].s.c<o){u=-1;break}u=s[f].e.r-s[f].s.r+1,h=s[f].e.c-s[f].s.c+1;break}if(!(u<0)){var m=Ut({r:n,c:o}),x=r.dense?(t[n]||[])[o]:t[m],v=x&&x.v!=null&&(x.h||sB(x.w||(da(x),x.w)||""))||"",_={};u>1&&(_.rowspan=u),h>1&&(_.colspan=h),r.editable?v='<span contenteditable="true">'+v+"</span>":x&&(_["data-t"]=x&&x.t||"z",x.v!=null&&(_["data-v"]=x.v),x.z!=null&&(_["data-z"]=x.z),x.l&&(x.l.Target||"#").charAt(0)!="#"&&(v='<a href="'+x.l.Target+'">'+v+"</a>")),_.id=(r.id||"sjs")+"-"+m,i.push(Be("td",v,_))}}var A="<tr>";return A+i.join("")+"</tr>"}var CK='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',IK="</body></html>";function PK(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function iI(t,e){var n=e||{},r=n.header!=null?n.header:CK,s=n.footer!=null?n.footer:IK,i=[r],o=is(t["!ref"]);n.dense=Array.isArray(t),i.push(PK(t,o,n));for(var u=o.s.r;u<=o.e.r;++u)i.push(AK(t,o,u,n));return i.push("</table>"+s),i.join("")}function aI(t,e,n){var r=n||{},s=0,i=0;if(r.origin!=null)if(typeof r.origin=="number")s=r.origin;else{var o=typeof r.origin=="string"?$n(r.origin):r.origin;s=o.r,i=o.c}var u=e.getElementsByTagName("tr"),h=Math.min(r.sheetRows||1e7,u.length),f={s:{r:0,c:0},e:{r:s,c:i}};if(t["!ref"]){var m=is(t["!ref"]);f.s.r=Math.min(f.s.r,m.s.r),f.s.c=Math.min(f.s.c,m.s.c),f.e.r=Math.max(f.e.r,m.e.r),f.e.c=Math.max(f.e.c,m.e.c),s==-1&&(f.e.r=s=m.e.r+1)}var x=[],v=0,_=t["!rows"]||(t["!rows"]=[]),A=0,w=0,N=0,M=0,j=0,O=0;for(t["!cols"]||(t["!cols"]=[]);A<u.length&&w<h;++A){var z=u[A];if(GT(z)){if(r.display)continue;_[w]={hidden:!0}}var ne=z.children;for(N=M=0;N<ne.length;++N){var re=ne[N];if(!(r.display&&GT(re))){var P=re.hasAttribute("data-v")?re.getAttribute("data-v"):re.hasAttribute("v")?re.getAttribute("v"):lB(re.innerHTML),T=re.getAttribute("data-z")||re.getAttribute("z");for(v=0;v<x.length;++v){var b=x[v];b.s.c==M+i&&b.s.r<w+s&&w+s<=b.e.r&&(M=b.e.c+1-i,v=-1)}O=+re.getAttribute("colspan")||1,((j=+re.getAttribute("rowspan")||1)>1||O>1)&&x.push({s:{r:w+s,c:M+i},e:{r:w+s+(j||1)-1,c:M+i+(O||1)-1}});var R={t:"s",v:P},I=re.getAttribute("data-t")||re.getAttribute("t")||"";P!=null&&(P.length==0?R.t=I||"z":r.raw||P.trim().length==0||I=="s"||(P==="TRUE"?R={t:"b",v:!0}:P==="FALSE"?R={t:"b",v:!1}:isNaN(ta(P))?isNaN(Dh(P).getDate())||(R={t:"d",v:Ir(P)},r.cellDates||(R={t:"n",v:Hr(R.v)}),R.z=r.dateNF||pn[14]):R={t:"n",v:ta(P)})),R.z===void 0&&T!=null&&(R.z=T);var L="",k=re.getElementsByTagName("A");if(k&&k.length)for(var Ae=0;Ae<k.length&&!(k[Ae].hasAttribute("href")&&(L=k[Ae].getAttribute("href"),L.charAt(0)!="#"));++Ae);L&&L.charAt(0)!="#"&&(R.l={Target:L}),r.dense?(t[w+s]||(t[w+s]=[]),t[w+s][M+i]=R):t[Ut({c:M+i,r:w+s})]=R,f.e.c<M+i&&(f.e.c=M+i),M+=O}}++w}return x.length&&(t["!merges"]=(t["!merges"]||[]).concat(x)),f.e.r=Math.max(f.e.r,w-1+s),t["!ref"]=Cn(f),w>=h&&(t["!fullref"]=Cn((f.e.r=u.length-A+w-1+s,f))),t}function oI(t,e){var n=e||{},r=n.dense?[]:{};return aI(r,t,e)}function kK(t,e){return xl(oI(t,e),e)}function GT(t){var e="",n=RK(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function RK(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var DK=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Oh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return In+e}}(),KT=function(){var t=function(i){return Lt(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(i,o,u){var h=[];h.push('      <table:table table:name="'+Lt(o.SheetNames[u])+`" table:style-name="ta1">
`);var f=0,m=0,x=is(i["!ref"]||"A1"),v=i["!merges"]||[],_=0,A=Array.isArray(i);if(i["!cols"])for(m=0;m<=x.e.c;++m)h.push("        <table:table-column"+(i["!cols"][m]?' table:style-name="co'+i["!cols"][m].ods+'"':"")+`></table:table-column>
`);var w="",N=i["!rows"]||[];for(f=0;f<x.s.r;++f)w=N[f]?' table:style-name="ro'+N[f].ods+'"':"",h.push("        <table:table-row"+w+`></table:table-row>
`);for(;f<=x.e.r;++f){for(w=N[f]?' table:style-name="ro'+N[f].ods+'"':"",h.push("        <table:table-row"+w+`>
`),m=0;m<x.s.c;++m)h.push(e);for(;m<=x.e.c;++m){var M=!1,j={},O="";for(_=0;_!=v.length;++_)if(!(v[_].s.c>m)&&!(v[_].s.r>f)&&!(v[_].e.c<m)&&!(v[_].e.r<f)){(v[_].s.c!=m||v[_].s.r!=f)&&(M=!0),j["table:number-columns-spanned"]=v[_].e.c-v[_].s.c+1,j["table:number-rows-spanned"]=v[_].e.r-v[_].s.r+1;break}if(M){h.push(n);continue}var z=Ut({r:f,c:m}),ne=A?(i[f]||[])[m]:i[z];if(ne&&ne.f&&(j["table:formula"]=Lt(Z$(ne.f)),ne.F&&ne.F.slice(0,z.length)==z)){var re=is(ne.F);j["table:number-matrix-columns-spanned"]=re.e.c-re.s.c+1,j["table:number-matrix-rows-spanned"]=re.e.r-re.s.r+1}if(!ne){h.push(e);continue}switch(ne.t){case"b":O=ne.v?"TRUE":"FALSE",j["office:value-type"]="boolean",j["office:boolean-value"]=ne.v?"true":"false";break;case"n":O=ne.w||String(ne.v||0),j["office:value-type"]="float",j["office:value"]=ne.v||0;break;case"s":case"str":O=ne.v==null?"":ne.v,j["office:value-type"]="string";break;case"d":O=ne.w||Ir(ne.v).toISOString(),j["office:value-type"]="date",j["office:date-value"]=Ir(ne.v).toISOString(),j["table:style-name"]="ce1";break;default:h.push(e);continue}var P=t(O);if(ne.l&&ne.l.Target){var T=ne.l.Target;T=T.charAt(0)=="#"?"#"+eW(T.slice(1)):T,T.charAt(0)!="#"&&!T.match(/^\w+:/)&&(T="../"+T),P=Be("text:a",P,{"xlink:href":T.replace(/&/g,"&amp;")})}h.push("          "+Be("table:table-cell",Be("text:p",P,{}),j)+`
`)}h.push(`        </table:table-row>
`)}return h.push(`      </table:table>
`),h.join("")},s=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var u=0;o.SheetNames.map(function(f){return o.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var m=0;m<f["!cols"].length;++m)if(f["!cols"][m]){var x=f["!cols"][m];if(x.width==null&&x.wpx==null&&x.wch==null)continue;Wv(x),x.ods=u;var v=f["!cols"][m].wpx+"px";i.push('  <style:style style:name="co'+u+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+v+`"/>
`),i.push(`  </style:style>
`),++u}}});var h=0;o.SheetNames.map(function(f){return o.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var m=0;m<f["!rows"].length;++m)if(f["!rows"][m]){f["!rows"][m].ods=h;var x=f["!rows"][m].hpx+"px";i.push('  <style:style style:name="ro'+h+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+x+`"/>
`),i.push(`  </style:style>
`),++h}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,u){var h=[In],f=Oh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),m=Oh({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});u.bookType=="fods"?(h.push("<office:document"+f+m+`>
`),h.push(EC().replace(/office:document-meta/g,"office:meta"))):h.push("<office:document-content"+f+`>
`),s(h,o),h.push(`  <office:body>
`),h.push(`    <office:spreadsheet>
`);for(var x=0;x!=o.SheetNames.length;++x)h.push(r(o.Sheets[o.SheetNames[x]],o,x));return h.push(`    </office:spreadsheet>
`),h.push(`  </office:body>
`),u.bookType=="fods"?h.push("</office:document>"):h.push("</office:document-content>"),h.join("")}}();function lI(t,e){if(e.bookType=="fods")return KT(t,e);var n=jv(),r="",s=[],i=[];return r="mimetype",vt(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",vt(n,r,KT(t,e)),s.push([r,"text/xml"]),i.push([r,"ContentFile"]),r="styles.xml",vt(n,r,DK(t,e)),s.push([r,"text/xml"]),i.push([r,"StylesFile"]),r="meta.xml",vt(n,r,In+EC()),s.push([r,"text/xml"]),i.push([r,"MetadataFile"]),r="manifest.rdf",vt(n,r,WB(i)),s.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",vt(n,r,HB(s)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function L0(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function jK(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Ws(jh(t))}function OK(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function mo(t){var e=t.reduce(function(s,i){return s+i.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(s){n.set(s,r),r+=s.length}),n}function FK(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,s=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var i=0;s>=1;++i,s/=256)t[e+i]=s&255;t[e+15]|=n>=0?0:128}function Fh(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function Ot(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function Ec(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function jn(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],s=Fh(t,n),i=s&7;s=Math.floor(s/8);var o=0,u;if(s==0)break;switch(i){case 0:{for(var h=n[0];t[n[0]++]>=128;);u=t.slice(h,n[0])}break;case 5:o=4,u=t.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,u=t.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=Fh(t,n),u=t.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(r))}var f={data:u,type:i};e[s]==null?e[s]=[f]:e[s].push(f)}return e}function Qn(t){var e=[];return t.forEach(function(n,r){n.forEach(function(s){s.data&&(e.push(Ot(r*8+s.type)),s.type==2&&e.push(Ot(s.data.length)),e.push(s.data))})}),mo(e)}function zs(t){for(var e,n=[],r=[0];r[0]<t.length;){var s=Fh(t,r),i=jn(t.slice(r[0],r[0]+s));r[0]+=s;var o={id:Ec(i[1][0].data),messages:[]};i[2].forEach(function(u){var h=jn(u.data),f=Ec(h[3][0].data);o.messages.push({meta:h,data:t.slice(r[0],r[0]+f)}),r[0]+=f}),(e=i[3])!=null&&e[0]&&(o.merge=Ec(i[3][0].data)>>>0>0),n.push(o)}return n}function nc(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:Ot(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:Ot(+!!n.merge),type:0}]);var s=[];n.messages.forEach(function(o){s.push(o.data),o.meta[3]=[{type:0,data:Ot(o.data.length)}],r[2].push({data:Qn(o.meta),type:2})});var i=Qn(r);e.push(Ot(i.length)),e.push(i),s.forEach(function(o){return e.push(o)})}),mo(e)}function MK(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=Fh(e,n),s=[];n[0]<e.length;){var i=e[n[0]]&3;if(i==0){var o=e[n[0]++]>>2;if(o<60)++o;else{var u=o-59;o=e[n[0]],u>1&&(o|=e[n[0]+1]<<8),u>2&&(o|=e[n[0]+2]<<16),u>3&&(o|=e[n[0]+3]<<24),o>>>=0,o++,n[0]+=u}s.push(e.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var h=0,f=0;if(i==1?(f=(e[n[0]]>>2&7)+4,h=(e[n[0]++]&224)<<3,h|=e[n[0]++]):(f=(e[n[0]++]>>2)+1,i==2?(h=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(h=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),s=[mo(s)],h==0)throw new Error("Invalid offset 0");if(h>s[0].length)throw new Error("Invalid offset beyond length");if(f>=h)for(s.push(s[0].slice(-h)),f-=h;f>=s[s.length-1].length;)s.push(s[s.length-1]),f-=s[s.length-1].length;s.push(s[0].slice(-h,-h+f))}}var m=mo(s);if(m.length!=r)throw new Error("Unexpected length: ".concat(m.length," != ").concat(r));return m}function Hs(t){for(var e=[],n=0;n<t.length;){var r=t[n++],s=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(MK(r,t.slice(n,n+s))),n+=s}if(n!==t.length)throw new Error("data is not a valid framed stream!");return mo(e)}function rc(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),s=new Uint8Array(4);e.push(s);var i=Ot(r),o=i.length;e.push(i),r<=60?(o++,e.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),o+=r,s[0]=0,s[1]=o&255,s[2]=o>>8&255,s[3]=o>>16&255,n+=r}return mo(e)}function Vg(t,e){var n=new Uint8Array(32),r=L0(n),s=12,i=0;switch(n[0]=5,t.t){case"n":n[1]=2,FK(n,s,t.v),i|=1,s+=16;break;case"b":n[1]=6,r.setFloat64(s,t.v?1:0,!0),i|=2,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(s,e.indexOf(t.v),!0),i|=8,s+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,i,!0),n.slice(0,s)}function Ug(t,e){var n=new Uint8Array(32),r=L0(n),s=12,i=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(s,t.v,!0),i|=32,s+=8;break;case"b":n[2]=6,r.setFloat64(s,t.v?1:0,!0),i|=32,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(s,e.indexOf(t.v),!0),i|=16,s+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,i,!0),n.slice(0,s)}function Wa(t){var e=jn(t);return Fh(e[1][0].data)}function LK(t,e,n){var r,s,i,o;if(!((r=t[6])!=null&&r[0])||!((s=t[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var u=((o=(i=t[8])==null?void 0:i[0])==null?void 0:o.data)&&Ec(t[8][0].data)>0||!1;if(u)throw"Math only works with normal offsets";for(var h=0,f=L0(t[7][0].data),m=0,x=[],v=L0(t[4][0].data),_=0,A=[],w=0;w<e.length;++w){if(e[w]==null){f.setUint16(w*2,65535,!0),v.setUint16(w*2,65535);continue}f.setUint16(w*2,m,!0),v.setUint16(w*2,_,!0);var N,M;switch(typeof e[w]){case"string":N=Vg({t:"s",v:e[w]},n),M=Ug({t:"s",v:e[w]},n);break;case"number":N=Vg({t:"n",v:e[w]},n),M=Ug({t:"n",v:e[w]},n);break;case"boolean":N=Vg({t:"b",v:e[w]},n),M=Ug({t:"b",v:e[w]},n);break;default:throw new Error("Unsupported value "+e[w])}x.push(N),m+=N.length,A.push(M),_+=M.length,++h}for(t[2][0].data=Ot(h);w<t[7][0].data.length/2;++w)f.setUint16(w*2,65535,!0),v.setUint16(w*2,65535,!0);return t[6][0].data=mo(x),t[3][0].data=mo(A),h}function VK(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=is(n["!ref"]);r.s.r=r.s.c=0;var s=!1;r.e.c>9&&(s=!0,r.e.c=9),r.e.r>49&&(s=!0,r.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(Cn(r)));var i=V0(n,{range:r,header:1}),o=["~Sh33tJ5~"];i.forEach(function(Y){return Y.forEach(function(X){typeof X=="string"&&o.push(X)})});var u={},h=[],f=Bt.read(e.numbers,{type:"base64"});f.FileIndex.map(function(Y,X){return[Y,f.FullPaths[X]]}).forEach(function(Y){var X=Y[0],J=Y[1];if(X.type==2&&X.name.match(/\.iwa/)){var fe=X.content,Ie=Hs(fe),Z=zs(Ie);Z.forEach(function(ge){h.push(ge.id),u[ge.id]={deps:[],location:J,type:Ec(ge.messages[0].meta[1][0].data)}})}}),h.sort(function(Y,X){return Y-X});var m=h.filter(function(Y){return Y>1}).map(function(Y){return[Y,Ot(Y)]});f.FileIndex.map(function(Y,X){return[Y,f.FullPaths[X]]}).forEach(function(Y){var X=Y[0];if(Y[1],!!X.name.match(/\.iwa/)){var J=zs(Hs(X.content));J.forEach(function(fe){fe.messages.forEach(function(Ie){m.forEach(function(Z){fe.messages.some(function(ge){return Ec(ge.meta[1][0].data)!=11006&&OK(ge.data,Z[1])})&&u[Z[0]].deps.push(fe.id)})})})}});for(var x=Bt.find(f,u[1].location),v=zs(Hs(x.content)),_,A=0;A<v.length;++A){var w=v[A];w.id==1&&(_=w)}var N=Wa(jn(_.messages[0].data)[1][0].data);for(x=Bt.find(f,u[N].location),v=zs(Hs(x.content)),A=0;A<v.length;++A)w=v[A],w.id==N&&(_=w);for(N=Wa(jn(_.messages[0].data)[2][0].data),x=Bt.find(f,u[N].location),v=zs(Hs(x.content)),A=0;A<v.length;++A)w=v[A],w.id==N&&(_=w);for(N=Wa(jn(_.messages[0].data)[2][0].data),x=Bt.find(f,u[N].location),v=zs(Hs(x.content)),A=0;A<v.length;++A)w=v[A],w.id==N&&(_=w);var M=jn(_.messages[0].data);{M[6][0].data=Ot(r.e.r+1),M[7][0].data=Ot(r.e.c+1);var j=Wa(M[46][0].data),O=Bt.find(f,u[j].location),z=zs(Hs(O.content));{for(var ne=0;ne<z.length&&z[ne].id!=j;++ne);if(z[ne].id!=j)throw"Bad ColumnRowUIDMapArchive";var re=jn(z[ne].messages[0].data);re[1]=[],re[2]=[],re[3]=[];for(var P=0;P<=r.e.c;++P){var T=[];T[1]=T[2]=[{type:0,data:Ot(P+420690)}],re[1].push({type:2,data:Qn(T)}),re[2].push({type:0,data:Ot(P)}),re[3].push({type:0,data:Ot(P)})}re[4]=[],re[5]=[],re[6]=[];for(var b=0;b<=r.e.r;++b)T=[],T[1]=T[2]=[{type:0,data:Ot(b+726270)}],re[4].push({type:2,data:Qn(T)}),re[5].push({type:0,data:Ot(b)}),re[6].push({type:0,data:Ot(b)});z[ne].messages[0].data=Qn(re)}O.content=rc(nc(z)),O.size=O.content.length,delete M[46];var R=jn(M[4][0].data);{R[7][0].data=Ot(r.e.r+1);var I=jn(R[1][0].data),L=Wa(I[2][0].data);O=Bt.find(f,u[L].location),z=zs(Hs(O.content));{if(z[0].id!=L)throw"Bad HeaderStorageBucket";var k=jn(z[0].messages[0].data);for(b=0;b<i.length;++b){var Ae=jn(k[2][0].data);Ae[1][0].data=Ot(b),Ae[4][0].data=Ot(i[b].length),k[2][b]={type:k[2][0].type,data:Qn(Ae)}}z[0].messages[0].data=Qn(k)}O.content=rc(nc(z)),O.size=O.content.length;var Ce=Wa(R[2][0].data);O=Bt.find(f,u[Ce].location),z=zs(Hs(O.content));{if(z[0].id!=Ce)throw"Bad HeaderStorageBucket";for(k=jn(z[0].messages[0].data),P=0;P<=r.e.c;++P)Ae=jn(k[2][0].data),Ae[1][0].data=Ot(P),Ae[4][0].data=Ot(r.e.r+1),k[2][P]={type:k[2][0].type,data:Qn(Ae)};z[0].messages[0].data=Qn(k)}O.content=rc(nc(z)),O.size=O.content.length;var Ue=Wa(R[4][0].data);(function(){for(var Y=Bt.find(f,u[Ue].location),X=zs(Hs(Y.content)),J,fe=0;fe<X.length;++fe){var Ie=X[fe];Ie.id==Ue&&(J=Ie)}var Z=jn(J.messages[0].data);{Z[3]=[];var ge=[];o.forEach(function(Qe,xt){ge[1]=[{type:0,data:Ot(xt)}],ge[2]=[{type:0,data:Ot(1)}],ge[3]=[{type:2,data:jK(Qe)}],Z[3].push({type:2,data:Qn(ge)})})}J.messages[0].data=Qn(Z);var pe=nc(X),Se=rc(pe);Y.content=Se,Y.size=Y.content.length})();var Re=jn(R[3][0].data);{var ae=Re[1][0];delete Re[2];var _e=jn(ae.data);{var Ee=Wa(_e[2][0].data);(function(){for(var Y=Bt.find(f,u[Ee].location),X=zs(Hs(Y.content)),J,fe=0;fe<X.length;++fe){var Ie=X[fe];Ie.id==Ee&&(J=Ie)}var Z=jn(J.messages[0].data);{delete Z[6],delete Re[7];var ge=new Uint8Array(Z[5][0].data);Z[5]=[];for(var pe=0,Se=0;Se<=r.e.r;++Se){var Qe=jn(ge);pe+=LK(Qe,i[Se],o),Qe[1][0].data=Ot(Se),Z[5].push({data:Qn(Qe),type:2})}Z[1]=[{type:0,data:Ot(r.e.c+1)}],Z[2]=[{type:0,data:Ot(r.e.r+1)}],Z[3]=[{type:0,data:Ot(pe)}],Z[4]=[{type:0,data:Ot(r.e.r+1)}]}J.messages[0].data=Qn(Z);var xt=nc(X),lt=rc(xt);Y.content=lt,Y.size=Y.content.length})()}ae.data=Qn(_e)}R[3][0].data=Qn(Re)}M[4][0].data=Qn(R)}_.messages[0].data=Qn(M);var W=nc(v),V=rc(W);return x.content=V,x.size=x.content.length,f}function UK(t){return function(n){for(var r=0;r!=t.length;++r){var s=t[r];n[s[0]]===void 0&&(n[s[0]]=s[1]),s[2]==="n"&&(n[s[0]]=Number(n[s[0]]))}}}function Yv(t){UK([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function BK(t,e){return e.bookType=="ods"?lI(t,e):e.bookType=="numbers"?VK(t,e):e.bookType=="xlsb"?zK(t,e):HK(t,e)}function zK(t,e){mc=1024,t&&!t.SSF&&(t.SSF=$r(pn)),t&&t.SSF&&(_m(),ym(t.SSF),e.revssf=wm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,uh?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=$C.indexOf(e.bookType)>-1,s=yC();Yv(e=e||{});var i=jv(),o="",u=0;if(e.cellXfs=[],xo(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",vt(i,o,TC(t.Props,e)),s.coreprops.push(o),Ft(e.rels,2,o,Ct.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var h=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&h.push(t.SheetNames[f]);t.Props.SheetNames=h}for(t.Props.Worksheets=t.Props.SheetNames.length,vt(i,o,bC(t.Props)),s.extprops.push(o),Ft(e.rels,3,o,Ct.EXT_PROPS),t.Custprops!==t.Props&&or(t.Custprops||{}).length>0&&(o="docProps/custom.xml",vt(i,o,NC(t.Custprops)),s.custprops.push(o),Ft(e.rels,4,o,Ct.CUST_PROPS)),u=1;u<=t.SheetNames.length;++u){var m={"!id":{}},x=t.Sheets[t.SheetNames[u-1]],v=(x||{})["!type"]||"sheet";switch(v){case"chart":default:o="xl/worksheets/sheet"+u+"."+n,vt(i,o,WG(u-1,o,e,t,m)),s.sheets.push(o),Ft(e.wbrels,-1,"worksheets/sheet"+u+"."+n,Ct.WS[0])}if(x){var _=x["!comments"],A=!1,w="";_&&_.length>0&&(w="xl/comments"+u+"."+n,vt(i,w,qG(_,w)),s.comments.push(w),Ft(m,-1,"../comments"+u+"."+n,Ct.CMNT),A=!0),x["!legacy"]&&A&&vt(i,"xl/drawings/vmlDrawing"+u+".vml",zC(u,x["!comments"])),delete x["!comments"],delete x["!legacy"]}m["!id"].rId1&&vt(i,wC(o),_c(m))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+n,vt(i,o,KG(e.Strings,o,e)),s.strs.push(o),Ft(e.wbrels,-1,"sharedStrings."+n,Ct.SST)),o="xl/workbook."+n,vt(i,o,$G(t,o)),s.workbooks.push(o),Ft(e.rels,1,o,Ct.WB),o="xl/theme/theme1.xml",vt(i,o,UC(t.Themes,e)),s.themes.push(o),Ft(e.wbrels,-1,"theme/theme1.xml",Ct.THEME),o="xl/styles."+n,vt(i,o,GG(t,o,e)),s.styles.push(o),Ft(e.wbrels,-1,"styles."+n,Ct.STY),t.vbaraw&&r&&(o="xl/vbaProject.bin",vt(i,o,t.vbaraw),s.vba.push(o),Ft(e.wbrels,-1,"vbaProject.bin",Ct.VBA)),o="xl/metadata."+n,vt(i,o,XG(o)),s.metadata.push(o),Ft(e.wbrels,-1,"metadata."+n,Ct.XLMETA),vt(i,"[Content_Types].xml",_C(s,e)),vt(i,"_rels/.rels",_c(e.rels)),vt(i,"xl/_rels/workbook."+n+".rels",_c(e.wbrels)),delete e.revssf,delete e.ssf,i}function HK(t,e){mc=1024,t&&!t.SSF&&(t.SSF=$r(pn)),t&&t.SSF&&(_m(),ym(t.SSF),e.revssf=wm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,uh?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=$C.indexOf(e.bookType)>-1,s=yC();Yv(e=e||{});var i=jv(),o="",u=0;if(e.cellXfs=[],xo(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",vt(i,o,TC(t.Props,e)),s.coreprops.push(o),Ft(e.rels,2,o,Ct.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var h=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&h.push(t.SheetNames[f]);t.Props.SheetNames=h}t.Props.Worksheets=t.Props.SheetNames.length,vt(i,o,bC(t.Props)),s.extprops.push(o),Ft(e.rels,3,o,Ct.EXT_PROPS),t.Custprops!==t.Props&&or(t.Custprops||{}).length>0&&(o="docProps/custom.xml",vt(i,o,NC(t.Custprops)),s.custprops.push(o),Ft(e.rels,4,o,Ct.CUST_PROPS));var m=["SheetJ5"];for(e.tcid=0,u=1;u<=t.SheetNames.length;++u){var x={"!id":{}},v=t.Sheets[t.SheetNames[u-1]],_=(v||{})["!type"]||"sheet";switch(_){case"chart":default:o="xl/worksheets/sheet"+u+"."+n,vt(i,o,ZC(u-1,e,t,x)),s.sheets.push(o),Ft(e.wbrels,-1,"worksheets/sheet"+u+"."+n,Ct.WS[0])}if(v){var A=v["!comments"],w=!1,N="";if(A&&A.length>0){var M=!1;A.forEach(function(j){j[1].forEach(function(O){O.T==!0&&(M=!0)})}),M&&(N="xl/threadedComments/threadedComment"+u+"."+n,vt(i,N,_H(A,m,e)),s.threadedcomments.push(N),Ft(x,-1,"../threadedComments/threadedComment"+u+"."+n,Ct.TCMNT)),N="xl/comments"+u+"."+n,vt(i,N,HC(A)),s.comments.push(N),Ft(x,-1,"../comments"+u+"."+n,Ct.CMNT),w=!0}v["!legacy"]&&w&&vt(i,"xl/drawings/vmlDrawing"+u+".vml",zC(u,v["!comments"])),delete v["!comments"],delete v["!legacy"]}x["!id"].rId1&&vt(i,wC(o),_c(x))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+n,vt(i,o,jC(e.Strings,e)),s.strs.push(o),Ft(e.wbrels,-1,"sharedStrings."+n,Ct.SST)),o="xl/workbook."+n,vt(i,o,nI(t)),s.workbooks.push(o),Ft(e.rels,1,o,Ct.WB),o="xl/theme/theme1.xml",vt(i,o,UC(t.Themes,e)),s.themes.push(o),Ft(e.wbrels,-1,"theme/theme1.xml",Ct.THEME),o="xl/styles."+n,vt(i,o,LC(t,e)),s.styles.push(o),Ft(e.wbrels,-1,"styles."+n,Ct.STY),t.vbaraw&&r&&(o="xl/vbaProject.bin",vt(i,o,t.vbaraw),s.vba.push(o),Ft(e.wbrels,-1,"vbaProject.bin",Ct.VBA)),o="xl/metadata."+n,vt(i,o,BC()),s.metadata.push(o),Ft(e.wbrels,-1,"metadata."+n,Ct.XLMETA),m.length>1&&(o="xl/persons/person.xml",vt(i,o,wH(m)),s.people.push(o),Ft(e.wbrels,-1,"persons/person.xml",Ct.PEOPLE)),vt(i,"[Content_Types].xml",_C(s,e)),vt(i,"_rels/.rels",_c(e.rels)),vt(i,"xl/_rels/workbook."+n+".rels",_c(e.wbrels)),delete e.revssf,delete e.ssf,i}function $K(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=ha(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function cI(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return sd(e.file,Bt.write(t,{type:kt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Bt.write(t,e)}function WK(t,e){var n=$r(e||{}),r=BK(t,n);return GK(r,n)}function GK(t,e){var n={},r=kt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var s=t.FullPaths?Bt.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof s=="string"){if(e.type=="binary"||e.type=="base64")return s;s=new Uint8Array(vm(s))}return e.password&&typeof encrypt_agile<"u"?cI(encrypt_agile(s,e.password),e):e.type==="file"?sd(e.file,s):e.type=="string"?ah(s):s}function KK(t,e){var n=e||{},r=cK(t,n);return cI(r,n)}function mi(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return Rh(jh(r));case"binary":return jh(r);case"string":return t;case"file":return sd(e.file,r,"utf8");case"buffer":return kt?pa(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):mi(r,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function qK(t,e){switch(e.type){case"base64":return Rh(t);case"binary":return t;case"string":return t;case"file":return sd(e.file,t,"binary");case"buffer":return kt?pa(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Ff(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?Rh(n):e.type=="string"?ah(n):n;case"file":return sd(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function uI(t,e){E7(),DG(t);var n=$r(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=uI(t,n);return n.type="array",vm(r)}var s=0;if(n.sheet&&(typeof n.sheet=="number"?s=n.sheet:s=t.SheetNames.indexOf(n.sheet),!t.SheetNames[s]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return mi(oK(t,n),n);case"slk":case"sylk":return mi(Pz.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"htm":case"html":return mi(iI(t.Sheets[t.SheetNames[s]],n),n);case"txt":return qK(dI(t.Sheets[t.SheetNames[s]],n),n);case"csv":return mi(Qv(t.Sheets[t.SheetNames[s]],n),n,"\uFEFF");case"dif":return mi(kz.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"dbf":return Ff(Iz.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"prn":return mi(Rz.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"rtf":return mi(Vz.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"eth":return mi(DC.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"fods":return mi(lI(t,n),n);case"wk1":return Ff(UT.sheet_to_wk1(t.Sheets[t.SheetNames[s]],n),n);case"wk3":return Ff(UT.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),Ff(sI(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),KK(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return WK(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function XK(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function hI(t,e,n){var r={};return r.type="file",r.file=e,XK(r),uI(t,r)}function YK(t,e,n,r,s,i,o,u){var h=ir(n),f=u.defval,m=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),x=!0,v=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(v,"__rowNum__",{value:n,enumerable:!1})}catch{v.__rowNum__=n}else v.__rowNum__=n;if(!o||t[n])for(var _=e.s.c;_<=e.e.c;++_){var A=o?t[n][_]:t[r[_]+h];if(A===void 0||A.t===void 0){if(f===void 0)continue;i[_]!=null&&(v[i[_]]=f);continue}var w=A.v;switch(A.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+A.t)}if(i[_]!=null){if(w==null)if(A.t=="e"&&w===null)v[i[_]]=null;else if(f!==void 0)v[i[_]]=f;else if(m&&w===null)v[i[_]]=null;else continue;else v[i[_]]=m&&(A.t!=="n"||A.t==="n"&&u.rawNumbers!==!1)?w:da(A,w,u);w!=null&&(x=!1)}}return{row:v,isempty:x}}function V0(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,s=1,i=[],o=0,u="",h={s:{r:0,c:0},e:{r:0,c:0}},f=e||{},m=f.range!=null?f.range:t["!ref"];switch(f.header===1?r=1:f.header==="A"?r=2:Array.isArray(f.header)?r=3:f.header==null&&(r=0),typeof m){case"string":h=Zt(m);break;case"number":h=Zt(t["!ref"]),h.s.r=m;break;default:h=m}r>0&&(s=0);var x=ir(h.s.r),v=[],_=[],A=0,w=0,N=Array.isArray(t),M=h.s.r,j=0,O={};N&&!t[M]&&(t[M]=[]);var z=f.skipHidden&&t["!cols"]||[],ne=f.skipHidden&&t["!rows"]||[];for(j=h.s.c;j<=h.e.c;++j)if(!(z[j]||{}).hidden)switch(v[j]=xr(j),n=N?t[M][j]:t[v[j]+x],r){case 1:i[j]=j-h.s.c;break;case 2:i[j]=v[j];break;case 3:i[j]=f.header[j-h.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),u=o=da(n,null,f),w=O[o]||0,!w)O[o]=1;else{do u=o+"_"+w++;while(O[u]);O[o]=w,O[u]=1}i[j]=u}for(M=h.s.r+s;M<=h.e.r;++M)if(!(ne[M]||{}).hidden){var re=YK(t,h,M,v,r,i,N,f);(re.isempty===!1||(r===1?f.blankrows!==!1:f.blankrows))&&(_[A++]=re.row)}return _.length=A,_}var qT=/"/g;function QK(t,e,n,r,s,i,o,u){for(var h=!0,f=[],m="",x=ir(n),v=e.s.c;v<=e.e.c;++v)if(r[v]){var _=u.dense?(t[n]||[])[v]:t[r[v]+x];if(_==null)m="";else if(_.v!=null){h=!1,m=""+(u.rawNumbers&&_.t=="n"?_.v:da(_,null,u));for(var A=0,w=0;A!==m.length;++A)if((w=m.charCodeAt(A))===s||w===i||w===34||u.forceQuotes){m='"'+m.replace(qT,'""')+'"';break}m=="ID"&&(m='"ID"')}else _.f!=null&&!_.F?(h=!1,m="="+_.f,m.indexOf(",")>=0&&(m='"'+m.replace(qT,'""')+'"')):m="";f.push(m)}return u.blankrows===!1&&h?null:f.join(o)}function Qv(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var s=Zt(t["!ref"]),i=r.FS!==void 0?r.FS:",",o=i.charCodeAt(0),u=r.RS!==void 0?r.RS:`
`,h=u.charCodeAt(0),f=new RegExp((i=="|"?"\\|":i)+"+$"),m="",x=[];r.dense=Array.isArray(t);for(var v=r.skipHidden&&t["!cols"]||[],_=r.skipHidden&&t["!rows"]||[],A=s.s.c;A<=s.e.c;++A)(v[A]||{}).hidden||(x[A]=xr(A));for(var w=0,N=s.s.r;N<=s.e.r;++N)(_[N]||{}).hidden||(m=QK(t,s,N,x,o,h,i,r),m!=null&&(r.strip&&(m=m.replace(f,"")),(m||r.blankrows!==!1)&&n.push((w++?u:"")+m)));return delete r.dense,n.join("")}function dI(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=Qv(t,e);return n}function JK(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var s=Zt(t["!ref"]),i="",o=[],u,h=[],f=Array.isArray(t);for(u=s.s.c;u<=s.e.c;++u)o[u]=xr(u);for(var m=s.s.r;m<=s.e.r;++m)for(i=ir(m),u=s.s.c;u<=s.e.c;++u)if(e=o[u]+i,n=f?(t[m]||[])[u]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}h[h.length]=e+"="+r}return h}function fI(t,e,n){var r=n||{},s=+!r.skipHeader,i=t||{},o=0,u=0;if(i&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var h=typeof r.origin=="string"?$n(r.origin):r.origin;o=h.r,u=h.c}var f,m={s:{c:0,r:0},e:{c:u,r:o+e.length-1+s}};if(i["!ref"]){var x=Zt(i["!ref"]);m.e.c=Math.max(m.e.c,x.e.c),m.e.r=Math.max(m.e.r,x.e.r),o==-1&&(o=x.e.r+1,m.e.r=o+e.length-1+s)}else o==-1&&(o=0,m.e.r=e.length-1+s);var v=r.header||[],_=0;e.forEach(function(w,N){or(w).forEach(function(M){(_=v.indexOf(M))==-1&&(v[_=v.length]=M);var j=w[M],O="z",z="",ne=Ut({c:u+_,r:o+N+s});f=Mh(i,ne),j&&typeof j=="object"&&!(j instanceof Date)?i[ne]=j:(typeof j=="number"?O="n":typeof j=="boolean"?O="b":typeof j=="string"?O="s":j instanceof Date?(O="d",r.cellDates||(O="n",j=Hr(j)),z=r.dateNF||pn[14]):j===null&&r.nullError&&(O="e",j=0),f?(f.t=O,f.v=j,delete f.w,delete f.R,z&&(f.z=z)):i[ne]=f={t:O,v:j},z&&(f.z=z))})}),m.e.c=Math.max(m.e.c,u+v.length-1);var A=ir(o);if(s)for(_=0;_<v.length;++_)i[xr(_+u)+A]={t:"s",v:v[_]};return i["!ref"]=Cn(m),i}function ZK(t,e){return fI(null,t,e)}function Mh(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=$n(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Mh(t,Ut(e)):Mh(t,Ut({r:e,c:n||0}))}function eq(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function tq(){return{SheetNames:[],Sheets:{}}}function nq(t,e,n,r){var s=1;if(!n)for(;s<=65535&&t.SheetNames.indexOf(n="Sheet"+s)!=-1;++s,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var i=n.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var o=i&&i[1]||n;for(++s;s<=65535&&t.SheetNames.indexOf(n=o+s)!=-1;++s);}if(tI(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function rq(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=eq(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function sq(t,e){return t.z=e,t}function mI(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function iq(t,e,n){return mI(t,"#"+e,n)}function aq(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function oq(t,e,n,r){for(var s=typeof e!="string"?e:Zt(e),i=typeof e=="string"?e:Cn(e),o=s.s.r;o<=s.e.r;++o)for(var u=s.s.c;u<=s.e.c;++u){var h=Mh(t,o,u);h.t="n",h.F=i,delete h.v,o==s.s.r&&u==s.s.c&&(h.f=n,r&&(h.D=!0))}return t}var Tc={encode_col:xr,encode_row:ir,encode_cell:Ut,encode_range:Cn,decode_col:Uv,decode_row:Vv,split_cell:EB,decode_cell:$n,decode_range:is,format_cell:da,sheet_add_aoa:fC,sheet_add_json:fI,sheet_add_dom:aI,aoa_to_sheet:Zc,json_to_sheet:ZK,table_to_sheet:oI,table_to_book:kK,sheet_to_csv:Qv,sheet_to_txt:dI,sheet_to_json:V0,sheet_to_html:iI,sheet_to_formulae:JK,sheet_to_row_object_array:V0,sheet_get_cell:Mh,book_new:tq,book_append_sheet:nq,book_set_sheet_visibility:rq,cell_set_number_format:sq,cell_set_hyperlink:mI,cell_set_internal_link:iq,cell_add_comment:aq,sheet_set_array_formula:oq,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Bg=t=>{if(!t)return"No registrada";try{return t.seconds?new Date(t.seconds*1e3).toLocaleDateString("es-AR"):t instanceof Date?t.toLocaleDateString("es-AR"):typeof t=="string"?new Date(t).toLocaleDateString("es-AR"):"No registrada"}catch(e){return console.error("Error formateando fecha:",e),"No registrada"}},XT=[{value:"UNCUYO",label:"Universidad Nacional de Cuyo (UNCUYO)"},{value:"UTN",label:"Universidad Tecnológica Nacional (UTN)"},{value:"UM",label:"Universidad de Mendoza (UM)"},{value:"UDA",label:"Universidad del Aconcagua (UDA)"},{value:"UCH",label:"Universidad Champagnat (UCH)"},{value:"Ucongreso",label:"Universidad de Congreso"},{value:"UMaza",label:"Universidad Juan Agustín Maza (UMaza)"},{value:"UCA",label:"Universidad Católica Argentina (UCA)"},{value:"Siglo21",label:"Universidad Siglo 21"},{value:"ITU",label:"Instituto Tecnológico Universitario (ITU - UNCUYO)"},{value:"ESTIM",label:"Instituto de Educación Superior N°9–021 (ESTIM)"},{value:"ITES",label:"Instituto Tecnológico de Educación Superior (ITES)"},{value:"ISEP",label:"Instituto de Seguridad Pública (ISEP)"},{value:"Otra",label:"Otra"}],lq=({availablePlans:t=[]})=>{const[e,n]=ee.useState([]),[r,s]=ee.useState(!0),[i,o]=ee.useState(new Set),[u,h]=ee.useState(1),[f,m]=ee.useState(10),[x,v]=ee.useState({key:"fullName",direction:"asc"}),[_,A]=ee.useState("table"),[w,N]=ee.useState(!1),[M,j]=ee.useState(null),[O,z]=ee.useState(!1),[ne,re]=ee.useState(!1),[P,T]=ee.useState(null),[b,R]=ee.useState(null),[I,L]=ee.useState(!1),[k,Ae]=ee.useState({name:"",university:"",planStatus:"",carrera:"",certificado:"",plan:""}),Ce=ee.useMemo(()=>t.length===0?[{value:"full",label:"Full"},{value:"partime",label:"Part-time"},{value:"diario",label:"Diario"}]:t.map(te=>({value:te.id,label:te.name})),[t]),Ue=te=>te.university||"",Re=te=>{const Le=XT.find(Ke=>Ke.value===te);return Le?Le.label:te},ae=te=>te.membresia?.estado?te.membresia.estado:te.activo===!0?"activa":te.activo===!1?"no pagado":"pendiente",_e=te=>{if(te.membresia?.nombre)return te.membresia.nombre;const Le=t.find(nt=>nt.id===te.plan);if(Le)return Le.name;const Ke=Ce.find(nt=>nt.value===te.plan);return Ke?Ke.label:te.plan||"Sin plan"},Ee=async te=>{L(!0);try{console.log("=== RESETEANDO MEMBRESÍA ==="),console.log("Student ID:",te);const Le=$t(st,"students",te);await Fn(Le,{plan:"","membresia.nombre":"","membresia.estado":"","membresia.montoPagado":0,"membresia.medioPago":"","membresia.fechaDesde":null,"membresia.fechaHasta":null,"membresia.motivoCancelacion":null,"membresia.fechaCancelacion":null,activo:!1}),console.log("✅ Membresía reseteada exitosamente"),n(nt=>nt.map(ot=>ot.id===te?{...ot,plan:"",membresia:{nombre:"",estado:"",montoPagado:0,medioPago:""},activo:!1}:ot)),T(null),R(null),alert("✅ Membresía reseteada. El estudiante puede contratar un nuevo plan.")}catch(Le){console.error("❌ Error al resetear membresía:",Le),alert("Error al resetear membresía: "+Le.message)}finally{L(!1)}},W=async(te,Le)=>{L(!0);try{console.log("=== CAMBIANDO ESTADO DEL ESTUDIANTE ==="),console.log("Student ID:",te),console.log("Nuevo estado:",Le);const Ke=$t(st,"students",te);await Fn(Ke,{activo:Le}),n(nt=>nt.map(ot=>ot.id===te?{...ot,activo:Le}:ot)),T(null),R(null),alert(`✅ Estudiante ${Le?"activado":"desactivado"} exitosamente`)}catch(Ke){console.error("❌ Error al cambiar estado:",Ke),alert("Error al cambiar estado: "+Ke.message)}finally{L(!1)}},V=te=>{const Le=[];return ae(te)==="cancelada"&&Le.push({id:"reset",label:"Resetear Membresía",icon:"🔄",color:"bg-blue-500 hover:bg-blue-600",description:"Limpiar membresía para permitir nueva contratación"}),te.activo?Le.push({id:"deactivate",label:"Desactivar Estudiante",icon:"❌",color:"bg-red-500 hover:bg-red-600",description:"Desactivar acceso del estudiante"}):Le.push({id:"activate",label:"Activar Estudiante",icon:"✅",color:"bg-green-500 hover:bg-green-600",description:"Activar acceso del estudiante"}),Le};ee.useEffect(()=>{(async()=>{try{const Ke=(await Wt(zt(st,"students"))).docs.map(nt=>({id:nt.id,...nt.data()}));n(Ke)}catch(Le){console.error("Error al obtener estudiantes:",Le)}finally{s(!1)}})()},[]);const Y=ee.useMemo(()=>{let te=e.filter(Le=>{const Ke=Le.fullName?.toLowerCase().includes(k.name.toLowerCase()),ot=Ue(Le)?.toLowerCase().includes(k.university.toLowerCase()),Rt=!k.carrera||Le.carrera?.toLowerCase().includes(k.carrera.toLowerCase()),as=ae(Le),Pn=!k.planStatus||as===k.planStatus,os=!k.certificado||k.certificado==="true"&&Le.certificado||k.certificado==="false"&&!Le.certificado,qt=!k.plan||Le.plan===k.plan;return Ke&&ot&&Rt&&Pn&&os&&qt});return te.sort((Le,Ke)=>{let nt,ot;return x.key==="university"?(nt=Ue(Le),ot=Ue(Ke)):(nt=Le[x.key],ot=Ke[x.key]),nt===void 0||ot===void 0?0:typeof nt=="string"&&typeof ot=="string"?x.direction==="asc"?nt.localeCompare(ot):ot.localeCompare(nt):typeof nt=="number"&&typeof ot=="number"?x.direction==="asc"?nt-ot:ot-nt:0}),te},[e,k,x]),X=ee.useMemo(()=>{const te=(u-1)*f;return Y.slice(te,te+f)},[Y,u,f]),J=Math.ceil(Y.length/f),fe=ee.useCallback(te=>{v(Le=>({key:te,direction:Le.key===te&&Le.direction==="asc"?"desc":"asc"}))},[]),Ie=ee.useCallback(()=>{i.size===X.length?o(new Set):o(new Set(X.map(te=>te.id)))},[X,i]),Z=ee.useCallback(te=>{const Le=new Set(i);Le.has(te)?Le.delete(te):Le.add(te),o(Le)},[i]),ge=ee.useCallback(async()=>{re(!0);try{const te=Y.map(Rt=>({"Nombre Completo":Rt.fullName,Email:Rt.email,Teléfono:Rt.phone||"No registrado",Universidad:Re(Ue(Rt)),Carrera:Rt.carrera||"No especificada","Plan Contratado":_e(Rt),"Vigencia Desde":Bg(Rt.membresia?.fechaDesde),"Vigencia Hasta":Bg(Rt.membresia?.fechaHasta),"Estado Membresía":Rt.membresia?.estado||"No definido","Tipo Membresía":Rt.membresia?.nombre||"No definido",Certificado:Rt.certificado?"Alumno Regular":"No certificado","Monto Pagado":Rt.membresia?.montoPagado||0,"Medio de Pago":Rt.membresia?.medioPago||"No especificado","Fecha de Registro":Bg(Rt.createdAt)})),Le=Tc.json_to_sheet(te),Ke=Tc.book_new(),nt=[{wch:25},{wch:30},{wch:15},{wch:35},{wch:25},{wch:15},{wch:15},{wch:15},{wch:15},{wch:12},{wch:15},{wch:15},{wch:15}];Le["!cols"]=nt,Tc.book_append_sheet(Ke,Le,"Estudiantes");const ot=`estudiantes_${new Date().toISOString().split("T")[0]}.xlsx`;hI(Ke,ot)}catch(te){console.error("Error al exportar:",te)}finally{re(!1)}},[Y]),pe=async te=>{try{await S0($t(st,"students",te)),n(Le=>Le.filter(Ke=>Ke.id!==te)),j(null)}catch(Le){console.error("Error al eliminar estudiante:",Le)}},Se=async()=>{try{const te=Array.from(i).map(Le=>S0($t(st,"students",Le)));await Promise.all(te),n(Le=>Le.filter(Ke=>!i.has(Ke.id))),o(new Set),z(!1)}catch(te){console.error("Error al eliminar estudiantes:",te)}},Qe=async(te,Le)=>{try{const Ke=$t(st,"students",te);await Fn(Ke,{certificado:!Le}),n(nt=>nt.map(ot=>ot.id===te?{...ot,certificado:!Le}:ot))}catch(Ke){console.error("Error al actualizar certificado:",Ke)}},xt=te=>{switch(te){case"activa":return"bg-green-100 text-green-700 border-green-200";case"pendiente":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"no pagado":return"bg-red-100 text-red-700 border-red-200";case"cancelada":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},lt=te=>{switch(te){case"activa":return c.jsx(gr,{size:14});case"pendiente":return c.jsx(Zo,{size:14});case"no pagado":return c.jsx(Ks,{size:14});case"cancelada":return c.jsx(Ks,{size:14});default:return c.jsx(Zo,{size:14})}},Kt=te=>{if(!te)return"bg-gray-100 text-gray-700 border-gray-200";const Le=t.find(Ke=>Ke.id===te);if(Le){const Ke=Le.id.split("").reduce((ot,Rt)=>ot+Rt.charCodeAt(0),0),nt=["bg-purple-100 text-purple-700 border-purple-200","bg-blue-100 text-blue-700 border-blue-200","bg-orange-100 text-orange-700 border-orange-200","bg-green-100 text-green-700 border-green-200","bg-pink-100 text-pink-700 border-pink-200","bg-indigo-100 text-indigo-700 border-indigo-200"];return nt[Ke%nt.length]}switch(te){case"full":return"bg-purple-100 text-purple-700 border-purple-200";case"partime":return"bg-blue-100 text-blue-700 border-blue-200";case"diario":return"bg-orange-100 text-orange-700 border-orange-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},dt=ee.useMemo(()=>{const te=Y.length,Le=Y.filter(ot=>ot.certificado).length,Ke=Y.filter(ot=>ae(ot)==="activa").length,nt=Y.filter(ot=>{const Rt=ot.plan;return Rt&&Rt!==""}).length;return{total:te,certificados:Le,activos:Ke,conPlan:nt}},[Y]);return r?c.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),c.jsx("div",{className:"space-y-3",children:[...Array(5)].map((te,Le)=>c.jsx("div",{className:"h-4 bg-gray-200 rounded"},Le))})]})}):c.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[c.jsxs("div",{className:"bg-gradient-to-r from-tent-orange to-tent-orange p-6",children:[c.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center space-y-4 lg:space-y-0",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"bg-white/20 rounded-xl p-2",children:c.jsx(Pc,{className:"text-white",size:24})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Estudiantes Registrados"}),c.jsx("p",{className:"text-orange-100 text-sm",children:"Visualización de estudiantes y membresías"})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>N(!w),className:"bg-white/20 hover:bg-white/30 text-white rounded-xl px-4 py-2 font-medium transition-all duration-200 flex items-center space-x-2",children:[c.jsx(Xb,{size:16}),c.jsx("span",{children:"Filtros"})]}),c.jsxs(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>A(_==="table"?"cards":"table"),className:"bg-white/20 hover:bg-white/30 text-white rounded-xl px-4 py-2 font-medium transition-all duration-200 flex items-center space-x-2",children:[c.jsx(q0,{size:16}),c.jsx("span",{children:_==="table"?"Tarjetas":"Tabla"})]}),c.jsxs(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ge,disabled:ne,className:"bg-white/20 hover:bg-white/30 text-white rounded-xl px-4 py-2 font-medium transition-all duration-200 flex items-center space-x-2 disabled:opacity-50",children:[c.jsx(qb,{size:16}),c.jsx("span",{children:ne?"Exportando...":"Exportar Excel"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mt-6",children:[c.jsxs("div",{className:"bg-white/10 rounded-lg p-4 text-center",children:[c.jsx("div",{className:"text-white text-2xl font-bold",children:dt.total}),c.jsx("div",{className:"text-white/80 text-sm",children:"Total"})]}),c.jsxs("div",{className:"bg-white/10 rounded-lg p-4 text-center",children:[c.jsx("div",{className:"text-white text-2xl font-bold",children:dt.certificados}),c.jsx("div",{className:"text-white/80 text-sm",children:"Regulares"})]}),c.jsxs("div",{className:"bg-white/10 rounded-lg p-4 text-center",children:[c.jsx("div",{className:"text-white text-2xl font-bold",children:dt.activos}),c.jsx("div",{className:"text-white/80 text-sm",children:"Activos"})]}),c.jsxs("div",{className:"bg-white/10 rounded-lg p-4 text-center",children:[c.jsx("div",{className:"text-white text-2xl font-bold",children:dt.conPlan}),c.jsx("div",{className:"text-white/80 text-sm",children:"Con Plan"})]})]})]}),c.jsx(un,{children:w&&c.jsx(Te.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"bg-gray-50 border-b border-gray-200 p-6",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(X0,{className:"absolute left-3 top-3 text-gray-400",size:16}),c.jsx("input",{type:"text",placeholder:"Buscar nombre...",value:k.name,onChange:te=>Ae({...k,name:te.target.value}),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),c.jsxs("select",{value:k.university,onChange:te=>Ae({...k,university:te.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[c.jsx("option",{value:"",children:"Todas las universidades"}),XT.map(te=>c.jsx("option",{value:te.value,children:te.label},te.value))]}),c.jsxs("select",{value:k.plan,onChange:te=>Ae({...k,plan:te.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[c.jsx("option",{value:"",children:"Todos los planes"}),Ce.map(te=>c.jsx("option",{value:te.value,children:te.label},te.value))]}),c.jsxs("select",{value:k.planStatus,onChange:te=>Ae({...k,planStatus:te.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[c.jsx("option",{value:"",children:"Todos los estados"}),c.jsx("option",{value:"activa",children:"Activo"}),c.jsx("option",{value:"pendiente",children:"Pendiente"}),c.jsx("option",{value:"no pagado",children:"No pagado"}),c.jsx("option",{value:"cancelada",children:"Cancelada"})]}),c.jsxs("select",{value:k.certificado,onChange:te=>Ae({...k,certificado:te.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[c.jsx("option",{value:"",children:"Tipo de alumno"}),c.jsx("option",{value:"true",children:"Alumno Regular"}),c.jsx("option",{value:"false",children:"No certificado"})]}),c.jsxs("select",{value:f,onChange:te=>m(Number(te.target.value)),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[c.jsx("option",{value:10,children:"10 por página"}),c.jsx("option",{value:25,children:"25 por página"}),c.jsx("option",{value:50,children:"50 por página"}),c.jsx("option",{value:100,children:"100 por página"})]})]})})}),c.jsxs("div",{className:"p-1",children:[i.size>0&&c.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"text-sm font-medium text-orange-800",children:[i.size," estudiante(s) seleccionado(s)"]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:ge,className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Exportar seleccionados"}),c.jsx("button",{onClick:()=>z(!0),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Eliminar seleccionados"})]})]})}),_==="table"?c.jsx("div",{className:"bg-white border border-gray-200 rounded-xl shadow-lg overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full",children:[c.jsx("thead",{className:"bg-gradient-to-r from-[#014023] to-tent-green",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left",children:c.jsx("input",{type:"checkbox",checked:i.size===X.length&&X.length>0,onChange:Ie,className:"rounded border-tent-green text-orange-600 focus:ring-orange-500"})}),c.jsx("th",{className:"px-4 py-3 text-left font-medium text-white cursor-pointer hover:bg-green-900",onClick:()=>fe("fullName"),children:"Nombre"}),c.jsx("th",{className:"px-4 py-3 text-left font-medium text-white",children:"Teléfono"}),c.jsx("th",{className:"px-4 py-3 text-left font-medium text-white cursor-pointer hover:bg-green-900",onClick:()=>fe("university"),children:"Universidad"}),c.jsx("th",{className:"px-4 py-3 text-left font-medium text-white",children:"Carrera"}),c.jsx("th",{className:"px-4 py-3 text-left font-medium text-white",children:"Plan"}),c.jsx("th",{className:"px-4 py-3 text-left font-medium text-white",children:"Estado"}),c.jsx("th",{className:"px-4 py-3 text-left font-medium text-white",children:"Tipo Alumno"}),c.jsx("th",{className:"px-4 py-3 text-left font-medium text-white",children:"Acciones"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:X.map(te=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-4",children:c.jsx("input",{type:"checkbox",checked:i.has(te.id),onChange:()=>Z(te.id),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})}),c.jsx("td",{className:"px-4 py-4",children:c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:te.fullName}),c.jsx("div",{className:"text-sm text-gray-500",children:te.email})]})}),c.jsx("td",{className:"px-4 py-4",children:c.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[c.jsx(_h,{size:14,className:"mr-1"}),te.phone||"No registrado"]})}),c.jsx("td",{className:"px-4 py-4",children:c.jsx("span",{className:"text-sm text-gray-900",children:Re(Ue(te))})}),c.jsx("td",{className:"px-4 py-4",children:c.jsx("span",{className:"text-sm text-gray-900",children:te.carrera||"No especificada"})}),c.jsx("td",{className:"px-4 py-4",children:c.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Kt(te.plan||"")}`,children:[c.jsx(ia,{size:12,className:"mr-1"}),_e(te)]})}),c.jsx("td",{className:"px-4 py-4",children:c.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${xt(ae(te))}`,children:[lt(ae(te)),c.jsx("span",{className:"ml-1",children:ae(te)})]})}),c.jsx("td",{className:"px-4 py-4",children:c.jsxs("button",{onClick:()=>Qe(te.id,te.certificado),className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium cursor-pointer transition-colors ${te.certificado?"bg-green-100 text-tent-green hover:bg-green-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:[c.jsx(F2,{size:12,className:"mr-1"}),te.certificado?"Alumno Regular":"No certificado"]})}),c.jsx("td",{className:"px-4 py-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>T(te.id),className:"text-blue-600 hover:text-blue-900 p-1 rounded",title:"Acciones Administrativas",children:c.jsx(gg,{size:16})}),c.jsx("button",{onClick:()=>j(te.id),className:"text-red-600 hover:text-red-900 p-1 rounded",title:"Eliminar estudiante",children:c.jsx(Ic,{size:16})})]})})]},te.id))})]})})}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:X.map(te=>c.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[c.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:te.profilePhoto?c.jsx("img",{src:te.profilePhoto,alt:te.fullName,className:"w-12 h-12 rounded-full object-cover"}):c.jsx(to,{size:20,className:"text-orange-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:te.fullName}),c.jsxs("p",{className:"text-sm text-gray-600 flex items-center",children:[c.jsx(yi,{size:12,className:"mr-1"}),te.email]})]})]}),c.jsx("input",{type:"checkbox",checked:i.has(te.id),onChange:()=>Z(te.id),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[c.jsx(_h,{size:14,className:"mr-2"}),te.phone||"No registrado"]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[c.jsx(s0,{size:14,className:"mr-2"}),Re(Ue(te))]}),te.carrera&&c.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[c.jsx("span",{className:"mr-2",children:"📚"}),te.carrera]}),c.jsx("div",{className:"flex items-center justify-between mt-3",children:c.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Kt(te.plan||"")}`,children:[c.jsx(ia,{size:12,className:"mr-1"}),_e(te)]})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${xt(ae(te))}`,children:[lt(ae(te)),c.jsx("span",{className:"ml-1",children:ae(te)})]}),c.jsxs("button",{onClick:()=>Qe(te.id,te.certificado),className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium cursor-pointer transition-colors ${te.certificado?"bg-green-100 text-tent-green hover:bg-green-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:[c.jsx(F2,{size:12,className:"mr-1"}),te.certificado?"Regular":"No cert."]})]}),ae(te)==="cancelada"&&c.jsx("div",{className:"mt-2 p-2 bg-gray-100 rounded-lg border border-gray-300",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ks,{size:12,className:"text-gray-600"}),c.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Membresía Cancelada - Requiere Reset"})]})})]}),c.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200",children:[c.jsx("span",{className:"text-sm font-medium text-gray-900",children:_e(te)}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>T(te.id),className:"text-blue-600 hover:text-blue-900 p-1 rounded",title:"Acciones Administrativas",children:c.jsx(gg,{size:14})}),c.jsx("button",{onClick:()=>j(te.id),className:"text-red-600 hover:text-red-900 p-1 rounded",title:"Eliminar estudiante",children:c.jsx(Ic,{size:14})})]})]})]},te.id))}),c.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[c.jsxs("div",{className:"text-sm text-gray-700",children:["Mostrando ",(u-1)*f+1," a ",Math.min(u*f,Y.length)," de ",Y.length," resultados"]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>h(Math.max(1,u-1)),disabled:u===1,className:"p-2 rounded-lg border border-gray-300 text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(Wb,{size:16})}),c.jsx("div",{className:"flex space-x-1",children:[...Array(Math.min(5,J))].map((te,Le)=>{const Ke=Le+1;return c.jsx("button",{onClick:()=>h(Ke),className:`px-3 py-1 rounded-lg text-sm font-medium ${u===Ke?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:Ke},Ke)})}),c.jsx("button",{onClick:()=>h(Math.min(J,u+1)),disabled:u===J,className:"p-2 rounded-lg border border-gray-300 text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(Gb,{size:16})})]})]})]}),c.jsx(un,{children:P&&c.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>T(null),children:c.jsx(Te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-6 w-full max-w-md mx-4",onClick:te=>te.stopPropagation(),children:b?c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:c.jsx(qs,{className:"text-blue-600",size:24})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirmar Acción"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Esta acción modificará el estado del estudiante"})]})]}),c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[b==="reset"&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("span",{className:"text-2xl",children:"🔄"}),c.jsx("span",{className:"font-medium text-blue-800",children:"Resetear Membresía"})]}),c.jsx("p",{className:"text-sm text-blue-700",children:"Se eliminará toda la información de membresía. El estudiante podrá contratar un nuevo plan."})]}),b==="activate"&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("span",{className:"text-2xl",children:"✅"}),c.jsx("span",{className:"font-medium text-green-800",children:"Activar Estudiante"})]}),c.jsx("p",{className:"text-sm text-green-700",children:"El estudiante tendrá acceso a las instalaciones."})]}),b==="deactivate"&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("span",{className:"text-2xl",children:"❌"}),c.jsx("span",{className:"font-medium text-red-800",children:"Desactivar Estudiante"})]}),c.jsx("p",{className:"text-sm text-red-700",children:"El estudiante no tendrá acceso a las instalaciones."})]})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{onClick:()=>R(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),c.jsx("button",{onClick:()=>{const te=e.find(Le=>Le.id===P);te&&(b==="reset"?Ee(te.id):b==="activate"?W(te.id,!0):b==="deactivate"&&W(te.id,!1))},disabled:I,className:`flex-1 px-4 py-2 text-white rounded-lg transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center space-x-2 ${b==="reset"?"bg-blue-600 hover:bg-blue-700":b==="activate"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:I?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),c.jsx("span",{children:"Procesando..."})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{children:b==="reset"?"🔄":b==="activate"?"✅":"❌"}),c.jsx("span",{children:"Confirmar"})]})})]})]}):c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[c.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:c.jsx(gg,{className:"text-orange-600",size:24})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Acciones Administrativas"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Selecciona una acción para este estudiante"})]})]}),c.jsx("div",{className:"space-y-3",children:(()=>{const te=e.find(Ke=>Ke.id===P);return te?V(te).map(Ke=>c.jsx("button",{onClick:()=>R(Ke.id),className:`w-full p-4 rounded-lg border-2 hover:border-opacity-50 transition-all text-left ${Ke.color.replace("bg-","hover:bg-").replace("hover:bg-","hover:bg-opacity-10 border-")}`,children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("span",{className:"text-2xl",children:Ke.icon}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:Ke.label}),c.jsx("div",{className:"text-sm text-gray-600",children:Ke.description})]})]})},Ke.id)):null})()}),c.jsx("div",{className:"mt-6",children:c.jsx("button",{onClick:()=>T(null),className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"})})]})})})}),c.jsx(un,{children:M&&c.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>j(null),children:c.jsxs(Te.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-lg p-6 max-w-sm mx-4",onClick:te=>te.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:c.jsx(qs,{className:"text-red-600",size:24})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirmar eliminación"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Esta acción no se puede deshacer"})]})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{onClick:()=>j(null),className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),c.jsx("button",{onClick:()=>pe(M),className:"flex-1 px-4 py-2 text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors",children:"Eliminar"})]})]})})}),c.jsx(un,{children:O&&c.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>z(!1),children:c.jsxs(Te.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-lg p-6 max-w-md mx-4",onClick:te=>te.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:c.jsx(qs,{className:"text-red-600",size:24})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirmar eliminación múltiple"}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Se eliminarán ",i.size," estudiante(s). Esta acción no se puede deshacer."]})]})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{onClick:()=>z(!1),className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),c.jsxs("button",{onClick:Se,className:"flex-1 px-4 py-2 text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors",children:["Eliminar ",i.size," estudiante(s)"]})]})]})})})]})},cq=["leandropetricca123@gmail.com"],uq="leandropetricca123@gmail.com",hq=cq.includes(uq),dq=()=>{const[t,e]=ee.useState([]),[n,r]=ee.useState([]),[s,i]=ee.useState([]),[o,u]=ee.useState(!1),[h,f]=ee.useState(null),[m,x]=ee.useState({}),[v,_]=ee.useState([]),[A,w]=ee.useState(!1),[N,M]=ee.useState(!0),[j,O]=ee.useState(null),[z,ne]=ee.useState(!1),[re,P]=ee.useState({name:"",plan:"",amount:"",paymentMethod:"",date:"",facturado:"all"}),[T,b]=ee.useState({fullName:"",amount:0,method:"",date:new Date().toISOString().split("T")[0],facturado:!1,plan:"",studentId:""}),R=["Efectivo","Mercado Pago Transferencia","Mercado Pago Posnet","Mercado Pago Hospedado"],I=(Z,ge=0)=>{const pe=Z.toLowerCase();return pe.includes("diario")||pe.includes("día")||pe.includes("day")||pe.includes("pase")&&(pe.includes("diario")||pe.includes("día"))||ge<=8e3},L=(Z,ge,pe)=>{let Se,Qe;return I(Z,ge)?(Se=new Date(pe),Qe=new Date(pe),Qe.setHours(23,59,59,999)):(Se=new Date(pe),Qe=new Date(pe),Qe.setDate(Qe.getDate()+30),console.log(`📅 Plan Mensual: ${Z}`),console.log(`⏰ Desde: ${Se.toLocaleString()}`),console.log(`⏰ Hasta: ${Qe.toLocaleString()}`)),{fechaDesde:Mt.fromDate(Se),fechaHasta:Mt.fromDate(Qe)}},k=()=>{if(!T.plan)return null;const Z=s.find(pe=>pe.name===T.plan);if(!Z)return null;const ge=I(Z.name,Z.price);return{plan:Z,esDiario:ge,vigencia:ge?"hasta las 23:59 del día":"30 días desde el pago"}};ee.useEffect(()=>{Ae(),Ce(),Ue()},[]);const Ae=async()=>{try{const ge=(await Wt(zt(st,"payments"))).docs.map(pe=>{const Se=pe.data();return{id:pe.id,fullName:Se.fullName||"",amount:Se.amount||0,method:Se.method||"",date:Se.date||"",facturado:Se.facturado||!1,plan:Se.plan||"",studentId:Se.studentId||""}});e(ge)}catch(Z){console.error("Error fetching payments: ",Z)}},Ce=async()=>{try{console.log("=== CARGANDO ESTUDIANTES ===");const ge=(await Wt(zt(st,"students"))).docs.map(pe=>{const Se=pe.data();return console.log("Estudiante raw de Firebase:",pe.id,Se),{id:pe.id,fullName:Se.fullName||"",plan:Se.plan||"",email:Se.email||"",phone:Se.phone||"",carrera:Se.carrera||"",faculty:Se.faculty||"",university:Se.university||"",accessCode:Se.accessCode||"",activo:Se.activo||!1,certificado:Se.certificado||!1,isCheckedIn:Se.isCheckedIn||!1,fotoURL:Se.fotoURL||"",createdAt:Se.createdAt||null,lastCheckInTimestamp:Se.lastCheckInTimestamp||null,membresia:{medioPago:Se.membresia?.medioPago||"",montoPagado:Se.membresia?.montoPagado||0,nombre:Se.membresia?.nombre||"",estado:Se.membresia?.estado||"",fechaDesde:Se.membresia?.fechaDesde||null,fechaHasta:Se.membresia?.fechaHasta||null}}});r(ge),console.log("✅ Estudiantes procesados:",ge.length)}catch(Z){console.error("❌ Error fetching students: ",Z)}},Ue=async()=>{try{console.log("=== CARGANDO PLANES ===");const ge=(await Wt(zt(st,"plans"))).docs.map(pe=>{const Se=pe.data();return{id:pe.id,name:Se.name||"",price:Se.price||0,description:Se.description||""}});i(ge),console.log("Planes cargados:",ge),ge.length===0&&(console.log('⚠️ NO SE ENCONTRARON PLANES en la colección "plans"'),alert('No hay planes configurados. Por favor, crea planes en la colección "plans" de Firebase.'))}catch(Z){console.error("❌ Error fetching plans: ",Z)}},Re=Z=>{if(Z.length<2){_([]),w(!1);return}const ge=n.filter(pe=>pe.fullName.toLowerCase().includes(Z.toLowerCase()));_(ge),w(!0)},ae=Z=>{console.log("=== ESTUDIANTE SELECCIONADO ==="),console.log("Estudiante completo:",Z),console.log("ID:",Z.id),console.log("Nombre:",Z.fullName),console.log("Plan actual:",Z.plan||"SIN PLAN");const ge=Z.plan||"",pe=s.find(Qe=>Qe.name===ge);console.log("Plan encontrado en lista de planes:",pe);const Se={...T,fullName:Z.fullName,plan:ge,amount:pe?.price||0,studentId:Z.id};console.log("Datos actualizados del nuevo pago:",Se),b(Se),w(!1)},_e=Z=>{const ge=s.find(pe=>pe.name===Z);b({...T,plan:Z,amount:ge?.price||0})},Ee=async()=>{if(z){console.log("Ya se está procesando un pago...");return}try{if(ne(!0),!T.fullName){alert("Debe seleccionar un estudiante");return}if(!T.plan){alert("Debe seleccionar un plan");return}if(!T.method){alert("Debe seleccionar un método de pago");return}if(T.amount<=0){alert("El monto debe ser mayor a 0");return}if(!T.studentId){alert("Error: No se pudo identificar al estudiante. Intente seleccionarlo nuevamente.");return}const Z={fullName:T.fullName,amount:T.amount,method:T.method,date:T.date||new Date().toISOString().split("T")[0],facturado:T.facturado,plan:T.plan,studentId:T.studentId};console.log("=== AGREGANDO PAGO ==="),console.log("Datos del pago:",Z);const ge=await gm(zt(st,"payments"),Z);console.log("✅ Pago agregado con ID:",ge.id),console.log("=== ACTUALIZANDO PLAN DEL ESTUDIANTE ==="),console.log("ID del estudiante:",T.studentId),console.log("Nuevo plan:",T.plan);const pe=$t(st,"students",T.studentId);try{const xt=T.date,lt=new Date(xt+"T12:00:00"),Kt=s.find(nt=>nt.name===T.plan),{fechaDesde:dt,fechaHasta:te}=L(T.plan,Kt?.price||0,lt);console.log("Fechas calculadas según tipo de plan:"),console.log("  - Plan:",T.plan),console.log("  - Es pase diario:",I(T.plan,Kt?.price||0)),console.log("  - Fecha desde:",dt.toDate().toISOString()),console.log("  - Fecha hasta:",te.toDate().toISOString()),console.log("  - Fecha desde (local):",dt.toDate().toLocaleDateString()),console.log("  - Fecha hasta (local):",te.toDate().toLocaleDateString());const Le={plan:T.plan,"membresia.nombre":T.plan,"membresia.estado":"activa","membresia.montoPagado":T.amount,"membresia.medioPago":T.method,"membresia.fechaDesde":dt,"membresia.fechaHasta":te,activo:!0};console.log("Datos de actualización del estudiante:",Le),await Fn(pe,Le),console.log("✅ Plan y membresía del estudiante actualizados exitosamente");const Ke=await Ph(pe);if(Ke.exists()){const nt=Ke.data();console.log("✅ Verificación - Datos actualizados en Firebase:"),console.log("  - Plan:",nt.plan),console.log("  - Membresía:",nt.membresia),console.log("  - Activo:",nt.activo)}}catch(xt){console.error("❌ Error al actualizar el estudiante:",xt),console.error("Código de error:",xt.code),console.error("Mensaje:",xt.message),alert("El pago se agregó pero no se pudo actualizar el plan del estudiante. Error: "+xt.message)}b({fullName:"",amount:0,method:"",date:new Date().toISOString().split("T")[0],facturado:!1,plan:"",studentId:""}),u(!1),console.log("🔄 Refrescando datos en 2 segundos..."),setTimeout(async()=>{await Ae(),await Ce(),console.log("✅ Datos refrescados")},2e3);const Qe=k()?.esDiario?"Pago agregado. Membresía activa hasta las 23:59 de hoy.":"Pago agregado. Membresía activa por 30 días.";alert(`✅ ${Qe}`)}catch(Z){console.error("❌ Error completo al agregar pago:",Z),console.error("Código de error:",Z.code),console.error("Mensaje:",Z.message),alert("Error al agregar el pago: "+Z.message)}finally{ne(!1)}},W=Z=>{f(Z.id),x({fullName:Z.fullName,amount:Z.amount,method:Z.method,date:Z.date,facturado:Z.facturado,plan:Z.plan})},V=()=>{f(null),x({})},Y=async()=>{if(h)try{console.log("=== GUARDANDO EDICIÓN ==="),console.log("ID del pago:",h),console.log("Datos a actualizar:",m);const Z={};m.fullName!==void 0&&(Z.fullName=m.fullName),m.amount!==void 0&&(Z.amount=m.amount),m.method!==void 0&&(Z.method=m.method),m.date!==void 0&&(Z.date=m.date),m.facturado!==void 0&&(Z.facturado=m.facturado),m.plan!==void 0&&(Z.plan=m.plan),console.log("Datos limpiados para actualizar:",Z),await Fn($t(st,"payments",h),Z),console.log("✅ Pago actualizado en la base de datos");const ge=t.find(pe=>pe.id===h);if(console.log("Pago original encontrado:",ge),ge&&ge.studentId&&(m.plan&&m.plan!==ge.plan||m.amount&&m.amount!==ge.amount||m.method&&m.method!==ge.method||m.date&&m.date!==ge.date)){console.log("=== ACTUALIZANDO PLAN DEL ESTUDIANTE ==="),console.log("Student ID:",ge.studentId);try{const Se=new Date(m.date||ge.date),Qe=m.plan||ge.plan,xt=m.amount||ge.amount,{fechaDesde:lt,fechaHasta:Kt}=L(Qe,xt,Se);console.log("Nuevas fechas calculadas según tipo de plan:"),console.log("  - Plan:",Qe),console.log("  - Es pase diario:",I(Qe,xt)),console.log("  - Fecha desde:",lt.toDate().toISOString()),console.log("  - Fecha hasta:",Kt.toDate().toISOString());const dt={activo:!0};m.plan!==void 0&&(dt.plan=m.plan,dt["membresia.nombre"]=m.plan,dt["membresia.estado"]="activa"),m.amount!==void 0&&(dt["membresia.montoPagado"]=m.amount),m.method!==void 0&&(dt["membresia.medioPago"]=m.method),(m.date!==void 0||m.plan!==void 0)&&(dt["membresia.fechaDesde"]=lt,dt["membresia.fechaHasta"]=Kt),console.log("Datos de actualización del estudiante:",dt),await Fn($t(st,"students",ge.studentId),dt),console.log("✅ Plan y membresía del estudiante actualizados exitosamente")}catch(Se){console.error("❌ Error al actualizar plan del estudiante:",Se),alert("El pago se actualizó pero no se pudo actualizar el plan del estudiante: "+Se.message)}}f(null),x({}),setTimeout(async()=>{await Ae(),await Ce(),console.log("✅ Datos refrescados")},2e3),alert("✅ Pago actualizado exitosamente")}catch(Z){console.error("❌ Error updating payment:",Z),alert("Error al actualizar el pago: "+Z.message)}},X=async(Z,ge)=>{try{console.log("Cambiando estado de facturación:",Z,"de",ge,"a",!ge),await Fn($t(st,"payments",Z),{facturado:!ge}),console.log("Estado actualizado exitosamente"),await Ae()}catch(pe){console.error("Error updating facturado status: ",pe),alert("Error al actualizar el estado: "+pe.message)}},J=async Z=>{try{console.log("=== ELIMINANDO PAGO ==="),console.log("ID del pago a eliminar:",Z);const ge=t.find(pe=>pe.id===Z);if(!ge){alert("No se encontró el pago a eliminar");return}if(console.log("Pago a eliminar:",ge),await S0($t(st,"payments",Z)),console.log("✅ Pago eliminado de la base de datos"),ge.studentId){console.log("=== ACTUALIZANDO MEMBRESÍA DEL ESTUDIANTE ==="),console.log("Student ID:",ge.studentId);try{const pe=$t(st,"students",ge.studentId);(await Ph(pe)).exists()?(await Fn(pe,{plan:"","membresia.nombre":"","membresia.estado":"pendiente","membresia.montoPagado":0,"membresia.medioPago":"","membresia.fechaDesde":null,"membresia.fechaHasta":null,activo:!1}),console.log("✅ Membresía del estudiante actualizada (eliminada/pendiente)")):console.log("⚠️ El estudiante no existe en la base de datos")}catch(pe){console.error("❌ Error al actualizar membresía del estudiante:",pe),alert("El pago se eliminó pero no se pudo actualizar la membresía del estudiante: "+pe.message)}}e(pe=>pe.filter(Se=>Se.id!==Z)),O(null),setTimeout(async()=>{await Ae(),await Ce(),console.log("✅ Datos refrescados")},2e3),alert("✅ Pago eliminado exitosamente y membresía actualizada")}catch(ge){console.error("❌ Error al eliminar pago:",ge),alert("Error al eliminar el pago: "+ge.message)}},fe=t.filter(Z=>{const ge=Z.fullName.toLowerCase().includes(re.name.toLowerCase()),pe=Z.plan.toLowerCase().includes(re.plan.toLowerCase()),Se=re.amount===""||Z.amount.toString().includes(re.amount),Qe=Z.method.toLowerCase().includes(re.paymentMethod.toLowerCase()),xt=re.date===""||Z.date.includes(re.date),lt=re.facturado==="all"||re.facturado==="true"&&Z.facturado||re.facturado==="false"&&!Z.facturado;return ge&&pe&&Se&&Qe&&xt&&lt}),Ie=k();return c.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-50 rounded-xl shadow-lg overflow-hidden",children:[c.jsx("div",{className:"bg-tent-orange text-white p-6 rounded-t-xl mb-0",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(ia,{size:24}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold",children:"Gestión de Pagos"}),c.jsxs("p",{className:"text-orange-100 text-sm",children:["Registro de pagos de estudiantes • ",fe.length," pagos"]})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("button",{onClick:()=>M(!N),className:"bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[N?c.jsx(b1,{size:16}):c.jsx(q0,{size:16}),c.jsxs("span",{children:[N?"Ocultar":"Mostrar"," Filtros"]})]}),c.jsxs("button",{onClick:()=>u(!0),className:"bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[c.jsx(A1,{size:20}),c.jsx("span",{children:"Nuevo Pago"})]})]})]})}),c.jsx(un,{children:N&&c.jsx(Te.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"bg-white border-x border-b border-gray-200 overflow-hidden",children:c.jsxs("div",{className:"bg-gray-50 p-4 border-b border-gray-200",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx(Xb,{className:"text-gray-500",size:20}),c.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Filtros"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(X0,{className:"absolute left-3 top-3 text-gray-400",size:16}),c.jsx("input",{type:"text",placeholder:"Buscar por nombre...",value:re.name,onChange:Z=>P({...re,name:Z.target.value}),className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-tent-orange focus:border-transparent"})]}),c.jsx("input",{type:"text",placeholder:"Filtrar por plan...",value:re.plan,onChange:Z=>P({...re,plan:Z.target.value}),className:"px-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-tent-orange focus:border-transparent"}),c.jsx("input",{type:"text",placeholder:"Filtrar por monto...",value:re.amount,onChange:Z=>P({...re,amount:Z.target.value}),className:"px-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-tent-orange focus:border-transparent"}),c.jsxs("select",{value:re.paymentMethod,onChange:Z=>P({...re,paymentMethod:Z.target.value}),className:"px-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-tent-orange focus:border-transparent",children:[c.jsx("option",{value:"",children:"Todos los métodos"}),R.map(Z=>c.jsx("option",{value:Z,children:Z},Z))]}),c.jsx("input",{type:"date",value:re.date,onChange:Z=>P({...re,date:Z.target.value}),className:"px-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-tent-orange focus:border-transparent"}),c.jsxs("select",{value:re.facturado,onChange:Z=>P({...re,facturado:Z.target.value}),className:"px-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-tent-orange focus:border-transparent",children:[c.jsx("option",{value:"all",children:"Todos"}),c.jsx("option",{value:"true",children:"Facturados"}),c.jsx("option",{value:"false",children:"No facturados"})]})]})]})})}),c.jsx("div",{className:`bg-white border-x border-gray-200 ${N?"":"rounded-b-xl border-b"}`,children:c.jsx("div",{className:"p-1",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-tent-green",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(to,{size:14}),c.jsx("span",{children:"Estudiante"})]})}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Plan"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Cc,{size:14}),c.jsx("span",{children:"Monto"})]})}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Método"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Qi,{size:14}),c.jsx("span",{children:"Fecha"})]})}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Cr,{size:14}),c.jsx("span",{children:"Vigencia"})]})}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Estado"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Acciones"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:fe.map(Z=>{const ge=s.find(Se=>Se.name===Z.plan),pe=ge?I(ge.name,ge.price):!1;return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:h===Z.id?c.jsx("input",{type:"text",value:m.fullName||"",onChange:Se=>x({...m,fullName:Se.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-1 focus:ring-tent-orange"}):Z.fullName}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h===Z.id?c.jsxs("select",{value:m.plan||"",onChange:Se=>{const Qe=s.find(xt=>xt.name===Se.target.value);x({...m,plan:Se.target.value,amount:Qe?.price||m.amount||0})},className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-1 focus:ring-tent-orange",children:[c.jsx("option",{value:"",children:"Seleccionar plan"}),s.map(Se=>c.jsx("option",{value:Se.name,children:Se.name},Se.id))]}):c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-tent-orange/10 text-tent-orange rounded-full",children:Z.plan}),c.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${pe?"bg-yellow-100 text-yellow-800 border border-yellow-300":"bg-blue-100 text-blue-800 border border-blue-300"}`,children:pe?"☀️":"📅"})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-medium",children:h===Z.id?c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-2 top-1 text-gray-500 text-sm",children:"$"}),c.jsx("input",{type:"number",value:m.amount||0,onChange:Se=>x({...m,amount:Number(Se.target.value)}),className:"w-full pl-6 pr-2 py-1 border border-gray-300 rounded text-sm focus:ring-1 focus:ring-tent-orange",min:"0",step:"0.01"})]}):`${Z.amount.toLocaleString()}`}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h===Z.id?c.jsxs("select",{value:m.method||"",onChange:Se=>x({...m,method:Se.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-1 focus:ring-tent-orange",children:[c.jsx("option",{value:"",children:"Seleccionar método"}),R.map(Se=>c.jsx("option",{value:Se,children:Se},Se))]}):Z.method}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h===Z.id?c.jsx("input",{type:"date",value:m.date||"",onChange:Se=>x({...m,date:Se.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-1 focus:ring-tent-orange"}):Z.date}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:c.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${pe?"bg-yellow-50 text-yellow-700":"bg-blue-50 text-blue-700"}`,children:pe?"Hasta 23:59":"30 días"})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:c.jsx("button",{onClick:()=>X(Z.id,Z.facturado),className:"flex items-center space-x-2 hover:opacity-80 transition-opacity cursor-pointer p-1 rounded",children:Z.facturado?c.jsxs(c.Fragment,{children:[c.jsx(gr,{className:"text-tent-green",size:16}),c.jsx("span",{className:"text-tent-green font-medium",children:"Facturado"})]}):c.jsxs(c.Fragment,{children:[c.jsx(Ks,{className:"text-red-500",size:16}),c.jsx("span",{className:"text-red-500 font-medium",children:"Pendiente"})]})})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:c.jsx("div",{className:"flex items-center space-x-2",children:h===Z.id?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:Y,className:"text-tent-green hover:text-tent-green/80 transition-colors p-1 rounded",children:c.jsx(Zb,{size:16})}),c.jsx("button",{onClick:V,className:"text-red-500 hover:text-red-500/80 transition-colors p-1 rounded",children:c.jsx(Ji,{size:16})})]}):c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>W(Z),className:"text-tent-orange hover:text-tent-orange/80 transition-colors p-1 rounded",title:"Editar pago",children:c.jsx(Jb,{size:16})}),hq&&c.jsx("button",{onClick:()=>O(Z.id),className:"text-red-500 hover:text-red-600 transition-colors p-1 rounded",title:"Eliminar pago (Solo Super-Admin)",children:c.jsx(Ic,{size:16})})]})})})]},Z.id)})})]})})})}),c.jsx(un,{children:o&&c.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs(Te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Agregar Nuevo Pago"}),c.jsx("button",{onClick:()=>u(!1),className:"text-gray-500 hover:text-gray-700",children:c.jsx(Ji,{size:20})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Buscar Estudiante"}),c.jsx("input",{type:"text",placeholder:"Escribir nombre del estudiante...",value:T.fullName,onChange:Z=>{b({...T,fullName:Z.target.value}),Re(Z.target.value)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-tent-orange focus:border-transparent"}),A&&v.length>0&&c.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-40 overflow-y-auto",children:v.map(Z=>c.jsxs("button",{onClick:()=>ae(Z),className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex justify-between items-center",children:[c.jsx("span",{children:Z.fullName}),c.jsx("span",{className:"text-sm text-gray-500",children:Z.plan})]},Z.id))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plan"}),c.jsxs("select",{value:T.plan,onChange:Z=>_e(Z.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-tent-orange focus:border-transparent",children:[c.jsx("option",{value:"",children:"Seleccionar plan"}),s.map(Z=>{const ge=I(Z.name,Z.price);return c.jsxs("option",{value:Z.name,children:[Z.name," - $",Z.price.toLocaleString()," ",ge?"(Diario)":"(Mensual)"]},Z.id)})]})]}),Ie&&c.jsx("div",{className:`p-3 rounded-lg border ${Ie.esDiario?"bg-yellow-50 border-yellow-200":"bg-blue-50 border-blue-200"}`,children:c.jsxs("div",{className:"flex items-start space-x-2",children:[Ie.esDiario?c.jsx(fc,{size:16,className:"text-yellow-600 mt-0.5"}):c.jsx(S1,{size:16,className:"text-blue-600 mt-0.5"}),c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:`font-medium ${Ie.esDiario?"text-yellow-800":"text-blue-800"}`,children:Ie.esDiario?"Pase Diario":"Plan Mensual"}),c.jsxs("p",{className:`${Ie.esDiario?"text-yellow-700":"text-blue-700"}`,children:["Vigencia: ",Ie.vigencia]})]})]})}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monto"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-3 top-3 text-gray-500",children:"$"}),c.jsx("input",{type:"number",value:T.amount,onChange:Z=>b({...T,amount:Number(Z.target.value)}),className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-tent-orange focus:border-transparent",min:"0",step:"0.01"})]}),T.plan&&c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Precio sugerido del plan: $",s.find(Z=>Z.name===T.plan)?.price.toLocaleString()]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Método de Pago"}),c.jsxs("select",{value:T.method,onChange:Z=>b({...T,method:Z.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-tent-orange focus:border-transparent",children:[c.jsx("option",{value:"",children:"Seleccionar método"}),R.map(Z=>c.jsx("option",{value:Z,children:Z},Z))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha del Pago"}),c.jsx("input",{type:"date",value:T.date,onChange:Z=>b({...T,date:Z.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-tent-orange focus:border-transparent"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Ie?.esDiario?"Para pases diarios: vigencia hasta las 23:59 de esta fecha":"Esta fecha será el inicio de la vigencia del plan (30 días desde esta fecha)"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"checkbox",id:"facturado",checked:T.facturado,onChange:Z=>b({...T,facturado:Z.target.checked}),className:"w-4 h-4 text-tent-orange focus:ring-tent-orange border-gray-300 rounded"}),c.jsx("label",{htmlFor:"facturado",className:"text-sm font-medium text-gray-700",children:"Pago facturado"})]}),c.jsxs("div",{className:"flex space-x-3 pt-4",children:[c.jsx("button",{onClick:()=>{u(!1),b({fullName:"",amount:0,method:"",date:new Date().toISOString().split("T")[0],facturado:!1,plan:"",studentId:""})},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),c.jsx("button",{onClick:Ee,disabled:!T.fullName||!T.plan||!T.method||T.amount<=0||z,className:"flex-1 px-4 py-2 bg-tent-orange text-white rounded-lg hover:bg-tent-orange/90 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:z?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),c.jsx("span",{children:"Procesando..."})]}):c.jsx("span",{children:"Agregar Pago"})})]})]})]})})}),c.jsx(un,{children:j&&c.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>O(null),children:c.jsxs(Te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",onClick:Z=>Z.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:c.jsx(qs,{className:"text-red-600",size:24})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirmar Eliminación"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Esta acción no se puede deshacer"})]})]}),c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ks,{className:"text-red-500",size:16}),c.jsx("span",{className:"text-sm font-medium text-red-800",children:"¿Está seguro que desea eliminar este pago?"})]}),c.jsx("p",{className:"text-sm text-red-700 mt-2",children:"Se eliminará permanentemente el registro del pago y la membresía del estudiante será actualizada."})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{onClick:()=>O(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancelar"}),c.jsxs("button",{onClick:()=>J(j),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center justify-center space-x-2",children:[c.jsx(Ic,{size:16}),c.jsx("span",{children:"Eliminar Pago"})]})]})]})})})]})},fq=()=>{const[t,e]=ee.useState([]),[n,r]=ee.useState({name:""}),[s,i]=ee.useState(!0),[o,u]=ee.useState(null),[h,f]=ee.useState(null),[m,x]=ee.useState(1),[v]=ee.useState(10);ee.useEffect(()=>{(async()=>{const R=(await Wt(zt(st,"sessions"))).docs.map(I=>{const L=I.data();return{id:I.id,fullName:L.fullName||"",checkInTimestamp:L.checkInTimestamp||Mt.now(),checkOutTimestamp:L.checkOutTimestamp||null,durationMinutes:L.durationMinutes||null}});e(R)})()},[]);const _=T=>{o===T?h==="asc"?f("desc"):h==="desc"?(u(null),f(null)):f("asc"):(u(T),f("asc")),x(1)},A=()=>{let T=t.filter(b=>b.fullName.toLowerCase().includes(n.name.toLowerCase()));return o&&h&&T.sort((b,R)=>{let I=b[o],L=R[o];return o==="checkInTimestamp"||o==="checkOutTimestamp"?(I=I?I.toDate().getTime():0,L=L?L.toDate().getTime():0):o==="fullName"?(I=I.toLowerCase(),L=L.toLowerCase()):o==="durationMinutes"&&(I=I||0,L=L||0),h==="asc"?I>L?1:-1:I<L?1:-1}),T},w=T=>o!==T?c.jsx(O2,{className:"h-4 w-4 text-gray-400"}):h==="asc"?c.jsx(m5,{className:"h-4 w-4 text-[#F29F05]"}):h==="desc"?c.jsx(l5,{className:"h-4 w-4 text-[#F29F05]"}):c.jsx(O2,{className:"h-4 w-4 text-gray-400"}),N=A(),M=Math.ceil(N.length/v),j=(m-1)*v,O=j+v,z=N.slice(j,O),ne=T=>T.toDate().toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),re=T=>{if(!T)return"00h 00m";const b=Math.floor(T/60),R=T%60;return`${b.toString().padStart(2,"0")}h ${R.toString().padStart(2,"0")}m`},P=()=>{if(N.length===0){alert("No hay datos para exportar");return}const T=N.map(k=>({"Nombre y Apellido":k.fullName,"Fecha de Entrada":ne(k.checkInTimestamp),"Fecha de Salida":k.checkOutTimestamp?ne(k.checkOutTimestamp):"En curso","Tiempo Total":re(k.durationMinutes),"Duración (minutos)":k.durationMinutes||0})),b=Tc.json_to_sheet(T),R=Tc.book_new();Tc.book_append_sheet(R,b,"Sesiones");const I=[{wch:25},{wch:20},{wch:20},{wch:15},{wch:18}];b["!cols"]=I;const L=`sesiones_${new Date().toISOString().split("T")[0]}.xlsx`;hI(R,L)};return c.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg p-0",children:["      ",c.jsx("div",{className:"bg-gradient-to-r from-[#F29F05] to-tent-orange rounded-t-xl shadow-lg p-6 text-white mb-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex   items-center space-x-4",children:[c.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-3",children:c.jsx(zb,{className:"h-8 w-8"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Sesiones de Check-in/Out"}),c.jsx("p",{className:"text-orange-100 mt-1",children:"Registro de entradas y salidas del coworking"})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:P,className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 transition-colors p-3 rounded-lg flex items-center space-x-2",children:[c.jsx(qb,{className:"h-5 w-5"}),c.jsx("span",{className:"font-medium",children:"Exportar"})]}),c.jsxs(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(!s),className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 transition-colors p-3 rounded-lg flex items-center space-x-2",children:[s?c.jsx(b1,{className:"h-5 w-5"}):c.jsx(q0,{className:"h-5 w-5"}),c.jsxs("span",{className:"font-medium",children:[s?"Ocultar":"Mostrar"," Filtros"]})]})]})]})}),c.jsx(un,{children:s&&c.jsx(Te.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"bg-gradient-to-br from-green-50 to-orange-50 border border-gray-200 rounded-lg p-6 mb-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(X0,{className:"absolute left-3 top-3 text-gray-400",size:20}),c.jsx("input",{type:"text",placeholder:"Buscar por nombre y apellido...",value:n.name,onChange:T=>r({...n,name:T.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F29F05] focus:border-transparent"})]}),c.jsxs("button",{onClick:()=>_("fullName"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center space-x-2 ${o==="fullName"?"bg-[#F29F05] text-white shadow-lg":"bg-white text-gray-700 hover:bg-[#F29F05] hover:text-white border border-gray-300"}`,children:[w("fullName"),c.jsx("span",{children:"A-Z"})]})]})})}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-lg overflow-hidden",children:[c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full",children:[c.jsx("thead",{className:"bg-gradient-to-r from-[#014023] to-tent-green",children:c.jsxs("tr",{children:[c.jsx("th",{onClick:()=>_("fullName"),className:"px-6 py-4 text-left text-sm font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-[#014023]/80 transition-colors",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{children:"Nombre y Apellido"}),w("fullName")]})}),c.jsx("th",{onClick:()=>_("checkInTimestamp"),className:"px-6 py-4 text-left text-sm font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-[#014023]/80 transition-colors",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{children:"Entrada"}),w("checkInTimestamp")]})}),c.jsx("th",{onClick:()=>_("checkOutTimestamp"),className:"px-6 py-4 text-left text-sm font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-[#014023]/80 transition-colors",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{children:"Salida"}),w("checkOutTimestamp")]})}),c.jsx("th",{onClick:()=>_("durationMinutes"),className:"px-6 py-4 text-left text-sm font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-[#014023]/80 transition-colors",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{children:"Tiempo Total"}),w("durationMinutes")]})})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:z.map((T,b)=>c.jsxs(Te.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:b*.05},className:"hover:bg-gradient-to-r hover:from-[#F29F05]/10 hover:to-[#014023]/10 transition-all duration-200",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.fullName})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-600",children:ne(T.checkInTimestamp)})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-600",children:T.checkOutTimestamp?ne(T.checkOutTimestamp):c.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1 animate-pulse"}),"En curso"]})})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:`text-sm font-medium ${T.durationMinutes?"text-gray-900":"text-gray-400"}`,children:re(T.durationMinutes)})})]},T.id))})]})}),c.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-t border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-sm text-gray-700",children:["Mostrando ",j+1," a ",Math.min(O,N.length)," de ",N.length," entradas"]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(T=>Math.max(T-1,1)),disabled:m===1,className:`px-3 py-2 rounded-lg flex items-center space-x-1 transition-colors ${m===1?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-orange-50 hover:text-orange-600 border border-gray-300"}`,children:[c.jsx(Wb,{className:"h-4 w-4"}),c.jsx("span",{children:"Anterior"})]}),c.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:M},(T,b)=>b+1).map(T=>c.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>x(T),className:`w-10 h-10 rounded-lg font-medium transition-all ${m===T?"                        bg-gradient-to-r from-[#F29F05] to-orange-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-[#F29F05]/10 hover:text-[#F29F05] border border-gray-300"}`,children:T},T))}),c.jsxs(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(T=>Math.min(T+1,M)),disabled:m===M,className:`px-3 py-2 rounded-lg flex items-center space-x-1 transition-colors ${m===M?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-orange-50 hover:text-orange-600 border border-gray-300"}`,children:[c.jsx("span",{children:"Siguiente"}),c.jsx(Gb,{className:"h-4 w-4"})]})]})]})})]})]})},mq=()=>{const[t,e]=ee.useState({monthlyRevenue:0,weeklyRevenue:0,dailyRevenue:0,popularPlans:[],activeUsers:0,totalUsers:0});return ee.useEffect(()=>{(async()=>{try{const s=(await Wt(zt(st,"payments"))).docs.map(w=>w.data()),o=(await Wt(zt(st,"students"))).docs.map(w=>w.data()),h=(await Wt(zt(st,"plans"))).docs.map(w=>w.data()),f=s.filter(w=>new Date(w.date).getMonth()===new Date().getMonth()).reduce((w,N)=>w+N.amount,0),m=s.filter(w=>{const N=new Date(w.date),j=Math.abs(new Date().getTime()-N.getTime());return Math.ceil(j/(1e3*60*60*24))<=7}).reduce((w,N)=>w+N.amount,0),x=s.filter(w=>new Date(w.date).toDateString()===new Date().toDateString()).reduce((w,N)=>w+N.amount,0),v=h.sort((w,N)=>N.subscriptions-w.subscriptions).slice(0,3).map(w=>w.name),_=o.filter(w=>w.status==="active").length,A=o.length;e({monthlyRevenue:f,weeklyRevenue:m,dailyRevenue:x,popularPlans:v,activeUsers:_,totalUsers:A})}catch(r){console.error("Error fetching stats: ",r)}})()},[]),c.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg p-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Estadísticas"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[c.jsx("div",{className:"flex items-center space-x-3",children:c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Ingresos Mensuales"})}),c.jsxs("p",{className:"text-3xl font-bold text-tent-orange mt-4",children:["$",t.monthlyRevenue]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[c.jsx("div",{className:"flex items-center space-x-3",children:c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Ingresos Semanales"})}),c.jsxs("p",{className:"text-3xl font-bold text-tent-orange mt-4",children:["$",t.weeklyRevenue]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[c.jsx("div",{className:"flex items-center space-x-3",children:c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Ingresos Diarios"})}),c.jsxs("p",{className:"text-3xl font-bold text-tent-orange mt-4",children:["$",t.dailyRevenue]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(b5,{className:"text-tent-orange",size:24}),c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Planes Más Contratados"})]}),c.jsx("p",{className:"text-lg font-medium text-gray-700 mt-4",children:t.popularPlans.join(", ")})]}),c.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Pc,{className:"text-tent-orange",size:24}),c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Usuarios Activos"})]}),c.jsx("p",{className:"text-3xl font-bold text-tent-orange mt-4",children:t.activeUsers})]}),c.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Pc,{className:"text-tent-orange",size:24}),c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Total de Usuarios"})]}),c.jsx("p",{className:"text-3xl font-bold text-tent-orange mt-4",children:t.totalUsers})]})]})]})},pq=({plans:t,formData:e,setFormData:n,editingId:r,onSubmit:s,onDelete:i,onEdit:o,onCheckStudentsUsingPlan:u})=>{const[h,f]=ee.useState(new Set),[m,x]=ee.useState(!1),[v,_]=ee.useState({show:!1,planId:"",planName:"",studentsCount:0}),A=(I,L=0)=>{const k=I.toLowerCase();return k.includes("diario")||k.includes("día")||k.includes("day")||k.includes("pase")&&(k.includes("diario")||k.includes("día"))||L<=8e3},w=I=>A(I.name,I.price)?"diario":"mensual",N=I=>{const L=[];return A(I.name,I.price)?I.price>1e4&&L.push("Los pases diarios suelen tener un precio menor a $10,000"):(I.price<5e3&&L.push("Los planes mensuales suelen tener un precio mayor a $5,000"),(!I.days||I.days.trim()==="")&&L.push("Los planes mensuales deben especificar días de la semana")),(!I.name||I.name.trim()==="")&&L.push("El nombre del plan es obligatorio"),(!I.price||I.price<=0)&&L.push("El precio debe ser mayor a 0"),L},M=I=>{const L=new Set(h);L.has(I)?L.delete(I):L.add(I),f(L)},j=(I,L)=>{o(I,L),x(!0)},O=async(I,L)=>{let k=0;if(u)try{k=await u(I)}catch(Ae){console.error("Error verificando estudiantes:",Ae)}_({show:!0,planId:I,planName:L,studentsCount:k})},z=()=>{v.studentsCount===0&&i(v.planId),_({show:!1,planId:"",planName:"",studentsCount:0})},ne=()=>{_({show:!1,planId:"",planName:"",studentsCount:0})},re=I=>{if(!I)return"No especificado";const L={Lunes:"L",Martes:"M",Miércoles:"X",Jueves:"J",Viernes:"V",Sábado:"S",Domingo:"D"};return I.split(",").map(k=>L[k.trim()]||k.trim()).join("")},P=(I,L)=>I.length>L?I.substring(0,L)+"...":I,T={total:t.length,diarios:t.filter(I=>A(I.name,I.price)).length,mensuales:t.filter(I=>!A(I.name,I.price)).length},b=N(e),R=A(e.name,e.price);return c.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[c.jsx("div",{className:"bg-gradient-to-r from-tent-orange to-tent-orange p-6",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"bg-white/20 rounded-xl p-2",children:c.jsx(Qi,{className:"text-white",size:24})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Planes"}),c.jsxs("p",{className:"text-orange-100 text-sm",children:["Gestión de planes de entrenamiento • ",T.total," planes (",T.diarios," diarios, ",T.mensuales," mensuales)"]})]})]}),c.jsxs(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(!m),className:"bg-white/20 hover:bg-white/30 text-white rounded-xl px-4 py-2 font-medium transition-all duration-200 flex items-center space-x-2",children:[m?c.jsx(b1,{size:20}):c.jsx(q0,{size:20}),c.jsxs("span",{children:[m?"Ocultar":"Mostrar"," Formulario"]})]})]})}),c.jsx(un,{children:m&&c.jsx(Te.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"bg-gradient-to-br from-green-50 to-orange-50 border-b border-gray-200 overflow-hidden",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[c.jsx("div",{className:"w-1 h-6 bg-green-500 rounded-full mr-3"}),r?"Editar Plan":"Agregar Nuevo Plan"]}),e.name&&c.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full text-sm font-medium ${R?"bg-yellow-100 text-yellow-800 border border-yellow-300":"bg-blue-100 text-blue-800 border border-blue-300"}`,children:[R?c.jsx(fc,{size:16}):c.jsx(S1,{size:16}),c.jsxs("span",{children:["Plan ",R?"Diario":"Mensual"]})]})]}),e.name&&c.jsx("div",{className:`mb-4 p-3 rounded-lg border ${R?"bg-yellow-50 border-yellow-200":"bg-blue-50 border-blue-200"}`,children:c.jsxs("div",{className:"flex items-start space-x-2",children:[c.jsx(n6,{size:16,className:`mt-0.5 ${R?"text-yellow-600":"text-blue-600"}`}),c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:`font-medium ${R?"text-yellow-800":"text-blue-800"}`,children:R?"Pase Diario Detectado":"Plan Mensual Detectado"}),c.jsx("p",{className:`${R?"text-yellow-700":"text-blue-700"}`,children:R?"Vigencia: hasta las 23:59:59 del día de contratación":"Vigencia: 30 días desde la fecha de pago"})]})]})}),b.length>0&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:c.jsxs("div",{className:"flex items-start space-x-2",children:[c.jsx(qs,{size:16,className:"text-red-600 mt-0.5"}),c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:"font-medium text-red-800 mb-1",children:"Advertencias de configuración:"}),c.jsx("ul",{className:"text-red-700 space-y-1",children:b.map((I,L)=>c.jsxs("li",{className:"text-xs",children:["• ",I]},L))})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 mb-6",children:[c.jsx("div",{className:"relative",children:c.jsx("input",{type:"text",placeholder:"Nombre del plan (ej: Pase Diario, Plan Mensual)",value:e.name,onChange:I=>n({...e,name:I.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-tent-orange focus:border-transparent bg-white/80 backdrop-blur-sm"})}),c.jsxs("div",{className:"relative",children:[c.jsx(Cc,{className:"absolute left-3 top-3.5 text-gray-400",size:20}),c.jsx("input",{type:"number",placeholder:"0.00",value:e.price,onChange:I=>n({...e,price:Number(I.target.value)}),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-tent-orange focus:border-transparent bg-white/80 backdrop-blur-sm"}),c.jsx("span",{className:"absolute right-3 top-3.5 text-gray-400 text-sm font-medium",children:"ARS"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Cr,{className:"absolute left-3 top-3.5 text-gray-400",size:20}),c.jsx("input",{type:"time",value:e.startHour,onChange:I=>n({...e,startHour:I.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white/80 backdrop-blur-sm"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Cr,{className:"absolute left-3 top-3.5 text-gray-400",size:20}),c.jsx("input",{type:"time",value:e.endHour,onChange:I=>n({...e,endHour:I.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-tent-orange focus:border-transparent bg-white/80 backdrop-blur-sm"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Días de la semana ",R&&c.jsx("span",{className:"text-yellow-600",children:"(Opcional para pases diarios)"})]}),c.jsx("div",{className:"grid grid-cols-7 gap-1",children:[{key:"Lunes",label:"L"},{key:"Martes",label:"M"},{key:"Miércoles",label:"X"},{key:"Jueves",label:"J"},{key:"Viernes",label:"V"},{key:"Sábado",label:"S"},{key:"Domingo",label:"D"}].map(I=>{const L=e.days?.split(",").map(Ae=>Ae.trim())||[],k=L.includes(I.key);return c.jsxs("label",{className:"flex flex-col items-center",children:[c.jsx("input",{type:"checkbox",checked:k,onChange:Ae=>{const Ce=Ae.target.checked?[...L,I.key]:L.filter(Ue=>Ue!==I.key);n({...e,days:Ce.join(", ")})},className:"sr-only"}),c.jsx("div",{className:`w-8 h-8 rounded-lg border-2 flex items-center justify-center text-xs font-medium cursor-pointer transition-all duration-200 ${k?"bg-green-500 border-green-500 text-white":"bg-white border-gray-300 text-gray-600 hover:border-green-300"}`,children:I.label})]},I.key)})})]})]}),c.jsx("div",{className:"mb-6",children:c.jsx("textarea",{placeholder:"Descripción del plan...",value:e.description,onChange:I=>n({...e,description:I.target.value}),rows:3,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-tent-orange focus:border-transparent resize-none bg-white/80 backdrop-blur-sm"})}),c.jsx("div",{className:"flex justify-end",children:c.jsxs(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:s,className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-tent-green to-tent-green text-white rounded-xl font-medium hover:from-green-600 hover:to-tent-green transition-all duration-200 shadow-lg hover:shadow-xl",children:[c.jsx(A1,{size:20}),c.jsx("span",{children:r?"Actualizar Plan":"Agregar Plan"})]})})]})})}),c.jsx("div",{className:"p-6",children:t.length===0?c.jsxs("div",{className:"text-center py-16 text-gray-500",children:[c.jsx("div",{className:"bg-gray-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:c.jsx(Qi,{size:32})}),c.jsx("p",{className:"text-lg font-medium",children:"No hay planes disponibles"}),c.jsx("p",{className:"text-sm",children:"Agrega tu primer plan para comenzar"})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:["Planes Disponibles (",t.length,")"]}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:t.map(I=>{const L=w(I);return c.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-white to-gray-50 rounded-xl border border-gray-200 hover:border-orange-300 transition-all duration-200 hover:shadow-md overflow-hidden",children:[c.jsx("div",{className:"p-4 border-b border-gray-100",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("h4",{className:"font-semibold text-gray-900 text-lg truncate",children:I.name}),c.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${L==="diario"?"bg-yellow-100 text-yellow-800 border border-yellow-300":"bg-blue-100 text-blue-800 border border-blue-300"}`,children:L==="diario"?"📅 Diario":"🗓️ Mensual"})]}),c.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[c.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["$",I.price]}),c.jsx("span",{className:"text-sm px-2 py-1 rounded-full text-gray-500 bg-gray-100",children:re(I.days)})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-2",children:L==="diario"?"Vigencia: Hasta las 23:59 del día":"Vigencia: 30 días desde el pago"})]}),c.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[c.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>j(I.id,I),className:"text-tent-orange hover:text-tent-orange p-2 rounded-lg hover:bg-orange-50 transition-colors",title:"Editar plan",children:c.jsx(Jb,{size:16})}),c.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>O(I.id,I.name),className:"text-red-500 hover:text-red-600 p-2 rounded-lg hover:bg-red-50 transition-colors",title:"Eliminar plan",children:c.jsx(Ic,{size:16})})]})]})}),c.jsxs("div",{className:"p-4",children:[c.jsx("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-3",children:c.jsxs("span",{className:"flex items-center",children:[c.jsx(Cr,{size:14,className:"mr-1"}),I.startHour," - ",I.endHour]})}),c.jsxs("div",{className:"text-sm text-gray-700 leading-relaxed",children:[h.has(I.id)?c.jsx("p",{children:I.description}):c.jsx("p",{children:P(I.description,80)}),I.description&&I.description.length>80&&c.jsx("button",{onClick:()=>M(I.id),className:"text-orange-500 hover:text-orange-600 text-xs font-medium mt-2 flex items-center",children:h.has(I.id)?c.jsxs(c.Fragment,{children:[c.jsx(Kb,{size:14,className:"mr-1"}),"Ver menos"]}):c.jsxs(c.Fragment,{children:[c.jsx(K0,{size:14,className:"mr-1"}),"Ver más"]})})]})]})]},I.id)})})]})}),c.jsx(un,{children:v.show&&c.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs(Te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-6 max-w-md w-full mx-4",children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${v.studentsCount>0?"bg-red-100":"bg-orange-100"}`,children:v.studentsCount>0?c.jsx(Ji,{className:"text-red-600",size:24}):c.jsx(qs,{className:"text-orange-600",size:24})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:v.studentsCount>0?"No se puede eliminar":"Confirmar eliminación"}),c.jsxs("p",{className:"text-sm text-gray-500",children:["Plan: ",v.planName]})]})]})}),c.jsx("div",{className:"mb-6",children:v.studentsCount>0?c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[c.jsx("p",{className:"text-red-800 text-sm",children:c.jsx("strong",{children:"No se puede eliminar este plan."})}),c.jsxs("p",{className:"text-red-700 text-sm mt-2",children:["Hay ",c.jsxs("strong",{children:[v.studentsCount," estudiante",v.studentsCount!==1?"s":""]})," "," ","asignado",v.studentsCount!==1?"s":""," a este plan. Primero debes reasignar o eliminar estos estudiantes."]})]}):c.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[c.jsxs("p",{className:"text-orange-800 text-sm",children:["¿Estás seguro de que quieres eliminar el plan ",c.jsxs("strong",{children:['"',v.planName,'"']}),"?"]}),c.jsx("p",{className:"text-orange-700 text-sm mt-2",children:"Esta acción no se puede deshacer."})]})}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:ne,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",children:v.studentsCount>0?"Entendido":"Cancelar"}),v.studentsCount===0&&c.jsx(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:z,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-colors",children:"Eliminar Plan"})]})]})})})]})},gq=()=>{const[t,e]=ee.useState({students:{total:0,activos:0,pendientes:0,noPagados:0,alumnosRegulares:0,presentados:0,noPresentados:0,planDistribution:{}},sessions:{total:0,enCowork:0,hoy:0},payments:{total:0,hoy:0,pendientes:0,mediosPago:{}},plans:{total:0,masUsado:""}}),[n,r]=ee.useState(!0),s=Lh(),i=["Efectivo","Mercado Pago Transferencia","Mercado Pago Posnet","Mercado Pago Hospedado"];ee.useEffect(()=>{o()},[]);const o=async()=>{try{r(!0);const[w,N,M,j]=await Promise.all([Wt(zt(st,"students")),Wt(zt(st,"sessions")),Wt(zt(st,"payments")),Wt(zt(st,"plans"))]),O=w.docs.map(b=>b.data()),z=j.docs.map(b=>({id:b.id,...b.data()})),ne=u(O,z),re=h(N.docs.map(b=>b.data())),P=f(M.docs.map(b=>b.data())),T=m(z,O);e({students:ne,sessions:re,payments:P,plans:T})}catch(w){console.error("Error fetching metrics:",w)}finally{r(!1)}},u=(w,N)=>{const M=w.length;let j=0,O=0,z=0,ne=0,re=0,P=0;const T={};return N.forEach(b=>{T[b.name]=0}),w.forEach(b=>{const R=b.membresia?.estado;R==="activa"?j++:R==="pendiente"?O++:z++;const I=b.certificado;I==!0?(ne++,re++):I==null?P++:console.log("❓ Tipo no reconocido:",I);const L=b.plan||b.membresia?.nombre;L&&T.hasOwnProperty(L)&&T[L]++}),{total:M,activos:j,pendientes:O,noPagados:z,alumnosRegulares:ne,presentados:re,noPresentados:P,planDistribution:T}},h=w=>{const N=w.length,M=new Date().toDateString(),j=w.filter(z=>!z.checkOutTimestamp).length,O=w.filter(z=>z.checkInTimestamp?(z.checkInTimestamp.toDate?z.checkInTimestamp.toDate():new Date(z.checkInTimestamp)).toDateString()===M:!1).length;return{total:N,enCowork:j,hoy:O}},f=w=>{const N=w.length,M=new Date().toDateString();let j=0,O=0;const z={};return i.forEach(ne=>{z[ne]=0}),w.forEach(ne=>{ne.fecha&&(ne.fecha.toDate?ne.fecha.toDate():new Date(ne.fecha)).toDateString()===M&&(j+=ne.monto||0),ne.estado==="pendiente"&&O++;const re=ne.medioPago||ne.medoPago||"Efectivo";z.hasOwnProperty(re)?(z[re]++,console.log("✅ Medio encontrado y contado:",re)):(console.log("❌ Medio no reconocido:",re),z.Otros||(z.Otros=0),z.Otros++)}),{total:N,hoy:j,pendientes:O,mediosPago:z}},m=(w,N)=>{const M=w.length,j={};N.forEach(z=>{const ne=z.plan||z.membresia?.nombre;ne&&(j[ne]=(j[ne]||0)+1)});const O=Object.entries(j).reduce((z,ne)=>j[z[0]]>j[ne[0]]?z:ne)?.[0]||"Ninguno";return{total:M,masUsado:O}},x=async()=>{try{await Rc(On),s("/login")}catch(w){console.error("Error logging out: ",w)}},v=({title:w,icon:N,onClick:M,children:j,gradient:O})=>c.jsxs(Te.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:M,className:`${O} rounded-2xl p-6 cursor-pointer shadow-lg hover:shadow-xl transition-all duration-200`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"bg-white/20 rounded-xl p-2",children:N}),c.jsx("h3",{className:"text-xl font-bold text-white",children:w})]}),c.jsx(Ac,{className:"text-white/80",size:20})]}),c.jsx("div",{className:"space-y-2",children:j})]}),_=({label:w,value:N,icon:M})=>c.jsxs("div",{className:"flex items-center justify-between text-white/90",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[M,c.jsxs("span",{className:"text-sm",children:[w,":"]})]}),c.jsx("span",{className:"font-semibold",children:N})]}),A=w=>w==="Efectivo"?c.jsx(x5,{size:14}):c.jsx(ia,{size:14});return n?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:"w-16 h-16 border-4 border-tent-orange border-dashed rounded-full animate-spin mb-4"}),c.jsx("p",{className:"text-gray-600 font-medium",children:"Cargando métricas..."})]})}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-6",children:c.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Panel de Administración"}),c.jsx("p",{className:"text-gray-600",children:"Vista general del coworking"})]}),c.jsxs(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:x,className:"flex items-center space-x-2 px-6 py-3 bg-red-500 text-white rounded-xl font-medium hover:bg-red-600 transition-all duration-200",children:[c.jsx(N1,{size:20}),c.jsx("span",{children:"Cerrar Sesión"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[c.jsxs(v,{title:"Estudiantes",icon:c.jsx(Pc,{className:"text-white",size:24}),onClick:()=>s("/admin/students"),gradient:"bg-gradient-to-br from-blue-500 to-blue-600",children:[c.jsx(_,{label:"Total",value:t.students.total}),c.jsx(_,{label:"Activos",value:t.students.activos,icon:c.jsx(R6,{size:14})}),c.jsx(_,{label:"Pendientes",value:t.students.pendientes,icon:c.jsx(Cr,{size:14})}),c.jsx(_,{label:"Sin pagar",value:t.students.noPagados,icon:c.jsx(ux,{size:14})}),c.jsxs("div",{className:"border-t border-white/20 pt-2 mt-2",children:[c.jsx(_,{label:"Alumnos Regulares",value:t.students.alumnosRegulares}),c.jsx(_,{label:"Presentados",value:t.students.presentados}),c.jsx(_,{label:"No Presentados",value:t.students.noPresentados})]}),c.jsx("div",{className:"border-t border-white/20 pt-2 mt-2",children:Object.entries(t.students.planDistribution).map(([w,N])=>c.jsx(_,{label:w,value:N},w))})]}),c.jsxs(v,{title:"Sesiones",icon:c.jsx(zb,{className:"text-white",size:24}),onClick:()=>s("/admin/sessions"),gradient:"bg-gradient-to-br from-green-500 to-green-600",children:[c.jsx(_,{label:"Total",value:t.sessions.total}),c.jsx(_,{label:"En el Cowork",value:t.sessions.enCowork,icon:c.jsx(Hb,{size:14})}),c.jsx(_,{label:"Hoy",value:t.sessions.hoy,icon:c.jsx(Cr,{size:14})})]}),c.jsxs(v,{title:"Pagos",icon:c.jsx(Cc,{className:"text-white",size:24}),onClick:()=>s("/admin/payments"),gradient:"bg-gradient-to-br from-emerald-500 to-emerald-600",children:[c.jsx(_,{label:"Total",value:t.payments.total}),c.jsx(_,{label:"Hoy",value:`$${t.payments.hoy.toLocaleString()}`,icon:c.jsx(Cc,{size:14})}),c.jsx(_,{label:"Pendientes",value:t.payments.pendientes,icon:c.jsx(Cr,{size:14})}),c.jsx("div",{className:"border-t border-white/20 pt-2 mt-2",children:Object.entries(t.payments.mediosPago).map(([w,N])=>c.jsx(_,{label:w,value:N,icon:A(w)},w))})]}),c.jsxs(v,{title:"Planes",icon:c.jsx(Qi,{className:"text-white",size:24}),onClick:()=>s("/admin/plans"),gradient:"bg-gradient-to-br from-orange-500 to-orange-600",children:[c.jsx(_,{label:"Total",value:t.plans.total}),c.jsx(_,{label:"Más usado",value:t.plans.masUsado})]}),c.jsxs(v,{title:"Estadísticas",icon:c.jsx(T5,{className:"text-white",size:24}),onClick:()=>s("/admin/stats"),gradient:"bg-gradient-to-br from-purple-500 to-purple-600",children:[c.jsx(_,{label:"Ver reportes",value:"detallados"}),c.jsx(_,{label:"Análisis",value:"completo"})]})]}),c.jsx("div",{className:"flex justify-center mt-8",children:c.jsx(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:o,className:"px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-xl font-medium transition-all duration-200",children:"Actualizar métricas"})})]})})},xq=()=>{const[t,e]=ee.useState(null),[n,r]=ee.useState([]),[s,i]=ee.useState({id:"",name:"",price:0,days:"",startHour:"",endHour:"",description:""}),[o,u]=ee.useState(null),h=Lh(),f=zx();ee.useEffect(()=>{const j=On.onAuthStateChanged(async O=>{if(O){const z=O.uid,ne=$t(st,"admin",z);(await Ph(ne)).exists()?(e(O),await m()):(await Rc(On),h("/login"))}else h("/login")});return()=>j()},[h]);const m=async()=>{try{const O=(await Wt(zt(st,"plans"))).docs.map(z=>({id:z.id,...z.data()}));r(O)}catch(j){console.error("Error fetching plans: ",j)}},x=async j=>{try{const O=n.find(R=>R.id===j);if(!O)return console.log("❌ Plan no encontrado"),0;console.log("Plan encontrado:",O.name);const z=zt(st,"students");let ne=0;console.log("🔍 Buscando por campo plan =",O.name);let re=Zs(z,Ss("plan","==",O.name)),P=await Wt(re);ne+=P.size,P.size>0&&(console.log(`✅ Encontrados ${P.size} estudiantes con plan="${O.name}"`),P.docs.forEach(R=>{console.log(`📍 Estudiante: ${R.data().fullName||R.data().name||"Sin nombre"}`)})),console.log("🔍 Buscando por membresia.nombre =",O.name),re=Zs(z,Ss("membresia.nombre","==",O.name)),P=await Wt(re),P.size>0?(console.log(`✅ Encontrados ${P.size} estudiantes adicionales con membresia.nombre="${O.name}"`),P.docs.forEach(R=>{const I=R.data();I.plan!==O.name&&(ne+=1,console.log(`📍 Estudiante adicional: ${I.fullName||I.name||"Sin nombre"}`))})):console.log("ℹ️ No se encontraron estudiantes adicionales por membresia.nombre"),console.log("🔍 Verificación exhaustiva para debug...");const T=await Wt(z);let b=0;return T.docs.forEach(R=>{const I=R.data();(I.plan===O.name||I.membresia?.nombre===O.name)&&(b++,console.log(`🔎 Debug - Estudiante: ${I.fullName||I.name||"Sin nombre"}, Plan: "${I.plan}", Membresía: "${I.membresia?.nombre}"`))}),b}catch(O){return console.error("❌ Error verificando estudiantes:",O),0}},v=async()=>{try{if(o){const j=$t(st,"plans",o);await Fn(j,{name:s.name,price:s.price,days:s.days,startHour:s.startHour,endHour:s.endHour,description:s.description}),u(null)}else await gm(zt(st,"plans"),{name:s.name,price:s.price,days:s.days,startHour:s.startHour,endHour:s.endHour,description:s.description});i({id:"",name:"",price:0,days:"",startHour:"",endHour:"",description:""}),await m()}catch(j){console.error("Error saving plan: ",j)}},_=async j=>{try{await S0($t(st,"plans",j)),await m()}catch(O){console.error("Error deleting plan: ",O)}},A=(j,O)=>{u(j),i({id:O.id,name:O.name,price:O.price,days:O.days,startHour:O.startHour,endHour:O.endHour,description:O.description})},w=async()=>{try{await Rc(On),h("/login")}catch(j){console.error("Error logging out: ",j)}},N=()=>{switch(f.pathname){case"/admin":return"Dashboard";case"/admin/students":return"Gestión de Estudiantes";case"/admin/sessions":return"Sesiones Activas";case"/admin/payments":return"Gestión de Pagos";case"/admin/plans":return"Editor de Planes";case"/admin/stats":return"Estadísticas y Reportes";default:return"Administración"}},M=({title:j})=>c.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mb-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>h("/admin"),className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-medium transition-all duration-200",children:[c.jsx(e6,{size:16}),c.jsx("span",{children:"Dashboard"})]}),c.jsx("div",{className:"h-6 w-px bg-gray-300"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:j})]}),c.jsxs(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:w,className:"flex items-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-xl font-medium hover:bg-red-600 transition-all duration-200",children:[c.jsx(N1,{size:16}),c.jsx("span",{children:"Cerrar Sesión"})]})]})});return t?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:c.jsxs(uS,{children:[c.jsx(es,{path:"/",element:c.jsx(gq,{})}),c.jsx(es,{path:"/students",element:c.jsx("div",{className:"p-6",children:c.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-7xl mx-auto",children:[c.jsx(M,{title:N()}),c.jsx(lq,{})]})})}),c.jsx(es,{path:"/sessions",element:c.jsx("div",{className:"p-6",children:c.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-7xl mx-auto",children:[c.jsx(M,{title:N()}),c.jsx(fq,{})]})})}),c.jsx(es,{path:"/payments",element:c.jsx("div",{className:"p-6",children:c.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-7xl mx-auto",children:[c.jsx(M,{title:N()}),c.jsx(dq,{})]})})}),c.jsx(es,{path:"/plans",element:c.jsx("div",{className:"p-6",children:c.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-7xl mx-auto",children:[c.jsx(M,{title:N()}),c.jsx(pq,{plans:n,formData:s,setFormData:i,editingId:o,onSubmit:v,onDelete:_,onEdit:A,onCheckStudentsUsingPlan:x})]})})}),c.jsx(es,{path:"/stats",element:c.jsx("div",{className:"p-6",children:c.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-7xl mx-auto",children:[c.jsx(M,{title:N()}),c.jsx(mq,{})]})})})]})}):null};function vq(){return c.jsx(f7,{children:c.jsxs(uS,{children:[c.jsx(es,{path:"/",element:c.jsx(oT,{})}),c.jsx(es,{path:"/checkin",element:c.jsx(l7,{})}),c.jsx(es,{path:"/register",element:c.jsx(oT,{})}),c.jsx(es,{path:"/login",element:c.jsx(u7,{})}),c.jsx(es,{path:"/admin/*",element:c.jsx(xq,{})}),c.jsx(es,{path:"/profile",element:c.jsx(y7,{})})]})})}var Mf={},YT;function yq(){if(YT)return Mf;YT=1;var t=JT();return Mf.createRoot=t.createRoot,Mf.hydrateRoot=t.hydrateRoot,Mf}var _q=yq();const wq=QT(_q);wq.createRoot(document.getElementById("root")).render(c.jsx(Sc.StrictMode,{children:c.jsx(yk,{children:c.jsx(vq,{})})}));
